"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
exports.id = "vendor-chunks/posthog-js";
exports.ids = ["vendor-chunks/posthog-js"];
exports.modules = {

/***/ "(ssr)/../../node_modules/posthog-js/dist/module.js":
/*!****************************************************!*\
  !*** ../../node_modules/posthog-js/dist/module.js ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   COPY_AUTOCAPTURE_EVENT: () => (/* binding */ g),\n/* harmony export */   Compression: () => (/* binding */ e),\n/* harmony export */   PostHog: () => (/* binding */ Co),\n/* harmony export */   SurveyQuestionBranchingType: () => (/* binding */ nn),\n/* harmony export */   SurveyQuestionType: () => (/* binding */ rn),\n/* harmony export */   SurveySchedule: () => (/* binding */ on),\n/* harmony export */   SurveyType: () => (/* binding */ sn),\n/* harmony export */   \"default\": () => (/* binding */ Ro),\n/* harmony export */   knownUnsafeEditableEvent: () => (/* binding */ v),\n/* harmony export */   posthog: () => (/* binding */ Ro),\n/* harmony export */   severityLevels: () => (/* binding */ f)\n/* harmony export */ });\nvar e,t=\"undefined\"!=typeof window?window:void 0,i=\"undefined\"!=typeof globalThis?globalThis:t,s=Array.prototype,r=s.forEach,n=s.indexOf,o=null==i?void 0:i.navigator,a=null==i?void 0:i.document,l=null==i?void 0:i.location,c=null==i?void 0:i.fetch,u=null!=i&&i.XMLHttpRequest&&\"withCredentials\"in new i.XMLHttpRequest?i.XMLHttpRequest:void 0,d=null==i?void 0:i.AbortController,h=null==o?void 0:o.userAgent,_=null!=t?t:{},p={DEBUG:!1,LIB_VERSION:\"1.231.0\"},g=\"$copy_autocapture\",v=[\"$snapshot\",\"$pageview\",\"$pageleave\",\"$set\",\"survey dismissed\",\"survey sent\",\"survey shown\",\"$identify\",\"$groupidentify\",\"$create_alias\",\"$$client_ingestion_warning\",\"$web_experiment_applied\",\"$feature_enrollment_update\",\"$feature_flag_called\"];!function(e){e.GZipJS=\"gzip-js\",e.Base64=\"base64\"}(e||(e={}));var f=[\"fatal\",\"error\",\"warning\",\"log\",\"info\",\"debug\"];function m(e,t){return-1!==e.indexOf(t)}var y=function(e){return e.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,\"\")},b=function(e){return e.replace(/^\\$/,\"\")};var w=Array.isArray,S=Object.prototype,k=S.hasOwnProperty,E=S.toString,x=w||function(e){return\"[object Array]\"===E.call(e)},I=e=>\"function\"==typeof e,P=e=>e===Object(e)&&!x(e),C=e=>{if(P(e)){for(var t in e)if(k.call(e,t))return!1;return!0}return!1},F=e=>void 0===e,R=e=>\"[object String]\"==E.call(e),T=e=>R(e)&&0===e.trim().length,$=e=>null===e,A=e=>F(e)||$(e),O=e=>\"[object Number]\"==E.call(e),M=e=>\"[object Boolean]\"===E.call(e),L=e=>e instanceof FormData,D=e=>e instanceof Error,q=e=>m(v,e),N=e=>{var i={_log:function(i){if(t&&(p.DEBUG||_.POSTHOG_DEBUG)&&!F(t.console)&&t.console){for(var s=(\"__rrweb_original__\"in t.console[i]?t.console[i].__rrweb_original__:t.console[i]),r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];s(e,...n)}},info:function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];i._log(\"log\",...t)},warn:function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];i._log(\"warn\",...t)},error:function(){for(var e=arguments.length,t=new Array(e),s=0;s<e;s++)t[s]=arguments[s];i._log(\"error\",...t)},critical:function(){for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];console.error(e,...i)},uninitializedWarning:e=>{i.error(\"You must initialize PostHog before calling \".concat(e))},createLogger:t=>N(\"\".concat(e,\" \").concat(t))};return i},B=N(\"[PostHog.js]\"),H=B.createLogger,U=H(\"[ExternalScriptsLoader]\"),z=(e,t,i)=>{if(e.config.disable_external_dependency_loading)return U.warn(\"\".concat(t,\" was requested but loading of external scripts is disabled.\")),i(\"Loading of external scripts is disabled\");var s=null==a?void 0:a.querySelectorAll(\"script\");if(s)for(var r=0;r<s.length;r++)if(s[r].src===t)return i();var n=()=>{if(!a)return i(\"document not found\");var s=a.createElement(\"script\");if(s.type=\"text/javascript\",s.crossOrigin=\"anonymous\",s.src=t,s.onload=e=>i(void 0,e),s.onerror=e=>i(e),e.config.prepare_external_dependency_script&&(s=e.config.prepare_external_dependency_script(s)),!s)return i(\"prepare_external_dependency_script returned null\");var r,n=a.querySelectorAll(\"body > script\");n.length>0?null===(r=n[0].parentNode)||void 0===r||r.insertBefore(s,n[0]):a.body.appendChild(s)};null!=a&&a.body?n():null==a||a.addEventListener(\"DOMContentLoaded\",n)};function j(e,t){var i=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.push.apply(i,s)}return i}function W(e){for(var t=1;t<arguments.length;t++){var i=null!=arguments[t]?arguments[t]:{};t%2?j(Object(i),!0).forEach((function(t){V(e,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):j(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function V(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}function G(e,t){if(null==e)return{};var i,s,r=function(e,t){if(null==e)return{};var i,s,r={},n=Object.keys(e);for(s=0;s<n.length;s++)i=n[s],t.indexOf(i)>=0||(r[i]=e[i]);return r}(e,t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);for(s=0;s<n.length;s++)i=n[s],t.indexOf(i)>=0||Object.prototype.propertyIsEnumerable.call(e,i)&&(r[i]=e[i])}return r}_.__PosthogExtensions__=_.__PosthogExtensions__||{},_.__PosthogExtensions__.loadExternalDependency=(e,t,i)=>{var s=\"/static/\".concat(t,\".js\")+\"?v=\".concat(e.version);if(\"remote-config\"===t&&(s=\"/array/\".concat(e.config.token,\"/config.js\")),\"toolbar\"===t){var r=3e5,n=Math.floor(Date.now()/r)*r;s=\"\".concat(s,\"&t=\").concat(n)}var o=e.requestRouter.endpointFor(\"assets\",s);z(e,o,i)},_.__PosthogExtensions__.loadSiteApp=(e,t,i)=>{var s=e.requestRouter.endpointFor(\"api\",t);z(e,s,i)};var J={};function Y(e,t,i){if(x(e))if(r&&e.forEach===r)e.forEach(t,i);else if(\"length\"in e&&e.length===+e.length)for(var s=0,n=e.length;s<n;s++)if(s in e&&t.call(i,e[s],s)===J)return}function K(e,t,i){if(!A(e)){if(x(e))return Y(e,t,i);if(L(e)){for(var s of e.entries())if(t.call(i,s[1],s[0])===J)return}else for(var r in e)if(k.call(e,r)&&t.call(i,e[r],r)===J)return}}var X=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];return Y(i,(function(t){for(var i in t)void 0!==t[i]&&(e[i]=t[i])})),e},Q=function(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];return Y(i,(function(t){Y(t,(function(t){e.push(t)}))})),e};function Z(e){for(var t=Object.keys(e),i=t.length,s=new Array(i);i--;)s[i]=[t[i],e[t[i]]];return s}var ee=function(e){try{return e()}catch(e){return}},te=function(e){return function(){try{for(var t=arguments.length,i=new Array(t),s=0;s<t;s++)i[s]=arguments[s];return e.apply(this,i)}catch(e){B.critical(\"Implementation error. Please turn on debug mode and open a ticket on https://app.posthog.com/home#panel=support%3Asupport%3A.\"),B.critical(e)}}},ie=function(e){var t={};return K(e,(function(e,i){R(e)&&e.length>0&&(t[i]=e)})),t};function se(e,t){return i=e,s=e=>R(e)&&!$(t)?e.slice(0,t):e,r=new Set,function e(t,i){return t!==Object(t)?s?s(t,i):t:r.has(t)?void 0:(r.add(t),x(t)?(n=[],Y(t,(t=>{n.push(e(t))}))):(n={},K(t,((t,i)=>{r.has(t)||(n[i]=e(t,i))}))),n);var n}(i);var i,s,r}var re=[\"herokuapp.com\",\"vercel.app\",\"netlify.app\"];function ne(e){var t=null==e?void 0:e.hostname;if(!R(t))return!1;var i=t.split(\".\").slice(-2).join(\".\");for(var s of re)if(i===s)return!1;return!0}function oe(e,t){for(var i=0;i<e.length;i++)if(t(e[i]))return e[i]}function ae(e,t,i,s){var{capture:r=!1,passive:n=!0}=null!=s?s:{};null==e||e.addEventListener(t,i,{capture:r,passive:n})}var le=\"$people_distinct_id\",ce=\"__alias\",ue=\"__timers\",de=\"$autocapture_disabled_server_side\",he=\"$heatmaps_enabled_server_side\",_e=\"$exception_capture_enabled_server_side\",pe=\"$web_vitals_enabled_server_side\",ge=\"$dead_clicks_enabled_server_side\",ve=\"$web_vitals_allowed_metrics\",fe=\"$session_recording_enabled_server_side\",me=\"$console_log_recording_enabled_server_side\",ye=\"$session_recording_network_payload_capture\",be=\"$session_recording_masking\",we=\"$session_recording_canvas_recording\",Se=\"$replay_sample_rate\",ke=\"$replay_minimum_duration\",Ee=\"$replay_script_config\",xe=\"$sesid\",Ie=\"$session_is_sampled\",Pe=\"$session_recording_url_trigger_activated_session\",Ce=\"$session_recording_event_trigger_activated_session\",Fe=\"$enabled_feature_flags\",Re=\"$early_access_features\",Te=\"$stored_person_properties\",$e=\"$stored_group_properties\",Ae=\"$surveys\",Oe=\"$surveys_activated\",Me=\"$flag_call_reported\",Le=\"$user_state\",De=\"$client_session_props\",qe=\"$capture_rate_limit\",Ne=\"$initial_campaign_params\",Be=\"$initial_referrer_info\",He=\"$initial_person_info\",Ue=\"$epp\",ze=\"__POSTHOG_TOOLBAR__\",je=\"$posthog_cookieless\",We=[le,ce,\"__cmpns\",ue,fe,he,xe,Fe,Le,Re,$e,Te,Ae,Me,De,qe,Ne,Be,Ue];function Ve(e){var t;return e instanceof Element&&(e.id===ze||!(null===(t=e.closest)||void 0===t||!t.call(e,\".toolbar-global-fade-container\")))}function Ge(e){return!!e&&1===e.nodeType}function Je(e,t){return!!e&&!!e.tagName&&e.tagName.toLowerCase()===t.toLowerCase()}function Ye(e){return!!e&&3===e.nodeType}function Ke(e){return!!e&&11===e.nodeType}function Xe(e){return e?y(e).split(/\\s+/):[]}function Qe(e){var i=null==t?void 0:t.location.href;return!!(i&&e&&e.some((e=>i.match(e))))}function Ze(e){var t=\"\";switch(typeof e.className){case\"string\":t=e.className;break;case\"object\":t=(e.className&&\"baseVal\"in e.className?e.className.baseVal:null)||e.getAttribute(\"class\")||\"\";break;default:t=\"\"}return Xe(t)}function et(e){return A(e)?null:y(e).split(/(\\s+)/).filter((e=>pt(e))).join(\"\").replace(/[\\r\\n]/g,\" \").replace(/[ ]+/g,\" \").substring(0,255)}function tt(e){var t=\"\";return ot(e)&&!at(e)&&e.childNodes&&e.childNodes.length&&K(e.childNodes,(function(e){var i;Ye(e)&&e.textContent&&(t+=null!==(i=et(e.textContent))&&void 0!==i?i:\"\")})),y(t)}function it(e){return F(e.target)?e.srcElement||null:null!==(t=e.target)&&void 0!==t&&t.shadowRoot?e.composedPath()[0]||null:e.target||null;var t}var st=[\"a\",\"button\",\"form\",\"input\",\"select\",\"textarea\",\"label\"];function rt(e){var t=e.parentNode;return!(!t||!Ge(t))&&t}function nt(e,i){var s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0;if(!t||!e||Je(e,\"html\")||!Ge(e))return!1;if(null!=s&&s.url_allowlist&&!Qe(s.url_allowlist))return!1;if(null!=s&&s.url_ignorelist&&Qe(s.url_ignorelist))return!1;if(null!=s&&s.dom_event_allowlist){var o=s.dom_event_allowlist;if(o&&!o.some((e=>i.type===e)))return!1}for(var a=!1,l=[e],c=!0,u=e;u.parentNode&&!Je(u,\"body\");)if(Ke(u.parentNode))l.push(u.parentNode.host),u=u.parentNode.host;else{if(!(c=rt(u)))break;if(r||st.indexOf(c.tagName.toLowerCase())>-1)a=!0;else{var d=t.getComputedStyle(c);d&&\"pointer\"===d.getPropertyValue(\"cursor\")&&(a=!0)}l.push(c),u=c}if(!function(e,t){var i=null==t?void 0:t.element_allowlist;if(F(i))return!0;var s=function(e){if(i.some((t=>e.tagName.toLowerCase()===t)))return{v:!0}};for(var r of e){var n=s(r);if(\"object\"==typeof n)return n.v}return!1}(l,s))return!1;if(!function(e,t){var i=null==t?void 0:t.css_selector_allowlist;if(F(i))return!0;var s=function(e){if(i.some((t=>e.matches(t))))return{v:!0}};for(var r of e){var n=s(r);if(\"object\"==typeof n)return n.v}return!1}(l,s))return!1;var h=t.getComputedStyle(e);if(h&&\"pointer\"===h.getPropertyValue(\"cursor\")&&\"click\"===i.type)return!0;var _=e.tagName.toLowerCase();switch(_){case\"html\":return!1;case\"form\":return(n||[\"submit\"]).indexOf(i.type)>=0;case\"input\":case\"select\":case\"textarea\":return(n||[\"change\",\"click\"]).indexOf(i.type)>=0;default:return a?(n||[\"click\"]).indexOf(i.type)>=0:(n||[\"click\"]).indexOf(i.type)>=0&&(st.indexOf(_)>-1||\"true\"===e.getAttribute(\"contenteditable\"))}}function ot(e){for(var t=e;t.parentNode&&!Je(t,\"body\");t=t.parentNode){var i=Ze(t);if(m(i,\"ph-sensitive\")||m(i,\"ph-no-capture\"))return!1}if(m(Ze(e),\"ph-include\"))return!0;var s=e.type||\"\";if(R(s))switch(s.toLowerCase()){case\"hidden\":case\"password\":return!1}var r=e.name||e.id||\"\";if(R(r)){if(/^cc|cardnum|ccnum|creditcard|csc|cvc|cvv|exp|pass|pwd|routing|seccode|securitycode|securitynum|socialsec|socsec|ssn/i.test(r.replace(/[^a-zA-Z0-9]/g,\"\")))return!1}return!0}function at(e){return!!(Je(e,\"input\")&&![\"button\",\"checkbox\",\"submit\",\"reset\"].includes(e.type)||Je(e,\"select\")||Je(e,\"textarea\")||\"true\"===e.getAttribute(\"contenteditable\"))}var lt=\"(4[0-9]{12}(?:[0-9]{3})?)|(5[1-5][0-9]{14})|(6(?:011|5[0-9]{2})[0-9]{12})|(3[47][0-9]{13})|(3(?:0[0-5]|[68][0-9])[0-9]{11})|((?:2131|1800|35[0-9]{3})[0-9]{11})\",ct=new RegExp(\"^(?:\".concat(lt,\")$\")),ut=new RegExp(lt),dt=\"\\\\d{3}-?\\\\d{2}-?\\\\d{4}\",ht=new RegExp(\"^(\".concat(dt,\")$\")),_t=new RegExp(\"(\".concat(dt,\")\"));function pt(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(A(e))return!1;if(R(e)){if(e=y(e),(t?ct:ut).test((e||\"\").replace(/[- ]/g,\"\")))return!1;if((t?ht:_t).test(e))return!1}return!0}function gt(e){var t=tt(e);return pt(t=\"\".concat(t,\" \").concat(vt(e)).trim())?t:\"\"}function vt(e){var t=\"\";return e&&e.childNodes&&e.childNodes.length&&K(e.childNodes,(function(e){var i;if(e&&\"span\"===(null===(i=e.tagName)||void 0===i?void 0:i.toLowerCase()))try{var s=tt(e);t=\"\".concat(t,\" \").concat(s).trim(),e.childNodes&&e.childNodes.length&&(t=\"\".concat(t,\" \").concat(vt(e)).trim())}catch(e){B.error(\"[AutoCapture]\",e)}})),t}function ft(e){return function(e){var t=e.map((e=>{var t,i,s=\"\";if(e.tag_name&&(s+=e.tag_name),e.attr_class)for(var r of(e.attr_class.sort(),e.attr_class))s+=\".\".concat(r.replace(/\"/g,\"\"));var n=W(W(W(W({},e.text?{text:e.text}:{}),{},{\"nth-child\":null!==(t=e.nth_child)&&void 0!==t?t:0,\"nth-of-type\":null!==(i=e.nth_of_type)&&void 0!==i?i:0},e.href?{href:e.href}:{}),e.attr_id?{attr_id:e.attr_id}:{}),e.attributes),o={};return Z(n).sort(((e,t)=>{var[i]=e,[s]=t;return i.localeCompare(s)})).forEach((e=>{var[t,i]=e;return o[mt(t.toString())]=mt(i.toString())})),s+=\":\",s+=Z(n).map((e=>{var[t,i]=e;return\"\".concat(t,'=\"').concat(i,'\"')})).join(\"\")}));return t.join(\";\")}(function(e){return e.map((e=>{var t,i,s={text:null===(t=e.$el_text)||void 0===t?void 0:t.slice(0,400),tag_name:e.tag_name,href:null===(i=e.attr__href)||void 0===i?void 0:i.slice(0,2048),attr_class:yt(e),attr_id:e.attr__id,nth_child:e.nth_child,nth_of_type:e.nth_of_type,attributes:{}};return Z(e).filter((e=>{var[t]=e;return 0===t.indexOf(\"attr__\")})).forEach((e=>{var[t,i]=e;return s.attributes[t]=i})),s}))}(e))}function mt(e){return e.replace(/\"|\\\\\"/g,'\\\\\"')}function yt(e){var t=e.attr__class;return t?x(t)?t:Xe(t):void 0}class bt{constructor(){this.clicks=[]}isRageClick(e,t,i){var s=this.clicks[this.clicks.length-1];if(s&&Math.abs(e-s.x)+Math.abs(t-s.y)<30&&i-s.timestamp<1e3){if(this.clicks.push({x:e,y:t,timestamp:i}),3===this.clicks.length)return!0}else this.clicks=[{x:e,y:t,timestamp:i}];return!1}}var wt=[\"localhost\",\"127.0.0.1\"],St=e=>{var t=null==a?void 0:a.createElement(\"a\");return F(t)?null:(t.href=e,t)},kt=function(e){var t,i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"&\",r=[];return K(e,(function(e,s){F(e)||F(s)||\"undefined\"===s||(t=encodeURIComponent((e=>e instanceof File)(e)?e.name:e.toString()),i=encodeURIComponent(s),r[r.length]=i+\"=\"+t)})),r.join(s)},Et=function(e,t){for(var i,s=((e.split(\"#\")[0]||\"\").split(/\\?(.*)/)[1]||\"\").replace(/^\\?+/g,\"\").split(\"&\"),r=0;r<s.length;r++){var n=s[r].split(\"=\");if(n[0]===t){i=n;break}}if(!x(i)||i.length<2)return\"\";var o=i[1];try{o=decodeURIComponent(o)}catch(e){B.error(\"Skipping decoding for malformed query param: \"+o)}return o.replace(/\\+/g,\" \")},xt=function(e,t,i){if(!e||!t||!t.length)return e;for(var s=e.split(\"#\"),r=s[0]||\"\",n=s[1],o=r.split(\"?\"),a=o[1],l=o[0],c=(a||\"\").split(\"&\"),u=[],d=0;d<c.length;d++){var h=c[d].split(\"=\");x(h)&&(t.includes(h[0])?u.push(h[0]+\"=\"+i):u.push(c[d]))}var _=l;return null!=a&&(_+=\"?\"+u.join(\"&\")),null!=n&&(_+=\"#\"+n),_},It=function(e,t){var i=e.match(new RegExp(t+\"=([^&]*)\"));return i?i[1]:null},Pt=H(\"[AutoCapture]\");function Ct(e,t){return t.length>e?t.slice(0,e)+\"...\":t}function Ft(e){if(e.previousElementSibling)return e.previousElementSibling;var t=e;do{t=t.previousSibling}while(t&&!Ge(t));return t}function Rt(e,t,i,s){var r=e.tagName.toLowerCase(),n={tag_name:r};st.indexOf(r)>-1&&!i&&(\"a\"===r.toLowerCase()||\"button\"===r.toLowerCase()?n.$el_text=Ct(1024,gt(e)):n.$el_text=Ct(1024,tt(e)));var o=Ze(e);o.length>0&&(n.classes=o.filter((function(e){return\"\"!==e}))),K(e.attributes,(function(i){var r;if((!at(e)||-1!==[\"name\",\"id\",\"class\",\"aria-label\"].indexOf(i.name))&&((null==s||!s.includes(i.name))&&!t&&pt(i.value)&&(r=i.name,!R(r)||\"_ngcontent\"!==r.substring(0,10)&&\"_nghost\"!==r.substring(0,7)))){var o=i.value;\"class\"===i.name&&(o=Xe(o).join(\" \")),n[\"attr__\"+i.name]=Ct(1024,o)}}));for(var a=1,l=1,c=e;c=Ft(c);)a++,c.tagName===e.tagName&&l++;return n.nth_child=a,n.nth_of_type=l,n}function Tt(e,i){for(var s,r,{e:n,maskAllElementAttributes:o,maskAllText:a,elementAttributeIgnoreList:l,elementsChainAsString:c}=i,u=[e],d=e;d.parentNode&&!Je(d,\"body\");)Ke(d.parentNode)?(u.push(d.parentNode.host),d=d.parentNode.host):(u.push(d.parentNode),d=d.parentNode);var h,_=[],p={},g=!1,v=!1;if(K(u,(e=>{var t=ot(e);\"a\"===e.tagName.toLowerCase()&&(g=e.getAttribute(\"href\"),g=t&&g&&pt(g)&&g),m(Ze(e),\"ph-no-capture\")&&(v=!0),_.push(Rt(e,o,a,l));var i=function(e){if(!ot(e))return{};var t={};return K(e.attributes,(function(e){if(e.name&&0===e.name.indexOf(\"data-ph-capture-attribute\")){var i=e.name.replace(\"data-ph-capture-attribute-\",\"\"),s=e.value;i&&s&&pt(s)&&(t[i]=s)}})),t}(e);X(p,i)})),v)return{props:{},explicitNoCapture:v};if(a||(\"a\"===e.tagName.toLowerCase()||\"button\"===e.tagName.toLowerCase()?_[0].$el_text=gt(e):_[0].$el_text=tt(e)),g){var f,y;_[0].attr__href=g;var b=null===(f=St(g))||void 0===f?void 0:f.host,w=null==t||null===(y=t.location)||void 0===y?void 0:y.host;b&&w&&b!==w&&(h=g)}return{props:X({$event_type:n.type,$ce_version:1},c?{}:{$elements:_},{$elements_chain:ft(_)},null!==(s=_[0])&&void 0!==s&&s.$el_text?{$el_text:null===(r=_[0])||void 0===r?void 0:r.$el_text}:{},h&&\"click\"===n.type?{$external_click_url:h}:{},p)}}class $t{constructor(e){V(this,\"_initialized\",!1),V(this,\"_isDisabledServerSide\",null),V(this,\"rageclicks\",new bt),V(this,\"_elementsChainAsString\",!1),this.instance=e,this._elementSelectors=null}get config(){var e,t,i=P(this.instance.config.autocapture)?this.instance.config.autocapture:{};return i.url_allowlist=null===(e=i.url_allowlist)||void 0===e?void 0:e.map((e=>new RegExp(e))),i.url_ignorelist=null===(t=i.url_ignorelist)||void 0===t?void 0:t.map((e=>new RegExp(e))),i}_addDomEventHandlers(){if(this.isBrowserSupported()){if(t&&a){var e=e=>{e=e||(null==t?void 0:t.event);try{this._captureEvent(e)}catch(e){Pt.error(\"Failed to capture event\",e)}};if(ae(a,\"submit\",e,{capture:!0}),ae(a,\"change\",e,{capture:!0}),ae(a,\"click\",e,{capture:!0}),this.config.capture_copied_text){var i=e=>{e=e||(null==t?void 0:t.event),this._captureEvent(e,g)};ae(a,\"copy\",i,{capture:!0}),ae(a,\"cut\",i,{capture:!0})}}}else Pt.info(\"Disabling Automatic Event Collection because this browser is not supported\")}startIfEnabled(){this.isEnabled&&!this._initialized&&(this._addDomEventHandlers(),this._initialized=!0)}onRemoteConfig(e){e.elementsChainAsString&&(this._elementsChainAsString=e.elementsChainAsString),this.instance.persistence&&this.instance.persistence.register({[de]:!!e.autocapture_opt_out}),this._isDisabledServerSide=!!e.autocapture_opt_out,this.startIfEnabled()}setElementSelectors(e){this._elementSelectors=e}getElementSelectors(e){var t,i=[];return null===(t=this._elementSelectors)||void 0===t||t.forEach((t=>{var s=null==a?void 0:a.querySelectorAll(t);null==s||s.forEach((s=>{e===s&&i.push(t)}))})),i}get isEnabled(){var e,t,i=null===(e=this.instance.persistence)||void 0===e?void 0:e.props[de],s=this._isDisabledServerSide;if($(s)&&!M(i)&&!this.instance.config.advanced_disable_decide)return!1;var r=null!==(t=this._isDisabledServerSide)&&void 0!==t?t:!!i;return!!this.instance.config.autocapture&&!r}_captureEvent(e){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"$autocapture\";if(this.isEnabled){var s,r=it(e);if(Ye(r)&&(r=r.parentNode||null),\"$autocapture\"===i&&\"click\"===e.type&&e instanceof MouseEvent)this.instance.config.rageclick&&null!==(s=this.rageclicks)&&void 0!==s&&s.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this._captureEvent(e,\"$rageclick\");var n=i===g;if(r&&nt(r,e,this.config,n,n?[\"copy\",\"cut\"]:void 0)){var{props:o,explicitNoCapture:a}=Tt(r,{e:e,maskAllElementAttributes:this.instance.config.mask_all_element_attributes,maskAllText:this.instance.config.mask_all_text,elementAttributeIgnoreList:this.config.element_attribute_ignorelist,elementsChainAsString:this._elementsChainAsString});if(a)return!1;var l=this.getElementSelectors(r);if(l&&l.length>0&&(o.$element_selectors=l),i===g){var c,u=et(null==t||null===(c=t.getSelection())||void 0===c?void 0:c.toString()),d=e.type||\"clipboard\";if(!u)return!1;o.$selected_content=u,o.$copy_type=d}return this.instance.capture(i,o),!0}}}isBrowserSupported(){return I(null==a?void 0:a.querySelectorAll)}}Math.trunc||(Math.trunc=function(e){return e<0?Math.ceil(e):Math.floor(e)}),Number.isInteger||(Number.isInteger=function(e){return O(e)&&isFinite(e)&&Math.floor(e)===e});var At=\"0123456789abcdef\";class Ot{constructor(e){if(this.bytes=e,16!==e.length)throw new TypeError(\"not 128-bit length\")}static fromFieldsV7(e,t,i,s){if(!Number.isInteger(e)||!Number.isInteger(t)||!Number.isInteger(i)||!Number.isInteger(s)||e<0||t<0||i<0||s<0||e>0xffffffffffff||t>4095||i>1073741823||s>4294967295)throw new RangeError(\"invalid field value\");var r=new Uint8Array(16);return r[0]=e/Math.pow(2,40),r[1]=e/Math.pow(2,32),r[2]=e/Math.pow(2,24),r[3]=e/Math.pow(2,16),r[4]=e/Math.pow(2,8),r[5]=e,r[6]=112|t>>>8,r[7]=t,r[8]=128|i>>>24,r[9]=i>>>16,r[10]=i>>>8,r[11]=i,r[12]=s>>>24,r[13]=s>>>16,r[14]=s>>>8,r[15]=s,new Ot(r)}toString(){for(var e=\"\",t=0;t<this.bytes.length;t++)e=e+At.charAt(this.bytes[t]>>>4)+At.charAt(15&this.bytes[t]),3!==t&&5!==t&&7!==t&&9!==t||(e+=\"-\");if(36!==e.length)throw new Error(\"Invalid UUIDv7 was generated\");return e}clone(){return new Ot(this.bytes.slice(0))}equals(e){return 0===this.compareTo(e)}compareTo(e){for(var t=0;t<16;t++){var i=this.bytes[t]-e.bytes[t];if(0!==i)return Math.sign(i)}return 0}}class Mt{constructor(){V(this,\"timestamp\",0),V(this,\"counter\",0),V(this,\"random\",new qt)}generate(){var e=this.generateOrAbort();if(F(e)){this.timestamp=0;var t=this.generateOrAbort();if(F(t))throw new Error(\"Could not generate UUID after timestamp reset\");return t}return e}generateOrAbort(){var e=Date.now();if(e>this.timestamp)this.timestamp=e,this.resetCounter();else{if(!(e+1e4>this.timestamp))return;this.counter++,this.counter>4398046511103&&(this.timestamp++,this.resetCounter())}return Ot.fromFieldsV7(this.timestamp,Math.trunc(this.counter/Math.pow(2,30)),this.counter&Math.pow(2,30)-1,this.random.nextUint32())}resetCounter(){this.counter=1024*this.random.nextUint32()+(1023&this.random.nextUint32())}}var Lt,Dt=e=>{if(\"undefined\"!=typeof UUIDV7_DENY_WEAK_RNG&&UUIDV7_DENY_WEAK_RNG)throw new Error(\"no cryptographically strong RNG available\");for(var t=0;t<e.length;t++)e[t]=65536*Math.trunc(65536*Math.random())+Math.trunc(65536*Math.random());return e};t&&!F(t.crypto)&&crypto.getRandomValues&&(Dt=e=>crypto.getRandomValues(e));class qt{constructor(){V(this,\"buffer\",new Uint32Array(8)),V(this,\"cursor\",1/0)}nextUint32(){return this.cursor>=this.buffer.length&&(Dt(this.buffer),this.cursor=0),this.buffer[this.cursor++]}}var Nt=()=>Bt().toString(),Bt=()=>(Lt||(Lt=new Mt)).generate(),Ht=\"Thu, 01 Jan 1970 00:00:00 GMT\",Ut=\"\";var zt=/[a-z0-9][a-z0-9-]+\\.[a-z]{2,}$/i;function jt(e,t){if(t){var i=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:a;if(Ut)return Ut;if(!t)return\"\";if([\"localhost\",\"127.0.0.1\"].includes(e))return\"\";for(var i=e.split(\".\"),s=Math.min(i.length,8),r=\"dmn_chk_\"+Nt(),n=new RegExp(\"(^|;)\\\\s*\"+r+\"=1\");!Ut&&s--;){var o=i.slice(s).join(\".\"),l=r+\"=1;domain=.\"+o;t.cookie=l,n.test(t.cookie)&&(t.cookie=l+\";expires=\"+Ht,Ut=o)}return Ut}(e);if(!i){var s=(e=>{var t=e.match(zt);return t?t[0]:\"\"})(e);s!==i&&B.info(\"Warning: cookie subdomain discovery mismatch\",s,i),i=s}return i?\"; domain=.\"+i:\"\"}return\"\"}var Wt,Vt={is_supported:()=>!!a,error:function(e){B.error(\"cookieStore error: \"+e)},get:function(e){if(a){try{for(var t=e+\"=\",i=a.cookie.split(\";\").filter((e=>e.length)),s=0;s<i.length;s++){for(var r=i[s];\" \"==r.charAt(0);)r=r.substring(1,r.length);if(0===r.indexOf(t))return decodeURIComponent(r.substring(t.length,r.length))}}catch(e){}return null}},parse:function(e){var t;try{t=JSON.parse(Vt.get(e))||{}}catch(e){}return t},set:function(e,t,i,s,r){if(a)try{var n=\"\",o=\"\",l=jt(a.location.hostname,s);if(i){var c=new Date;c.setTime(c.getTime()+24*i*60*60*1e3),n=\"; expires=\"+c.toUTCString()}r&&(o=\"; secure\");var u=e+\"=\"+encodeURIComponent(JSON.stringify(t))+n+\"; SameSite=Lax; path=/\"+l+o;return u.length>3686.4&&B.warn(\"cookieStore warning: large cookie, len=\"+u.length),a.cookie=u,u}catch(e){return}},remove:function(e,t){try{Vt.set(e,\"\",-1,t)}catch(e){return}}},Gt=null,Jt={is_supported:function(){if(!$(Gt))return Gt;var e=!0;if(F(t))e=!1;else try{var i=\"__mplssupport__\";Jt.set(i,\"xyz\"),'\"xyz\"'!==Jt.get(i)&&(e=!1),Jt.remove(i)}catch(t){e=!1}return e||B.error(\"localStorage unsupported; falling back to cookie store\"),Gt=e,e},error:function(e){B.error(\"localStorage error: \"+e)},get:function(e){try{return null==t?void 0:t.localStorage.getItem(e)}catch(e){Jt.error(e)}return null},parse:function(e){try{return JSON.parse(Jt.get(e))||{}}catch(e){}return null},set:function(e,i){try{null==t||t.localStorage.setItem(e,JSON.stringify(i))}catch(e){Jt.error(e)}},remove:function(e){try{null==t||t.localStorage.removeItem(e)}catch(e){Jt.error(e)}}},Yt=[\"distinct_id\",xe,Ie,Ue,He],Kt=W(W({},Jt),{},{parse:function(e){try{var t={};try{t=Vt.parse(e)||{}}catch(e){}var i=X(t,JSON.parse(Jt.get(e)||\"{}\"));return Jt.set(e,i),i}catch(e){}return null},set:function(e,t,i,s,r,n){try{Jt.set(e,t,void 0,void 0,n);var o={};Yt.forEach((e=>{t[e]&&(o[e]=t[e])})),Object.keys(o).length&&Vt.set(e,o,i,s,r,n)}catch(e){Jt.error(e)}},remove:function(e,i){try{null==t||t.localStorage.removeItem(e),Vt.remove(e,i)}catch(e){Jt.error(e)}}}),Xt={},Qt={is_supported:function(){return!0},error:function(e){B.error(\"memoryStorage error: \"+e)},get:function(e){return Xt[e]||null},parse:function(e){return Xt[e]||null},set:function(e,t){Xt[e]=t},remove:function(e){delete Xt[e]}},Zt=null,ei={is_supported:function(){if(!$(Zt))return Zt;if(Zt=!0,F(t))Zt=!1;else try{var e=\"__support__\";ei.set(e,\"xyz\"),'\"xyz\"'!==ei.get(e)&&(Zt=!1),ei.remove(e)}catch(e){Zt=!1}return Zt},error:function(e){B.error(\"sessionStorage error: \",e)},get:function(e){try{return null==t?void 0:t.sessionStorage.getItem(e)}catch(e){ei.error(e)}return null},parse:function(e){try{return JSON.parse(ei.get(e))||null}catch(e){}return null},set:function(e,i){try{null==t||t.sessionStorage.setItem(e,JSON.stringify(i))}catch(e){ei.error(e)}},remove:function(e){try{null==t||t.sessionStorage.removeItem(e)}catch(e){ei.error(e)}}};!function(e){e[e.PENDING=-1]=\"PENDING\",e[e.DENIED=0]=\"DENIED\",e[e.GRANTED=1]=\"GRANTED\"}(Wt||(Wt={}));class ti{constructor(e){this.instance=e}get config(){return this.instance.config}get consent(){return this.getDnt()?Wt.DENIED:this.storedConsent}isOptedOut(){return this.consent===Wt.DENIED||this.consent===Wt.PENDING&&this.config.opt_out_capturing_by_default}isOptedIn(){return!this.isOptedOut()}optInOut(e){this.storage.set(this.storageKey,e?1:0,this.config.cookie_expiration,this.config.cross_subdomain_cookie,this.config.secure_cookie)}reset(){this.storage.remove(this.storageKey,this.config.cross_subdomain_cookie)}get storageKey(){var{token:e,opt_out_capturing_cookie_prefix:t}=this.instance.config;return(t||\"__ph_opt_in_out_\")+e}get storedConsent(){var e=this.storage.get(this.storageKey);return\"1\"===e?Wt.GRANTED:\"0\"===e?Wt.DENIED:Wt.PENDING}get storage(){if(!this._storage){var e=this.config.opt_out_capturing_persistence_type;this._storage=\"localStorage\"===e?Jt:Vt;var t=\"localStorage\"===e?Vt:Jt;t.get(this.storageKey)&&(this._storage.get(this.storageKey)||this.optInOut(\"1\"===t.get(this.storageKey)),t.remove(this.storageKey,this.config.cross_subdomain_cookie))}return this._storage}getDnt(){return!!this.config.respect_dnt&&!!oe([null==o?void 0:o.doNotTrack,null==o?void 0:o.msDoNotTrack,_.doNotTrack],(e=>m([!0,1,\"1\",\"yes\"],e)))}}var ii=H(\"[Dead Clicks]\"),si=()=>!0,ri=e=>{var t,i=!(null===(t=e.instance.persistence)||void 0===t||!t.get_property(ge)),s=e.instance.config.capture_dead_clicks;return M(s)?s:i};class ni{get lazyLoadedDeadClicksAutocapture(){return this._lazyLoadedDeadClicksAutocapture}constructor(e,t,i){this.instance=e,this.isEnabled=t,this.onCapture=i,this.startIfEnabled()}onRemoteConfig(e){this.instance.persistence&&this.instance.persistence.register({[ge]:null==e?void 0:e.captureDeadClicks}),this.startIfEnabled()}startIfEnabled(){this.isEnabled(this)&&this.loadScript((()=>{this.start()}))}loadScript(e){var t,i,s;null!==(t=_.__PosthogExtensions__)&&void 0!==t&&t.initDeadClicksAutocapture&&e(),null===(i=_.__PosthogExtensions__)||void 0===i||null===(s=i.loadExternalDependency)||void 0===s||s.call(i,this.instance,\"dead-clicks-autocapture\",(t=>{t?ii.error(\"failed to load script\",t):e()}))}start(){var e;if(a){if(!this._lazyLoadedDeadClicksAutocapture&&null!==(e=_.__PosthogExtensions__)&&void 0!==e&&e.initDeadClicksAutocapture){var t=P(this.instance.config.capture_dead_clicks)?this.instance.config.capture_dead_clicks:{};t.__onCapture=this.onCapture,this._lazyLoadedDeadClicksAutocapture=_.__PosthogExtensions__.initDeadClicksAutocapture(this.instance,t),this._lazyLoadedDeadClicksAutocapture.start(a),ii.info(\"starting...\")}}else ii.error(\"`document` not found. Cannot start.\")}stop(){this._lazyLoadedDeadClicksAutocapture&&(this._lazyLoadedDeadClicksAutocapture.stop(),this._lazyLoadedDeadClicksAutocapture=void 0,ii.info(\"stopping...\"))}}var oi=H(\"[ExceptionAutocapture]\");class ai{constructor(e){var i;V(this,\"startCapturing\",(()=>{var e,i,s,r;if(t&&this.isEnabled&&!this.hasHandlers){var n=null===(e=_.__PosthogExtensions__)||void 0===e||null===(i=e.errorWrappingFunctions)||void 0===i?void 0:i.wrapOnError,o=null===(s=_.__PosthogExtensions__)||void 0===s||null===(r=s.errorWrappingFunctions)||void 0===r?void 0:r.wrapUnhandledRejection;if(n&&o)try{this.unwrapOnError=n(this.captureException.bind(this)),this.unwrapUnhandledRejection=o(this.captureException.bind(this))}catch(e){oi.error(\"failed to start\",e),this.stopCapturing()}else oi.error(\"failed to load error wrapping functions - cannot start\")}})),this.instance=e,this.remoteEnabled=!(null===(i=this.instance.persistence)||void 0===i||!i.props[_e]),this.startIfEnabled()}get isEnabled(){var e;return M(this.instance.config.capture_exceptions)?this.instance.config.capture_exceptions:null!==(e=this.remoteEnabled)&&void 0!==e&&e}get hasHandlers(){return!F(this.unwrapOnError)}startIfEnabled(){this.isEnabled&&!this.hasHandlers&&(oi.info(\"enabled, starting...\"),this.loadScript(this.startCapturing))}loadScript(e){var t,i;this.hasHandlers&&e(),null===(t=_.__PosthogExtensions__)||void 0===t||null===(i=t.loadExternalDependency)||void 0===i||i.call(t,this.instance,\"exception-autocapture\",(t=>{if(t)return oi.error(\"failed to load script\",t);e()}))}stopCapturing(){var e,t;null===(e=this.unwrapOnError)||void 0===e||e.call(this),this.unwrapOnError=void 0,null===(t=this.unwrapUnhandledRejection)||void 0===t||t.call(this),this.unwrapUnhandledRejection=void 0}onRemoteConfig(e){var t=e.autocaptureExceptions;this.remoteEnabled=!!t||!1,this.instance.persistence&&this.instance.persistence.register({[_e]:this.remoteEnabled}),this.startIfEnabled()}captureException(e){var t=this.instance.requestRouter.endpointFor(\"ui\");e.$exception_personURL=\"\".concat(t,\"/project/\").concat(this.instance.config.token,\"/person/\").concat(this.instance.get_distinct_id()),this.instance.exceptions.sendExceptionEvent(e)}}function li(e){var t,i;return(null===(t=JSON.stringify(e,(i=[],function(e,t){if(P(t)){for(;i.length>0&&i[i.length-1]!==this;)i.pop();return i.includes(t)?\"[Circular]\":(i.push(t),t)}return t})))||void 0===t?void 0:t.length)||0}function ci(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:6606028.8;if(e.size>=t&&e.data.length>1){var i=Math.floor(e.data.length/2),s=e.data.slice(0,i),r=e.data.slice(i);return[ci({size:li(s),data:s,sessionId:e.sessionId,windowId:e.windowId}),ci({size:li(r),data:r,sessionId:e.sessionId,windowId:e.windowId})].flatMap((e=>e))}return[e]}var ui=(e=>(e[e.DomContentLoaded=0]=\"DomContentLoaded\",e[e.Load=1]=\"Load\",e[e.FullSnapshot=2]=\"FullSnapshot\",e[e.IncrementalSnapshot=3]=\"IncrementalSnapshot\",e[e.Meta=4]=\"Meta\",e[e.Custom=5]=\"Custom\",e[e.Plugin=6]=\"Plugin\",e))(ui||{}),di=(e=>(e[e.Mutation=0]=\"Mutation\",e[e.MouseMove=1]=\"MouseMove\",e[e.MouseInteraction=2]=\"MouseInteraction\",e[e.Scroll=3]=\"Scroll\",e[e.ViewportResize=4]=\"ViewportResize\",e[e.Input=5]=\"Input\",e[e.TouchMove=6]=\"TouchMove\",e[e.MediaInteraction=7]=\"MediaInteraction\",e[e.StyleSheetRule=8]=\"StyleSheetRule\",e[e.CanvasMutation=9]=\"CanvasMutation\",e[e.Font=10]=\"Font\",e[e.Log=11]=\"Log\",e[e.Drag=12]=\"Drag\",e[e.StyleDeclaration=13]=\"StyleDeclaration\",e[e.Selection=14]=\"Selection\",e[e.AdoptedStyleSheet=15]=\"AdoptedStyleSheet\",e[e.CustomElement=16]=\"CustomElement\",e))(di||{}),hi=\"[SessionRecording]\",_i=\"redacted\",pi={initiatorTypes:[\"audio\",\"beacon\",\"body\",\"css\",\"early-hint\",\"embed\",\"fetch\",\"frame\",\"iframe\",\"icon\",\"image\",\"img\",\"input\",\"link\",\"navigation\",\"object\",\"ping\",\"script\",\"track\",\"video\",\"xmlhttprequest\"],maskRequestFn:e=>e,recordHeaders:!1,recordBody:!1,recordInitialRequests:!1,recordPerformance:!1,performanceEntryTypeToObserve:[\"first-input\",\"navigation\",\"paint\",\"resource\"],payloadSizeLimitBytes:1e6,payloadHostDenyList:[\".lr-ingest.io\",\".ingest.sentry.io\",\".clarity.ms\",\"analytics.google.com\"]},gi=[\"authorization\",\"x-forwarded-for\",\"authorization\",\"cookie\",\"set-cookie\",\"x-api-key\",\"x-real-ip\",\"remote-addr\",\"forwarded\",\"proxy-authorization\",\"x-csrf-token\",\"x-csrftoken\",\"x-xsrf-token\"],vi=[\"password\",\"secret\",\"passwd\",\"api_key\",\"apikey\",\"auth\",\"credentials\",\"mysql_pwd\",\"privatekey\",\"private_key\",\"token\"],fi=[\"/s/\",\"/e/\",\"/i/\"];function mi(e,t,i,s){if(A(e))return e;var r=(null==t?void 0:t[\"content-length\"])||function(e){return new Blob([e]).size}(e);return R(r)&&(r=parseInt(r)),r>i?hi+\" \".concat(s,\" body too large to record (\").concat(r,\" bytes)\"):e}function yi(e,t){if(A(e))return e;var i=e;return pt(i,!1)||(i=hi+\" \"+t+\" body \"+_i),K(vi,(e=>{var s,r;null!==(s=i)&&void 0!==s&&s.length&&-1!==(null===(r=i)||void 0===r?void 0:r.indexOf(e))&&(i=hi+\" \"+t+\" body \"+_i+\" as might contain: \"+e)})),i}var bi=(e,t)=>{var i,s,r,n={payloadSizeLimitBytes:pi.payloadSizeLimitBytes,performanceEntryTypeToObserve:[...pi.performanceEntryTypeToObserve],payloadHostDenyList:[...t.payloadHostDenyList||[],...pi.payloadHostDenyList]},o=!1!==e.session_recording.recordHeaders&&t.recordHeaders,a=!1!==e.session_recording.recordBody&&t.recordBody,l=!1!==e.capture_performance&&t.recordPerformance,c=(i=n,r=Math.min(1e6,null!==(s=i.payloadSizeLimitBytes)&&void 0!==s?s:1e6),e=>(null!=e&&e.requestBody&&(e.requestBody=mi(e.requestBody,e.requestHeaders,r,\"Request\")),null!=e&&e.responseBody&&(e.responseBody=mi(e.responseBody,e.responseHeaders,r,\"Response\")),e)),u=t=>{return c(((e,t)=>{var i,s=St(e.name),r=0===t.indexOf(\"http\")?null===(i=St(t))||void 0===i?void 0:i.pathname:t;\"/\"===r&&(r=\"\");var n=null==s?void 0:s.pathname.replace(r||\"\",\"\");if(!(s&&n&&fi.some((e=>0===n.indexOf(e)))))return e})((s=(i=t).requestHeaders,A(s)||K(Object.keys(null!=s?s:{}),(e=>{gi.includes(e.toLowerCase())&&(s[e]=_i)})),i),e.api_host));var i,s},d=I(e.session_recording.maskNetworkRequestFn);return d&&I(e.session_recording.maskCapturedNetworkRequestFn)&&B.warn(\"Both `maskNetworkRequestFn` and `maskCapturedNetworkRequestFn` are defined. `maskNetworkRequestFn` will be ignored.\"),d&&(e.session_recording.maskCapturedNetworkRequestFn=t=>{var i=e.session_recording.maskNetworkRequestFn({url:t.name});return W(W({},t),{},{name:null==i?void 0:i.url})}),n.maskRequestFn=I(e.session_recording.maskCapturedNetworkRequestFn)?t=>{var i,s,r,n=u(t);return n&&null!==(i=null===(s=(r=e.session_recording).maskCapturedNetworkRequestFn)||void 0===s?void 0:s.call(r,n))&&void 0!==i?i:void 0}:e=>function(e){if(!F(e))return e.requestBody=yi(e.requestBody,\"Request\"),e.responseBody=yi(e.responseBody,\"Response\"),e}(u(e)),W(W(W({},pi),n),{},{recordHeaders:o,recordBody:a,recordPerformance:l,recordInitialRequests:l})};function wi(e,t,i,s,r){return t>i&&(B.warn(\"min cannot be greater than max.\"),t=i),O(e)?e>i?(s&&B.warn(s+\" cannot be  greater than max: \"+i+\". Using max value instead.\"),i):e<t?(s&&B.warn(s+\" cannot be less than min: \"+t+\". Using min value instead.\"),t):e:(s&&B.warn(s+\" must be a number. using max or fallback. max: \"+i+\", fallback: \"+r),wi(r||i,t,i,s))}class Si{constructor(e){var t,i,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};V(this,\"bucketSize\",100),V(this,\"refillRate\",10),V(this,\"mutationBuckets\",{}),V(this,\"loggedTracker\",{}),V(this,\"refillBuckets\",(()=>{Object.keys(this.mutationBuckets).forEach((e=>{this.mutationBuckets[e]=this.mutationBuckets[e]+this.refillRate,this.mutationBuckets[e]>=this.bucketSize&&delete this.mutationBuckets[e]}))})),V(this,\"getNodeOrRelevantParent\",(e=>{var t=this.rrweb.mirror.getNode(e);if(\"svg\"!==(null==t?void 0:t.nodeName)&&t instanceof Element){var i=t.closest(\"svg\");if(i)return[this.rrweb.mirror.getId(i),i]}return[e,t]})),V(this,\"numberOfChanges\",(e=>{var t,i,s,r,n,o,a,l;return(null!==(t=null===(i=e.removes)||void 0===i?void 0:i.length)&&void 0!==t?t:0)+(null!==(s=null===(r=e.attributes)||void 0===r?void 0:r.length)&&void 0!==s?s:0)+(null!==(n=null===(o=e.texts)||void 0===o?void 0:o.length)&&void 0!==n?n:0)+(null!==(a=null===(l=e.adds)||void 0===l?void 0:l.length)&&void 0!==a?a:0)})),V(this,\"throttleMutations\",(e=>{if(3!==e.type||0!==e.data.source)return e;var t=e.data,i=this.numberOfChanges(t);t.attributes&&(t.attributes=t.attributes.filter((e=>{var t,i,s,[r,n]=this.getNodeOrRelevantParent(e.id);if(0===this.mutationBuckets[r])return!1;(this.mutationBuckets[r]=null!==(t=this.mutationBuckets[r])&&void 0!==t?t:this.bucketSize,this.mutationBuckets[r]=Math.max(this.mutationBuckets[r]-1,0),0===this.mutationBuckets[r])&&(this.loggedTracker[r]||(this.loggedTracker[r]=!0,null===(i=(s=this.options).onBlockedNode)||void 0===i||i.call(s,r,n)));return e})));var s=this.numberOfChanges(t);return 0!==s||i===s?e:void 0})),this.rrweb=e,this.options=s,this.refillRate=wi(null!==(t=this.options.refillRate)&&void 0!==t?t:this.refillRate,0,100,\"mutation throttling refill rate\"),this.bucketSize=wi(null!==(i=this.options.bucketSize)&&void 0!==i?i:this.bucketSize,0,100,\"mutation throttling bucket size\"),setInterval((()=>{this.refillBuckets()}),1e3)}}var ki=Uint8Array,Ei=Uint16Array,xi=Uint32Array,Ii=new ki([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Pi=new ki([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Ci=new ki([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),Fi=function(e,t){for(var i=new Ei(31),s=0;s<31;++s)i[s]=t+=1<<e[s-1];var r=new xi(i[30]);for(s=1;s<30;++s)for(var n=i[s];n<i[s+1];++n)r[n]=n-i[s]<<5|s;return[i,r]},Ri=Fi(Ii,2),Ti=Ri[0],$i=Ri[1];Ti[28]=258,$i[258]=28;for(var Ai=Fi(Pi,0)[1],Oi=new Ei(32768),Mi=0;Mi<32768;++Mi){var Li=(43690&Mi)>>>1|(21845&Mi)<<1;Li=(61680&(Li=(52428&Li)>>>2|(13107&Li)<<2))>>>4|(3855&Li)<<4,Oi[Mi]=((65280&Li)>>>8|(255&Li)<<8)>>>1}var Di=function(e,t,i){for(var s=e.length,r=0,n=new Ei(t);r<s;++r)++n[e[r]-1];var o,a=new Ei(t);for(r=0;r<t;++r)a[r]=a[r-1]+n[r-1]<<1;if(i){o=new Ei(1<<t);var l=15-t;for(r=0;r<s;++r)if(e[r])for(var c=r<<4|e[r],u=t-e[r],d=a[e[r]-1]++<<u,h=d|(1<<u)-1;d<=h;++d)o[Oi[d]>>>l]=c}else for(o=new Ei(s),r=0;r<s;++r)o[r]=Oi[a[e[r]-1]++]>>>15-e[r];return o},qi=new ki(288);for(Mi=0;Mi<144;++Mi)qi[Mi]=8;for(Mi=144;Mi<256;++Mi)qi[Mi]=9;for(Mi=256;Mi<280;++Mi)qi[Mi]=7;for(Mi=280;Mi<288;++Mi)qi[Mi]=8;var Ni=new ki(32);for(Mi=0;Mi<32;++Mi)Ni[Mi]=5;var Bi=Di(qi,9,0),Hi=Di(Ni,5,0),Ui=function(e){return(e/8>>0)+(7&e&&1)},zi=function(e,t,i){(null==i||i>e.length)&&(i=e.length);var s=new(e instanceof Ei?Ei:e instanceof xi?xi:ki)(i-t);return s.set(e.subarray(t,i)),s},ji=function(e,t,i){i<<=7&t;var s=t/8>>0;e[s]|=i,e[s+1]|=i>>>8},Wi=function(e,t,i){i<<=7&t;var s=t/8>>0;e[s]|=i,e[s+1]|=i>>>8,e[s+2]|=i>>>16},Vi=function(e,t){for(var i=[],s=0;s<e.length;++s)e[s]&&i.push({s:s,f:e[s]});var r=i.length,n=i.slice();if(!r)return[new ki(0),0];if(1==r){var o=new ki(i[0].s+1);return o[i[0].s]=1,[o,1]}i.sort((function(e,t){return e.f-t.f})),i.push({s:-1,f:25001});var a=i[0],l=i[1],c=0,u=1,d=2;for(i[0]={s:-1,f:a.f+l.f,l:a,r:l};u!=r-1;)a=i[i[c].f<i[d].f?c++:d++],l=i[c!=u&&i[c].f<i[d].f?c++:d++],i[u++]={s:-1,f:a.f+l.f,l:a,r:l};var h=n[0].s;for(s=1;s<r;++s)n[s].s>h&&(h=n[s].s);var _=new Ei(h+1),p=Gi(i[u-1],_,0);if(p>t){s=0;var g=0,v=p-t,f=1<<v;for(n.sort((function(e,t){return _[t.s]-_[e.s]||e.f-t.f}));s<r;++s){var m=n[s].s;if(!(_[m]>t))break;g+=f-(1<<p-_[m]),_[m]=t}for(g>>>=v;g>0;){var y=n[s].s;_[y]<t?g-=1<<t-_[y]++-1:++s}for(;s>=0&&g;--s){var b=n[s].s;_[b]==t&&(--_[b],++g)}p=t}return[new ki(_),p]},Gi=function(e,t,i){return-1==e.s?Math.max(Gi(e.l,t,i+1),Gi(e.r,t,i+1)):t[e.s]=i},Ji=function(e){for(var t=e.length;t&&!e[--t];);for(var i=new Ei(++t),s=0,r=e[0],n=1,o=function(e){i[s++]=e},a=1;a<=t;++a)if(e[a]==r&&a!=t)++n;else{if(!r&&n>2){for(;n>138;n-=138)o(32754);n>2&&(o(n>10?n-11<<5|28690:n-3<<5|12305),n=0)}else if(n>3){for(o(r),--n;n>6;n-=6)o(8304);n>2&&(o(n-3<<5|8208),n=0)}for(;n--;)o(r);n=1,r=e[a]}return[i.subarray(0,s),t]},Yi=function(e,t){for(var i=0,s=0;s<t.length;++s)i+=e[s]*t[s];return i},Ki=function(e,t,i){var s=i.length,r=Ui(t+2);e[r]=255&s,e[r+1]=s>>>8,e[r+2]=255^e[r],e[r+3]=255^e[r+1];for(var n=0;n<s;++n)e[r+n+4]=i[n];return 8*(r+4+s)},Xi=function(e,t,i,s,r,n,o,a,l,c,u){ji(t,u++,i),++r[256];for(var d=Vi(r,15),h=d[0],_=d[1],p=Vi(n,15),g=p[0],v=p[1],f=Ji(h),m=f[0],y=f[1],b=Ji(g),w=b[0],S=b[1],k=new Ei(19),E=0;E<m.length;++E)k[31&m[E]]++;for(E=0;E<w.length;++E)k[31&w[E]]++;for(var x=Vi(k,7),I=x[0],P=x[1],C=19;C>4&&!I[Ci[C-1]];--C);var F,R,T,$,A=c+5<<3,O=Yi(r,qi)+Yi(n,Ni)+o,M=Yi(r,h)+Yi(n,g)+o+14+3*C+Yi(k,I)+(2*k[16]+3*k[17]+7*k[18]);if(A<=O&&A<=M)return Ki(t,u,e.subarray(l,l+c));if(ji(t,u,1+(M<O)),u+=2,M<O){F=Di(h,_,0),R=h,T=Di(g,v,0),$=g;var L=Di(I,P,0);ji(t,u,y-257),ji(t,u+5,S-1),ji(t,u+10,C-4),u+=14;for(E=0;E<C;++E)ji(t,u+3*E,I[Ci[E]]);u+=3*C;for(var D=[m,w],q=0;q<2;++q){var N=D[q];for(E=0;E<N.length;++E){var B=31&N[E];ji(t,u,L[B]),u+=I[B],B>15&&(ji(t,u,N[E]>>>5&127),u+=N[E]>>>12)}}}else F=Bi,R=qi,T=Hi,$=Ni;for(E=0;E<a;++E)if(s[E]>255){B=s[E]>>>18&31;Wi(t,u,F[B+257]),u+=R[B+257],B>7&&(ji(t,u,s[E]>>>23&31),u+=Ii[B]);var H=31&s[E];Wi(t,u,T[H]),u+=$[H],H>3&&(Wi(t,u,s[E]>>>5&8191),u+=Pi[H])}else Wi(t,u,F[s[E]]),u+=R[s[E]];return Wi(t,u,F[256]),u+R[256]},Qi=new xi([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),Zi=function(){for(var e=new xi(256),t=0;t<256;++t){for(var i=t,s=9;--s;)i=(1&i&&3988292384)^i>>>1;e[t]=i}return e}(),es=function(){var e=4294967295;return{p:function(t){for(var i=e,s=0;s<t.length;++s)i=Zi[255&i^t[s]]^i>>>8;e=i},d:function(){return 4294967295^e}}},ts=function(e,t,i,s,r){return function(e,t,i,s,r,n){var o=e.length,a=new ki(s+o+5*(1+Math.floor(o/7e3))+r),l=a.subarray(s,a.length-r),c=0;if(!t||o<8)for(var u=0;u<=o;u+=65535){var d=u+65535;d<o?c=Ki(l,c,e.subarray(u,d)):(l[u]=n,c=Ki(l,c,e.subarray(u,o)))}else{for(var h=Qi[t-1],_=h>>>13,p=8191&h,g=(1<<i)-1,v=new Ei(32768),f=new Ei(g+1),m=Math.ceil(i/3),y=2*m,b=function(t){return(e[t]^e[t+1]<<m^e[t+2]<<y)&g},w=new xi(25e3),S=new Ei(288),k=new Ei(32),E=0,x=0,I=(u=0,0),P=0,C=0;u<o;++u){var F=b(u),R=32767&u,T=f[F];if(v[R]=T,f[F]=R,P<=u){var $=o-u;if((E>7e3||I>24576)&&$>423){c=Xi(e,l,0,w,S,k,x,I,C,u-C,c),I=E=x=0,C=u;for(var A=0;A<286;++A)S[A]=0;for(A=0;A<30;++A)k[A]=0}var O=2,M=0,L=p,D=R-T&32767;if($>2&&F==b(u-D))for(var q=Math.min(_,$)-1,N=Math.min(32767,u),B=Math.min(258,$);D<=N&&--L&&R!=T;){if(e[u+O]==e[u+O-D]){for(var H=0;H<B&&e[u+H]==e[u+H-D];++H);if(H>O){if(O=H,M=D,H>q)break;var U=Math.min(D,H-2),z=0;for(A=0;A<U;++A){var j=u-D+A+32768&32767,W=j-v[j]+32768&32767;W>z&&(z=W,T=j)}}}D+=(R=T)-(T=v[R])+32768&32767}if(M){w[I++]=268435456|$i[O]<<18|Ai[M];var V=31&$i[O],G=31&Ai[M];x+=Ii[V]+Pi[G],++S[257+V],++k[G],P=u+O,++E}else w[I++]=e[u],++S[e[u]]}}c=Xi(e,l,n,w,S,k,x,I,C,u-C,c)}return zi(a,0,s+Ui(c)+r)}(e,null==t.level?6:t.level,null==t.mem?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):12+t.mem,i,s,!r)},is=function(e,t,i){for(;i;++t)e[t]=i,i>>>=8},ss=function(e,t){var i=t.filename;if(e[0]=31,e[1]=139,e[2]=8,e[8]=t.level<2?4:9==t.level?2:0,e[9]=3,0!=t.mtime&&is(e,4,Math.floor(new Date(t.mtime||Date.now())/1e3)),i){e[3]=8;for(var s=0;s<=i.length;++s)e[s+10]=i.charCodeAt(s)}},rs=function(e){return 10+(e.filename&&e.filename.length+1||0)};function ns(e,t){void 0===t&&(t={});var i=es(),s=e.length;i.p(e);var r=ts(e,t,rs(t),8),n=r.length;return ss(r,t),is(r,n-8,i.d()),is(r,n-4,s),r}function os(e,t){var i=e.length;if(\"undefined\"!=typeof TextEncoder)return(new TextEncoder).encode(e);for(var s=new ki(e.length+(e.length>>>1)),r=0,n=function(e){s[r++]=e},o=0;o<i;++o){if(r+5>s.length){var a=new ki(r+8+(i-o<<1));a.set(s),s=a}var l=e.charCodeAt(o);l<128||t?n(l):l<2048?(n(192|l>>>6),n(128|63&l)):l>55295&&l<57344?(n(240|(l=65536+(1047552&l)|1023&e.charCodeAt(++o))>>>18),n(128|l>>>12&63),n(128|l>>>6&63),n(128|63&l)):(n(224|l>>>12),n(128|l>>>6&63),n(128|63&l))}return zi(s,0,r)}function as(e,t){return function(e){for(var t=0,i=0;i<e.length;i++)t=(t<<5)-t+e.charCodeAt(i),t|=0;return Math.abs(t)}(e)%100<wi(100*t,0,100)}var ls=\"[SessionRecording]\",cs=H(ls),us=3e5,ds=[di.MouseMove,di.MouseInteraction,di.Scroll,di.ViewportResize,di.Input,di.TouchMove,di.MediaInteraction,di.Drag],hs=e=>({rrwebMethod:e,enqueuedAt:Date.now(),attempt:1});function _s(e){return function(e,t){for(var i=\"\",s=0;s<e.length;){var r=e[s++];r<128||t?i+=String.fromCharCode(r):r<224?i+=String.fromCharCode((31&r)<<6|63&e[s++]):r<240?i+=String.fromCharCode((15&r)<<12|(63&e[s++])<<6|63&e[s++]):(r=((15&r)<<18|(63&e[s++])<<12|(63&e[s++])<<6|63&e[s++])-65536,i+=String.fromCharCode(55296|r>>10,56320|1023&r))}return i}(ns(os(JSON.stringify(e))),!0)}function ps(e){return e.type===ui.Custom&&\"sessionIdle\"===e.data.tag}function gs(e,t){return t.some((t=>\"regex\"===t.matching&&new RegExp(t.url).test(e)))}class vs{get sessionIdleThresholdMilliseconds(){return this.instance.config.session_recording.session_idle_threshold_ms||3e5}get rrwebRecord(){var e,t;return null==_||null===(e=_.__PosthogExtensions__)||void 0===e||null===(t=e.rrweb)||void 0===t?void 0:t.record}get started(){return this._captureStarted}get sessionManager(){if(!this.instance.sessionManager)throw new Error(ls+\" must be started with a valid sessionManager.\");return this.instance.sessionManager}get fullSnapshotIntervalMillis(){var e,t;return\"trigger_pending\"===this.triggerStatus?6e4:null!==(e=null===(t=this.instance.config.session_recording)||void 0===t?void 0:t.full_snapshot_interval_millis)&&void 0!==e?e:us}get isSampled(){var e=this.instance.get_property(Ie);return M(e)?e:null}get sessionDuration(){var e,t,i=null===(e=this.buffer)||void 0===e?void 0:e.data[(null===(t=this.buffer)||void 0===t?void 0:t.data.length)-1],{sessionStartTimestamp:s}=this.sessionManager.checkAndGetSessionAndWindowId(!0);return i?i.timestamp-s:null}get isRecordingEnabled(){var e=!!this.instance.get_property(fe),i=!this.instance.config.disable_session_recording;return t&&e&&i}get isConsoleLogCaptureEnabled(){var e=!!this.instance.get_property(me),t=this.instance.config.enable_recording_console_log;return null!=t?t:e}get canvasRecording(){var e,t,i,s,r,n,o=this.instance.config.session_recording.captureCanvas,a=this.instance.get_property(we),l=null!==(e=null!==(t=null==o?void 0:o.recordCanvas)&&void 0!==t?t:null==a?void 0:a.enabled)&&void 0!==e&&e,c=null!==(i=null!==(s=null==o?void 0:o.canvasFps)&&void 0!==s?s:null==a?void 0:a.fps)&&void 0!==i?i:4,u=null!==(r=null!==(n=null==o?void 0:o.canvasQuality)&&void 0!==n?n:null==a?void 0:a.quality)&&void 0!==r?r:.4;if(\"string\"==typeof u){var d=parseFloat(u);u=isNaN(d)?.4:d}return{enabled:l,fps:wi(c,0,12,\"canvas recording fps\",4),quality:wi(u,0,1,\"canvas recording quality\",.4)}}get networkPayloadCapture(){var e,t,i=this.instance.get_property(ye),s={recordHeaders:null===(e=this.instance.config.session_recording)||void 0===e?void 0:e.recordHeaders,recordBody:null===(t=this.instance.config.session_recording)||void 0===t?void 0:t.recordBody},r=(null==s?void 0:s.recordHeaders)||(null==i?void 0:i.recordHeaders),n=(null==s?void 0:s.recordBody)||(null==i?void 0:i.recordBody),o=P(this.instance.config.capture_performance)?this.instance.config.capture_performance.network_timing:this.instance.config.capture_performance,a=!!(M(o)?o:null==i?void 0:i.capturePerformance);return r||n||a?{recordHeaders:r,recordBody:n,recordPerformance:a}:void 0}get masking(){var e,t,i,s,r,n,o=this.instance.get_property(be),a={maskAllInputs:null===(e=this.instance.config.session_recording)||void 0===e?void 0:e.maskAllInputs,maskTextSelector:null===(t=this.instance.config.session_recording)||void 0===t?void 0:t.maskTextSelector,blockSelector:null===(i=this.instance.config.session_recording)||void 0===i?void 0:i.blockSelector},l=null!==(s=null==a?void 0:a.maskAllInputs)&&void 0!==s?s:null==o?void 0:o.maskAllInputs,c=null!==(r=null==a?void 0:a.maskTextSelector)&&void 0!==r?r:null==o?void 0:o.maskTextSelector,u=null!==(n=null==a?void 0:a.blockSelector)&&void 0!==n?n:null==o?void 0:o.blockSelector;return F(l)&&F(c)&&F(u)?void 0:{maskAllInputs:null==l||l,maskTextSelector:c,blockSelector:u}}get sampleRate(){var e=this.instance.get_property(Se);return O(e)?e:null}get minimumDuration(){var e=this.instance.get_property(ke);return O(e)?e:null}get status(){return this.receivedDecide?this.isRecordingEnabled?!1===this.isSampled?\"disabled\":this._urlBlocked?\"paused\":A(this._linkedFlag)||this._linkedFlagSeen?\"trigger_pending\"===this.triggerStatus?\"buffering\":M(this.isSampled)?this.isSampled?\"sampled\":\"disabled\":\"active\":\"buffering\":\"disabled\":\"buffering\"}get urlTriggerStatus(){var e;return 0===this._urlTriggers.length?\"trigger_disabled\":(null===(e=this.instance)||void 0===e?void 0:e.get_property(Pe))===this.sessionId?\"trigger_activated\":\"trigger_pending\"}get eventTriggerStatus(){var e;return 0===this._eventTriggers.length?\"trigger_disabled\":(null===(e=this.instance)||void 0===e?void 0:e.get_property(Ce))===this.sessionId?\"trigger_activated\":\"trigger_pending\"}get triggerStatus(){var e=\"trigger_activated\"===this.eventTriggerStatus||\"trigger_activated\"===this.urlTriggerStatus,t=\"trigger_pending\"===this.eventTriggerStatus||\"trigger_pending\"===this.urlTriggerStatus;return e?\"trigger_activated\":t?\"trigger_pending\":\"trigger_disabled\"}constructor(e){if(V(this,\"queuedRRWebEvents\",[]),V(this,\"isIdle\",!1),V(this,\"_linkedFlagSeen\",!1),V(this,\"_lastActivityTimestamp\",Date.now()),V(this,\"_linkedFlag\",null),V(this,\"_removePageViewCaptureHook\",void 0),V(this,\"_onSessionIdListener\",void 0),V(this,\"_persistDecideOnSessionListener\",void 0),V(this,\"_samplingSessionListener\",void 0),V(this,\"_urlTriggers\",[]),V(this,\"_urlBlocklist\",[]),V(this,\"_urlBlocked\",!1),V(this,\"_eventTriggers\",[]),V(this,\"_removeEventTriggerCaptureHook\",void 0),V(this,\"_forceAllowLocalhostNetworkCapture\",!1),V(this,\"_onBeforeUnload\",(()=>{this._flushBuffer()})),V(this,\"_onOffline\",(()=>{this._tryAddCustomEvent(\"browser offline\",{})})),V(this,\"_onOnline\",(()=>{this._tryAddCustomEvent(\"browser online\",{})})),V(this,\"_onVisibilityChange\",(()=>{if(null!=a&&a.visibilityState){var e=\"window \"+a.visibilityState;this._tryAddCustomEvent(e,{})}})),this.instance=e,this._captureStarted=!1,this._endpoint=\"/s/\",this.stopRrweb=void 0,this.receivedDecide=!1,!this.instance.sessionManager)throw cs.error(\"started without valid sessionManager\"),new Error(ls+\" started without valid sessionManager. This is a bug.\");if(this.instance.config.__preview_experimental_cookieless_mode)throw new Error(ls+\" cannot be used with __preview_experimental_cookieless_mode.\");var{sessionId:t,windowId:i}=this.sessionManager.checkAndGetSessionAndWindowId();this.sessionId=t,this.windowId=i,this.buffer=this.clearBuffer(),this.sessionIdleThresholdMilliseconds>=this.sessionManager.sessionTimeoutMs&&cs.warn(\"session_idle_threshold_ms (\".concat(this.sessionIdleThresholdMilliseconds,\") is greater than the session timeout (\").concat(this.sessionManager.sessionTimeoutMs,\"). Session will never be detected as idle\"))}startIfEnabledOrStop(e){this.isRecordingEnabled?(this._startCapture(e),ae(t,\"beforeunload\",this._onBeforeUnload),ae(t,\"offline\",this._onOffline),ae(t,\"online\",this._onOnline),ae(t,\"visibilitychange\",this._onVisibilityChange),this._setupSampling(),this._addEventTriggerListener(),A(this._removePageViewCaptureHook)&&(this._removePageViewCaptureHook=this.instance.on(\"eventCaptured\",(e=>{try{if(\"$pageview\"===e.event){var t=null!=e&&e.properties.$current_url?this._maskUrl(null==e?void 0:e.properties.$current_url):\"\";if(!t)return;this._tryAddCustomEvent(\"$pageview\",{href:t})}}catch(e){cs.error(\"Could not add $pageview to rrweb session\",e)}}))),this._onSessionIdListener||(this._onSessionIdListener=this.sessionManager.onSessionId(((e,t,i)=>{var s,r,n,o;i&&(this._tryAddCustomEvent(\"$session_id_change\",{sessionId:e,windowId:t,changeReason:i}),null===(s=this.instance)||void 0===s||null===(r=s.persistence)||void 0===r||r.unregister(Ce),null===(n=this.instance)||void 0===n||null===(o=n.persistence)||void 0===o||o.unregister(Pe))})))):this.stopRecording()}stopRecording(){var e,i,s,r;this._captureStarted&&this.stopRrweb&&(this.stopRrweb(),this.stopRrweb=void 0,this._captureStarted=!1,null==t||t.removeEventListener(\"beforeunload\",this._onBeforeUnload),null==t||t.removeEventListener(\"offline\",this._onOffline),null==t||t.removeEventListener(\"online\",this._onOnline),null==t||t.removeEventListener(\"visibilitychange\",this._onVisibilityChange),this.clearBuffer(),clearInterval(this._fullSnapshotTimer),null===(e=this._removePageViewCaptureHook)||void 0===e||e.call(this),this._removePageViewCaptureHook=void 0,null===(i=this._removeEventTriggerCaptureHook)||void 0===i||i.call(this),this._removeEventTriggerCaptureHook=void 0,null===(s=this._onSessionIdListener)||void 0===s||s.call(this),this._onSessionIdListener=void 0,null===(r=this._samplingSessionListener)||void 0===r||r.call(this),this._samplingSessionListener=void 0,cs.info(\"stopped\"))}makeSamplingDecision(e){var t,i=this.sessionId!==e,s=this.sampleRate;if(O(s)){var r=this.isSampled,n=i||!M(r),o=n?as(e,s):r;n&&(o?this._reportStarted(\"sampled\"):cs.warn(\"Sample rate (\".concat(s,\") has determined that this sessionId (\").concat(e,\") will not be sent to the server.\")),this._tryAddCustomEvent(\"samplingDecisionMade\",{sampleRate:s,isSampled:o})),null===(t=this.instance.persistence)||void 0===t||t.register({[Ie]:o})}else{var a;null===(a=this.instance.persistence)||void 0===a||a.register({[Ie]:null})}}onRemoteConfig(e){var t,i,s,r,n,o;(this._tryAddCustomEvent(\"$remote_config_received\",e),this._persistRemoteConfig(e),this._linkedFlag=(null===(t=e.sessionRecording)||void 0===t?void 0:t.linkedFlag)||null,null!==(i=e.sessionRecording)&&void 0!==i&&i.endpoint)&&(this._endpoint=null===(o=e.sessionRecording)||void 0===o?void 0:o.endpoint);if(this._setupSampling(),!A(this._linkedFlag)&&!this._linkedFlagSeen){var a=R(this._linkedFlag)?this._linkedFlag:this._linkedFlag.flag,l=R(this._linkedFlag)?null:this._linkedFlag.variant;this.instance.onFeatureFlags(((e,t)=>{var i=P(t)&&a in t,s=l?t[a]===l:i;s&&this._reportStarted(\"linked_flag_matched\",{linkedFlag:a,linkedVariant:l}),this._linkedFlagSeen=s}))}null!==(s=e.sessionRecording)&&void 0!==s&&s.urlTriggers&&(this._urlTriggers=e.sessionRecording.urlTriggers),null!==(r=e.sessionRecording)&&void 0!==r&&r.urlBlocklist&&(this._urlBlocklist=e.sessionRecording.urlBlocklist),null!==(n=e.sessionRecording)&&void 0!==n&&n.eventTriggers&&(this._eventTriggers=e.sessionRecording.eventTriggers),this.receivedDecide=!0,this.startIfEnabledOrStop()}_setupSampling(){O(this.sampleRate)&&A(this._samplingSessionListener)&&(this._samplingSessionListener=this.sessionManager.onSessionId((e=>{this.makeSamplingDecision(e)})))}_persistRemoteConfig(e){if(this.instance.persistence){var t,i=this.instance.persistence,s=()=>{var t,s,r,n,o,a,l,c,u,d=null===(t=e.sessionRecording)||void 0===t?void 0:t.sampleRate,h=A(d)?null:parseFloat(d),_=null===(s=e.sessionRecording)||void 0===s?void 0:s.minimumDurationMilliseconds;i.register({[fe]:!!e.sessionRecording,[me]:null===(r=e.sessionRecording)||void 0===r?void 0:r.consoleLogRecordingEnabled,[ye]:W({capturePerformance:e.capturePerformance},null===(n=e.sessionRecording)||void 0===n?void 0:n.networkPayloadCapture),[be]:null===(o=e.sessionRecording)||void 0===o?void 0:o.masking,[we]:{enabled:null===(a=e.sessionRecording)||void 0===a?void 0:a.recordCanvas,fps:null===(l=e.sessionRecording)||void 0===l?void 0:l.canvasFps,quality:null===(c=e.sessionRecording)||void 0===c?void 0:c.canvasQuality},[Se]:h,[ke]:F(_)?null:_,[Ee]:null===(u=e.sessionRecording)||void 0===u?void 0:u.scriptConfig})};s(),null===(t=this._persistDecideOnSessionListener)||void 0===t||t.call(this),this._persistDecideOnSessionListener=this.sessionManager.onSessionId(s)}}log(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"log\";null===(t=this.instance.sessionRecording)||void 0===t||t.onRRwebEmit({type:6,data:{plugin:\"rrweb/console@1\",payload:{level:i,trace:[],payload:[JSON.stringify(e)]}},timestamp:Date.now()})}_startCapture(e){if(!F(Object.assign)&&!F(Array.from)&&!(this._captureStarted||this.instance.config.disable_session_recording||this.instance.consent.isOptedOut())){var t,i;if(this._captureStarted=!0,this.sessionManager.checkAndGetSessionAndWindowId(),this.rrwebRecord)this._onScriptLoaded();else null===(t=_.__PosthogExtensions__)||void 0===t||null===(i=t.loadExternalDependency)||void 0===i||i.call(t,this.instance,this.scriptName,(e=>{if(e)return cs.error(\"could not load recorder\",e);this._onScriptLoaded()}));cs.info(\"starting\"),\"active\"===this.status&&this._reportStarted(e||\"recording_initialized\")}}get scriptName(){var e,t,i;return(null===(e=this.instance)||void 0===e||null===(t=e.persistence)||void 0===t||null===(i=t.get_property(Ee))||void 0===i?void 0:i.script)||\"recorder\"}isInteractiveEvent(e){var t;return 3===e.type&&-1!==ds.indexOf(null===(t=e.data)||void 0===t?void 0:t.source)}_updateWindowAndSessionIds(e){var t=this.isInteractiveEvent(e);t||this.isIdle||e.timestamp-this._lastActivityTimestamp>this.sessionIdleThresholdMilliseconds&&(this.isIdle=!0,clearInterval(this._fullSnapshotTimer),this._tryAddCustomEvent(\"sessionIdle\",{eventTimestamp:e.timestamp,lastActivityTimestamp:this._lastActivityTimestamp,threshold:this.sessionIdleThresholdMilliseconds,bufferLength:this.buffer.data.length,bufferSize:this.buffer.size}),this._flushBuffer());var i=!1;if(t&&(this._lastActivityTimestamp=e.timestamp,this.isIdle&&(this.isIdle=!1,this._tryAddCustomEvent(\"sessionNoLongerIdle\",{reason:\"user activity\",type:e.type}),i=!0)),!this.isIdle){var{windowId:s,sessionId:r}=this.sessionManager.checkAndGetSessionAndWindowId(!t,e.timestamp),n=this.sessionId!==r,o=this.windowId!==s;this.windowId=s,this.sessionId=r,n||o?(this.stopRecording(),this.startIfEnabledOrStop(\"session_id_changed\")):i&&this._scheduleFullSnapshot()}}_tryRRWebMethod(e){try{return e.rrwebMethod(),!0}catch(t){return this.queuedRRWebEvents.length<10?this.queuedRRWebEvents.push({enqueuedAt:e.enqueuedAt||Date.now(),attempt:e.attempt++,rrwebMethod:e.rrwebMethod}):cs.warn(\"could not emit queued rrweb event.\",t,e),!1}}_tryAddCustomEvent(e,t){return this._tryRRWebMethod(hs((()=>this.rrwebRecord.addCustomEvent(e,t))))}_tryTakeFullSnapshot(){return this._tryRRWebMethod(hs((()=>this.rrwebRecord.takeFullSnapshot())))}_onScriptLoaded(){var e,t,i,s,r={blockClass:\"ph-no-capture\",blockSelector:void 0,ignoreClass:\"ph-ignore-input\",maskTextClass:\"ph-mask\",maskTextSelector:void 0,maskTextFn:void 0,maskAllInputs:!0,maskInputOptions:{password:!0},maskInputFn:void 0,slimDOMOptions:{},collectFonts:!1,inlineStylesheet:!0,recordCrossOriginIframes:!1},n=this.instance.config.session_recording;for(var[o,a]of Object.entries(n||{}))o in r&&(\"maskInputOptions\"===o?r.maskInputOptions=W({password:!0},a):r[o]=a);(this.canvasRecording&&this.canvasRecording.enabled&&(r.recordCanvas=!0,r.sampling={canvas:this.canvasRecording.fps},r.dataURLOptions={type:\"image/webp\",quality:this.canvasRecording.quality}),this.masking)&&(r.maskAllInputs=null===(t=this.masking.maskAllInputs)||void 0===t||t,r.maskTextSelector=null!==(i=this.masking.maskTextSelector)&&void 0!==i?i:void 0,r.blockSelector=null!==(s=this.masking.blockSelector)&&void 0!==s?s:void 0);if(this.rrwebRecord){this.mutationRateLimiter=null!==(e=this.mutationRateLimiter)&&void 0!==e?e:new Si(this.rrwebRecord,{refillRate:this.instance.config.session_recording.__mutationRateLimiterRefillRate,bucketSize:this.instance.config.session_recording.__mutationRateLimiterBucketSize,onBlockedNode:(e,t)=>{var i=\"Too many mutations on node '\".concat(e,\"'. Rate limiting. This could be due to SVG animations or something similar\");cs.info(i,{node:t}),this.log(ls+\" \"+i,\"warn\")}});var l=this._gatherRRWebPlugins();this.stopRrweb=this.rrwebRecord(W({emit:e=>{this.onRRwebEmit(e)},plugins:l},r)),this._lastActivityTimestamp=Date.now(),this.isIdle=!1,this._tryAddCustomEvent(\"$session_options\",{sessionRecordingOptions:r,activePlugins:l.map((e=>null==e?void 0:e.name))}),this._tryAddCustomEvent(\"$posthog_config\",{config:this.instance.config})}else cs.error(\"onScriptLoaded was called but rrwebRecord is not available. This indicates something has gone wrong.\")}_scheduleFullSnapshot(){if(this._fullSnapshotTimer&&clearInterval(this._fullSnapshotTimer),!this.isIdle){var e=this.fullSnapshotIntervalMillis;e&&(this._fullSnapshotTimer=setInterval((()=>{this._tryTakeFullSnapshot()}),e))}}_gatherRRWebPlugins(){var e,t,i,s,r=[],n=null===(e=_.__PosthogExtensions__)||void 0===e||null===(t=e.rrwebPlugins)||void 0===t?void 0:t.getRecordConsolePlugin;n&&this.isConsoleLogCaptureEnabled&&r.push(n());var o=null===(i=_.__PosthogExtensions__)||void 0===i||null===(s=i.rrwebPlugins)||void 0===s?void 0:s.getRecordNetworkPlugin;this.networkPayloadCapture&&I(o)&&(!wt.includes(location.hostname)||this._forceAllowLocalhostNetworkCapture?r.push(o(bi(this.instance.config,this.networkPayloadCapture))):cs.info(\"NetworkCapture not started because we are on localhost.\"));return r}onRRwebEmit(e){var t;if(this._processQueuedEvents(),e&&P(e)){if(e.type===ui.Meta){var i=this._maskUrl(e.data.href);if(this._lastHref=i,!i)return;e.data.href=i}else this._pageViewFallBack();if(this._checkUrlTriggerConditions(),!this._urlBlocked||function(e){return e.type===ui.Custom&&\"recording paused\"===e.data.tag}(e)){e.type===ui.FullSnapshot&&this._scheduleFullSnapshot(),e.type===ui.FullSnapshot&&\"trigger_pending\"===this.triggerStatus&&this.clearBuffer();var s=this.mutationRateLimiter?this.mutationRateLimiter.throttleMutations(e):e;if(s){var r=function(e){var t=e;if(t&&P(t)&&6===t.type&&P(t.data)&&\"rrweb/console@1\"===t.data.plugin){t.data.payload.payload.length>10&&(t.data.payload.payload=t.data.payload.payload.slice(0,10),t.data.payload.payload.push(\"...[truncated]\"));for(var i=[],s=0;s<t.data.payload.payload.length;s++)t.data.payload.payload[s]&&t.data.payload.payload[s].length>2e3?i.push(t.data.payload.payload[s].slice(0,2e3)+\"...[truncated]\"):i.push(t.data.payload.payload[s]);return t.data.payload.payload=i,e}return e}(s);if(this._updateWindowAndSessionIds(r),!this.isIdle||ps(r)){if(ps(r)){var n=r.data.payload;if(n){var o=n.lastActivityTimestamp,a=n.threshold;r.timestamp=o+a}}var l=null===(t=this.instance.config.session_recording.compress_events)||void 0===t||t?function(e){if(li(e)<1024)return e;try{if(e.type===ui.FullSnapshot)return W(W({},e),{},{data:_s(e.data),cv:\"2024-10\"});if(e.type===ui.IncrementalSnapshot&&e.data.source===di.Mutation)return W(W({},e),{},{cv:\"2024-10\",data:W(W({},e.data),{},{texts:_s(e.data.texts),attributes:_s(e.data.attributes),removes:_s(e.data.removes),adds:_s(e.data.adds)})});if(e.type===ui.IncrementalSnapshot&&e.data.source===di.StyleSheetRule)return W(W({},e),{},{cv:\"2024-10\",data:W(W({},e.data),{},{adds:e.data.adds?_s(e.data.adds):void 0,removes:e.data.removes?_s(e.data.removes):void 0})})}catch(e){cs.error(\"could not compress event - will use uncompressed event\",e)}return e}(r):r,c={$snapshot_bytes:li(l),$snapshot_data:l,$session_id:this.sessionId,$window_id:this.windowId};\"disabled\"!==this.status?this._captureSnapshotBuffered(c):this.clearBuffer()}}}}}_pageViewFallBack(){if(!this.instance.config.capture_pageview&&t){var e=this._maskUrl(t.location.href);this._lastHref!==e&&(this._tryAddCustomEvent(\"$url_changed\",{href:e}),this._lastHref=e)}}_processQueuedEvents(){if(this.queuedRRWebEvents.length){var e=[...this.queuedRRWebEvents];this.queuedRRWebEvents=[],e.forEach((e=>{Date.now()-e.enqueuedAt<=2e3&&this._tryRRWebMethod(e)}))}}_maskUrl(e){var t=this.instance.config.session_recording;if(t.maskNetworkRequestFn){var i,s={url:e};return null===(i=s=t.maskNetworkRequestFn(s))||void 0===i?void 0:i.url}return e}clearBuffer(){return this.buffer={size:0,data:[],sessionId:this.sessionId,windowId:this.windowId},this.buffer}_flushBuffer(){this.flushBufferTimer&&(clearTimeout(this.flushBufferTimer),this.flushBufferTimer=void 0);var e=this.minimumDuration,t=this.sessionDuration,i=O(t)&&t>=0,s=O(e)&&i&&t<e;if(\"buffering\"===this.status||\"paused\"===this.status||\"disabled\"===this.status||s)return this.flushBufferTimer=setTimeout((()=>{this._flushBuffer()}),2e3),this.buffer;this.buffer.data.length>0&&ci(this.buffer).forEach((e=>{this._captureSnapshot({$snapshot_bytes:e.size,$snapshot_data:e.data,$session_id:e.sessionId,$window_id:e.windowId,$lib:\"web\",$lib_version:p.LIB_VERSION})}));return this.clearBuffer()}_captureSnapshotBuffered(e){var t,i=2+((null===(t=this.buffer)||void 0===t?void 0:t.data.length)||0);!this.isIdle&&(this.buffer.size+e.$snapshot_bytes+i>943718.4||this.buffer.sessionId!==this.sessionId)&&(this.buffer=this._flushBuffer()),this.buffer.size+=e.$snapshot_bytes,this.buffer.data.push(e.$snapshot_data),this.flushBufferTimer||this.isIdle||(this.flushBufferTimer=setTimeout((()=>{this._flushBuffer()}),2e3))}_captureSnapshot(e){this.instance.capture(\"$snapshot\",e,{_url:this.instance.requestRouter.endpointFor(\"api\",this._endpoint),_noTruncate:!0,_batchKey:\"recordings\",skip_client_rate_limiting:!0})}_checkUrlTriggerConditions(){if(void 0!==t&&t.location.href){var e=t.location.href,i=this._urlBlocked,s=gs(e,this._urlBlocklist);s&&!i?this._pauseRecording():!s&&i&&this._resumeRecording(),gs(e,this._urlTriggers)&&this._activateTrigger(\"url\")}}_activateTrigger(e){var t,i;\"trigger_pending\"===this.triggerStatus&&(null===(t=this.instance)||void 0===t||null===(i=t.persistence)||void 0===i||i.register({[\"url\"===e?Pe:Ce]:this.sessionId}),this._flushBuffer(),this._reportStarted(e+\"_trigger_matched\"))}_pauseRecording(){this._urlBlocked||(this._urlBlocked=!0,clearInterval(this._fullSnapshotTimer),cs.info(\"recording paused due to URL blocker\"),this._tryAddCustomEvent(\"recording paused\",{reason:\"url blocker\"}))}_resumeRecording(){this._urlBlocked&&(this._urlBlocked=!1,this._tryTakeFullSnapshot(),this._scheduleFullSnapshot(),this._tryAddCustomEvent(\"recording resumed\",{reason:\"left blocked url\"}),cs.info(\"recording resumed\"))}_addEventTriggerListener(){0!==this._eventTriggers.length&&A(this._removeEventTriggerCaptureHook)&&(this._removeEventTriggerCaptureHook=this.instance.on(\"eventCaptured\",(e=>{try{this._eventTriggers.includes(e.event)&&this._activateTrigger(\"event\")}catch(e){cs.error(\"Could not activate event trigger\",e)}})))}overrideLinkedFlag(){this._linkedFlagSeen=!0,this._tryTakeFullSnapshot(),this._reportStarted(\"linked_flag_overridden\")}overrideSampling(){var e;null===(e=this.instance.persistence)||void 0===e||e.register({[Ie]:!0}),this._tryTakeFullSnapshot(),this._reportStarted(\"sampling_overridden\")}overrideTrigger(e){this._activateTrigger(e)}_reportStarted(e,t){this.instance.register_for_session({$session_recording_start_reason:e}),cs.info(e.replace(\"_\",\" \"),t),m([\"recording_initialized\",\"session_id_changed\"],e)||this._tryAddCustomEvent(e,t)}}var fs=H(\"[SegmentIntegration]\");function ms(e,t){var i=e.config.segment;if(!i)return t();!function(e,t){var i=e.config.segment;if(!i)return t();var s=i=>{var s=()=>i.anonymousId()||Nt();e.config.get_device_id=s,i.id()&&(e.register({distinct_id:i.id(),$device_id:s()}),e.persistence.set_property(Le,\"identified\")),t()},r=i.user();\"then\"in r&&I(r.then)?r.then((e=>s(e))):s(r)}(e,(()=>{i.register((e=>{Promise&&Promise.resolve||fs.warn(\"This browser does not have Promise support, and can not use the segment integration\");var t=(t,i)=>{var s;if(!i)return t;t.event.userId||t.event.anonymousId===e.get_distinct_id()||(fs.info(\"No userId set, resetting PostHog\"),e.reset()),t.event.userId&&t.event.userId!==e.get_distinct_id()&&(fs.info(\"UserId set, identifying with PostHog\"),e.identify(t.event.userId));var r=e._calculate_event_properties(i,null!==(s=t.event.properties)&&void 0!==s?s:{},new Date);return t.event.properties=Object.assign({},r,t.event.properties),t};return{name:\"PostHog JS\",type:\"enrichment\",version:\"1.0.0\",isLoaded:()=>!0,load:()=>Promise.resolve(),track:e=>t(e,e.event.event),page:e=>t(e,\"$pageview\"),identify:e=>t(e,\"$identify\"),screen:e=>t(e,\"$screen\")}})(e)).then((()=>{t()}))}))}var ys=\"posthog-js\";function bs(e){var{organization:t,projectId:i,prefix:s,severityAllowList:r=[\"error\"]}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{var o,a,l,c,u;if(!(\"*\"===r||r.includes(n.level))||!e.__loaded)return n;n.tags||(n.tags={});var d=e.requestRouter.endpointFor(\"ui\",\"/project/\".concat(e.config.token,\"/person/\").concat(e.get_distinct_id()));n.tags[\"PostHog Person URL\"]=d,e.sessionRecordingStarted()&&(n.tags[\"PostHog Recording URL\"]=e.get_session_replay_url({withTimestamp:!0}));var h=(null===(o=n.exception)||void 0===o?void 0:o.values)||[],_=h.map((e=>W(W({},e),{},{stacktrace:e.stacktrace?W(W({},e.stacktrace),{},{type:\"raw\",frames:(e.stacktrace.frames||[]).map((e=>W(W({},e),{},{platform:\"web:javascript\"})))}):void 0}))),p={$exception_message:(null===(a=h[0])||void 0===a?void 0:a.value)||n.message,$exception_type:null===(l=h[0])||void 0===l?void 0:l.type,$exception_personURL:d,$exception_level:n.level,$exception_list:_,$sentry_event_id:n.event_id,$sentry_exception:n.exception,$sentry_exception_message:(null===(c=h[0])||void 0===c?void 0:c.value)||n.message,$sentry_exception_type:null===(u=h[0])||void 0===u?void 0:u.type,$sentry_tags:n.tags};return t&&i&&(p.$sentry_url=(s||\"https://sentry.io/organizations/\")+t+\"/issues/?project=\"+i+\"&query=\"+n.event_id),e.exceptions.sendExceptionEvent(p),n}}class ws{constructor(e,t,i,s,r){this.name=ys,this.setupOnce=function(n){n(bs(e,{organization:t,projectId:i,prefix:s,severityAllowList:r}))}}}var Ss,ks=null!=t&&t.location?It(t.location.hash,\"__posthog\")||It(location.hash,\"state\"):null,Es=\"_postHogToolbarParams\",xs=H(\"[Toolbar]\");!function(e){e[e.UNINITIALIZED=0]=\"UNINITIALIZED\",e[e.LOADING=1]=\"LOADING\",e[e.LOADED=2]=\"LOADED\"}(Ss||(Ss={}));class Is{constructor(e){this.instance=e}setToolbarState(e){_.ph_toolbar_state=e}getToolbarState(){var e;return null!==(e=_.ph_toolbar_state)&&void 0!==e?e:Ss.UNINITIALIZED}maybeLoadToolbar(){var e,i,s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;if(!t||!a)return!1;s=null!==(e=s)&&void 0!==e?e:t.location,n=null!==(i=n)&&void 0!==i?i:t.history;try{if(!r){try{t.localStorage.setItem(\"test\",\"test\"),t.localStorage.removeItem(\"test\")}catch(e){return!1}r=null==t?void 0:t.localStorage}var o,l=ks||It(s.hash,\"__posthog\")||It(s.hash,\"state\"),c=l?ee((()=>JSON.parse(atob(decodeURIComponent(l)))))||ee((()=>JSON.parse(decodeURIComponent(l)))):null;return c&&\"ph_authorize\"===c.action?((o=c).source=\"url\",o&&Object.keys(o).length>0&&(c.desiredHash?s.hash=c.desiredHash:n?n.replaceState(n.state,\"\",s.pathname+s.search):s.hash=\"\")):((o=JSON.parse(r.getItem(Es)||\"{}\")).source=\"localstorage\",delete o.userIntent),!(!o.token||this.instance.config.token!==o.token)&&(this.loadToolbar(o),!0)}catch(e){return!1}}_callLoadToolbar(e){var t=_.ph_load_toolbar||_.ph_load_editor;!A(t)&&I(t)?t(e,this.instance):xs.warn(\"No toolbar load function found\")}loadToolbar(e){var i=!(null==a||!a.getElementById(ze));if(!t||i)return!1;var s=\"custom\"===this.instance.requestRouter.region&&this.instance.config.advanced_disable_toolbar_metrics,r=W(W({token:this.instance.config.token},e),{},{apiURL:this.instance.requestRouter.endpointFor(\"ui\")},s?{instrument:!1}:{});if(t.localStorage.setItem(Es,JSON.stringify(W(W({},r),{},{source:void 0}))),this.getToolbarState()===Ss.LOADED)this._callLoadToolbar(r);else if(this.getToolbarState()===Ss.UNINITIALIZED){var n,o;this.setToolbarState(Ss.LOADING),null===(n=_.__PosthogExtensions__)||void 0===n||null===(o=n.loadExternalDependency)||void 0===o||o.call(n,this.instance,\"toolbar\",(e=>{if(e)return xs.error(\"[Toolbar] Failed to load\",e),void this.setToolbarState(Ss.UNINITIALIZED);this.setToolbarState(Ss.LOADED),this._callLoadToolbar(r)})),ae(t,\"turbolinks:load\",(()=>{this.setToolbarState(Ss.UNINITIALIZED),this.loadToolbar(r)}))}return!0}_loadEditor(e){return this.loadToolbar(e)}maybeLoadEditor(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;return this.maybeLoadToolbar(e,t,i)}}var Ps=H(\"[TracingHeaders]\");class Cs{constructor(e){V(this,\"_restoreXHRPatch\",void 0),V(this,\"_restoreFetchPatch\",void 0),V(this,\"_startCapturing\",(()=>{var e,t,i,s;F(this._restoreXHRPatch)&&(null===(e=_.__PosthogExtensions__)||void 0===e||null===(t=e.tracingHeadersPatchFns)||void 0===t||t._patchXHR(this.instance.sessionManager));F(this._restoreFetchPatch)&&(null===(i=_.__PosthogExtensions__)||void 0===i||null===(s=i.tracingHeadersPatchFns)||void 0===s||s._patchFetch(this.instance.sessionManager))})),this.instance=e}_loadScript(e){var t,i,s;null!==(t=_.__PosthogExtensions__)&&void 0!==t&&t.tracingHeadersPatchFns&&e(),null===(i=_.__PosthogExtensions__)||void 0===i||null===(s=i.loadExternalDependency)||void 0===s||s.call(i,this.instance,\"tracing-headers\",(t=>{if(t)return Ps.error(\"failed to load script\",t);e()}))}startIfEnabledOrStop(){var e,t;this.instance.config.__add_tracing_headers?this._loadScript(this._startCapturing):(null===(e=this._restoreXHRPatch)||void 0===e||e.call(this),null===(t=this._restoreFetchPatch)||void 0===t||t.call(this),this._restoreXHRPatch=void 0,this._restoreFetchPatch=void 0)}}var Fs=H(\"[Web Vitals]\"),Rs=9e5;class Ts{constructor(e){var t;V(this,\"_enabledServerSide\",!1),V(this,\"_initialized\",!1),V(this,\"buffer\",{url:void 0,metrics:[],firstMetricTimestamp:void 0}),V(this,\"_flushToCapture\",(()=>{clearTimeout(this._delayedFlushTimer),0!==this.buffer.metrics.length&&(this.instance.capture(\"$web_vitals\",this.buffer.metrics.reduce(((e,t)=>W(W({},e),{},{[\"$web_vitals_\".concat(t.name,\"_event\")]:W({},t),[\"$web_vitals_\".concat(t.name,\"_value\")]:t.value})),{})),this.buffer={url:void 0,metrics:[],firstMetricTimestamp:void 0})})),V(this,\"_addToBuffer\",(e=>{var t,i=null===(t=this.instance.sessionManager)||void 0===t?void 0:t.checkAndGetSessionAndWindowId(!0);if(F(i))Fs.error(\"Could not read session ID. Dropping metrics!\");else{this.buffer=this.buffer||{url:void 0,metrics:[],firstMetricTimestamp:void 0};var s=this._currentURL();if(!F(s))if(A(null==e?void 0:e.name)||A(null==e?void 0:e.value))Fs.error(\"Invalid metric received\",e);else if(this._maxAllowedValue&&e.value>=this._maxAllowedValue)Fs.error(\"Ignoring metric with value >= \"+this._maxAllowedValue,e);else this.buffer.url!==s&&(this._flushToCapture(),this._delayedFlushTimer=setTimeout(this._flushToCapture,this.flushToCaptureTimeoutMs)),F(this.buffer.url)&&(this.buffer.url=s),this.buffer.firstMetricTimestamp=F(this.buffer.firstMetricTimestamp)?Date.now():this.buffer.firstMetricTimestamp,e.attribution&&e.attribution.interactionTargetElement&&(e.attribution.interactionTargetElement=void 0),this.buffer.metrics.push(W(W({},e),{},{$current_url:s,$session_id:i.sessionId,$window_id:i.windowId,timestamp:Date.now()})),this.buffer.metrics.length===this.allowedMetrics.length&&this._flushToCapture()}})),V(this,\"_startCapturing\",(()=>{var e,t,i,s,r=_.__PosthogExtensions__;F(r)||F(r.postHogWebVitalsCallbacks)||({onLCP:e,onCLS:t,onFCP:i,onINP:s}=r.postHogWebVitalsCallbacks),e&&t&&i&&s?(this.allowedMetrics.indexOf(\"LCP\")>-1&&e(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf(\"CLS\")>-1&&t(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf(\"FCP\")>-1&&i(this._addToBuffer.bind(this)),this.allowedMetrics.indexOf(\"INP\")>-1&&s(this._addToBuffer.bind(this)),this._initialized=!0):Fs.error(\"web vitals callbacks not loaded - not starting\")})),this.instance=e,this._enabledServerSide=!(null===(t=this.instance.persistence)||void 0===t||!t.props[pe]),this.startIfEnabled()}get allowedMetrics(){var e,t,i=P(this.instance.config.capture_performance)?null===(e=this.instance.config.capture_performance)||void 0===e?void 0:e.web_vitals_allowed_metrics:void 0;return F(i)?(null===(t=this.instance.persistence)||void 0===t?void 0:t.props[ve])||[\"CLS\",\"FCP\",\"INP\",\"LCP\"]:i}get flushToCaptureTimeoutMs(){return(P(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals_delayed_flush_ms:void 0)||5e3}get _maxAllowedValue(){var e=P(this.instance.config.capture_performance)&&O(this.instance.config.capture_performance.__web_vitals_max_value)?this.instance.config.capture_performance.__web_vitals_max_value:Rs;return 0<e&&e<=6e4?Rs:e}get isEnabled(){var e=P(this.instance.config.capture_performance)?this.instance.config.capture_performance.web_vitals:void 0;return M(e)?e:this._enabledServerSide}startIfEnabled(){this.isEnabled&&!this._initialized&&(Fs.info(\"enabled, starting...\"),this.loadScript(this._startCapturing))}onRemoteConfig(e){var t=P(e.capturePerformance)&&!!e.capturePerformance.web_vitals,i=P(e.capturePerformance)?e.capturePerformance.web_vitals_allowed_metrics:void 0;this.instance.persistence&&(this.instance.persistence.register({[pe]:t}),this.instance.persistence.register({[ve]:i})),this._enabledServerSide=t,this.startIfEnabled()}loadScript(e){var t,i,s;null!==(t=_.__PosthogExtensions__)&&void 0!==t&&t.postHogWebVitalsCallbacks&&e(),null===(i=_.__PosthogExtensions__)||void 0===i||null===(s=i.loadExternalDependency)||void 0===s||s.call(i,this.instance,\"web-vitals\",(t=>{t?Fs.error(\"failed to load script\",t):e()}))}_currentURL(){var e=t?t.location.href:void 0;return e||Fs.error(\"Could not determine current URL\"),e}}var $s=H(\"[Heatmaps]\");function As(e){return P(e)&&\"clientX\"in e&&\"clientY\"in e&&O(e.clientX)&&O(e.clientY)}class Os{constructor(e){var t;V(this,\"rageclicks\",new bt),V(this,\"_enabledServerSide\",!1),V(this,\"_initialized\",!1),V(this,\"_flushInterval\",null),this.instance=e,this._enabledServerSide=!(null===(t=this.instance.persistence)||void 0===t||!t.props[he])}get flushIntervalMilliseconds(){var e=5e3;return P(this.instance.config.capture_heatmaps)&&this.instance.config.capture_heatmaps.flush_interval_milliseconds&&(e=this.instance.config.capture_heatmaps.flush_interval_milliseconds),e}get isEnabled(){return F(this.instance.config.capture_heatmaps)?F(this.instance.config.enable_heatmaps)?this._enabledServerSide:this.instance.config.enable_heatmaps:!1!==this.instance.config.capture_heatmaps}startIfEnabled(){if(this.isEnabled){if(this._initialized)return;$s.info(\"starting...\"),this._setupListeners(),this._flushInterval=setInterval(this.flush.bind(this),this.flushIntervalMilliseconds)}else{var e,t;clearInterval(null!==(e=this._flushInterval)&&void 0!==e?e:void 0),null===(t=this.deadClicksCapture)||void 0===t||t.stop(),this.getAndClearBuffer()}}onRemoteConfig(e){var t=!!e.heatmaps;this.instance.persistence&&this.instance.persistence.register({[he]:t}),this._enabledServerSide=t,this.startIfEnabled()}getAndClearBuffer(){var e=this.buffer;return this.buffer=void 0,e}_onDeadClick(e){this._onClick(e.originalEvent,\"deadclick\")}_setupListeners(){t&&a&&(ae(t,\"beforeunload\",this.flush.bind(this)),ae(a,\"click\",(e=>this._onClick(e||(null==t?void 0:t.event))),{capture:!0}),ae(a,\"mousemove\",(e=>this._onMouseMove(e||(null==t?void 0:t.event))),{capture:!0}),this.deadClicksCapture=new ni(this.instance,si,this._onDeadClick.bind(this)),this.deadClicksCapture.startIfEnabled(),this._initialized=!0)}_getProperties(e,i){var s=this.instance.scrollManager.scrollY(),r=this.instance.scrollManager.scrollX(),n=this.instance.scrollManager.scrollElement(),o=function(e,i,s){for(var r=e;r&&Ge(r)&&!Je(r,\"body\");){if(r===s)return!1;if(m(i,null==t?void 0:t.getComputedStyle(r).position))return!0;r=rt(r)}return!1}(it(e),[\"fixed\",\"sticky\"],n);return{x:e.clientX+(o?0:r),y:e.clientY+(o?0:s),target_fixed:o,type:i}}_onClick(e){var t,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"click\";if(!Ve(e.target)&&As(e)){var s=this._getProperties(e,i);null!==(t=this.rageclicks)&&void 0!==t&&t.isRageClick(e.clientX,e.clientY,(new Date).getTime())&&this._capture(W(W({},s),{},{type:\"rageclick\"})),this._capture(s)}}_onMouseMove(e){!Ve(e.target)&&As(e)&&(clearTimeout(this._mouseMoveTimeout),this._mouseMoveTimeout=setTimeout((()=>{this._capture(this._getProperties(e,\"mousemove\"))}),500))}_capture(e){if(t){var i=t.location.href;this.buffer=this.buffer||{},this.buffer[i]||(this.buffer[i]=[]),this.buffer[i].push(e)}}flush(){this.buffer&&!C(this.buffer)&&this.instance.capture(\"$$heatmap\",{$heatmap_data:this.getAndClearBuffer()})}}class Ms{constructor(e){this._instance=e}doPageView(e,i){var s,r=this._previousPageViewProperties(e,i);return this._currentPageview={pathname:null!==(s=null==t?void 0:t.location.pathname)&&void 0!==s?s:\"\",pageViewId:i,timestamp:e},this._instance.scrollManager.resetContext(),r}doPageLeave(e){var t;return this._previousPageViewProperties(e,null===(t=this._currentPageview)||void 0===t?void 0:t.pageViewId)}doEvent(){var e;return{$pageview_id:null===(e=this._currentPageview)||void 0===e?void 0:e.pageViewId}}_previousPageViewProperties(e,t){var i=this._currentPageview;if(!i)return{$pageview_id:t};var s={$pageview_id:t,$prev_pageview_id:i.pageViewId},r=this._instance.scrollManager.getContext();if(r&&!this._instance.config.disable_scroll_properties){var{maxScrollHeight:n,lastScrollY:o,maxScrollY:a,maxContentHeight:l,lastContentY:c,maxContentY:u}=r;if(!(F(n)||F(o)||F(a)||F(l)||F(c)||F(u))){n=Math.ceil(n),o=Math.ceil(o),a=Math.ceil(a),l=Math.ceil(l),c=Math.ceil(c),u=Math.ceil(u);var d=n<=1?1:wi(o/n,0,1),h=n<=1?1:wi(a/n,0,1),_=l<=1?1:wi(c/l,0,1),p=l<=1?1:wi(u/l,0,1);s=X(s,{$prev_pageview_last_scroll:o,$prev_pageview_last_scroll_percentage:d,$prev_pageview_max_scroll:a,$prev_pageview_max_scroll_percentage:h,$prev_pageview_last_content:c,$prev_pageview_last_content_percentage:_,$prev_pageview_max_content:u,$prev_pageview_max_content_percentage:p})}}return i.pathname&&(s.$prev_pageview_pathname=i.pathname),i.timestamp&&(s.$prev_pageview_duration=(e.getTime()-i.timestamp.getTime())/1e3),s}}class Ls{constructor(e){this.instance=e}sendExceptionEvent(e){this.instance.capture(\"$exception\",e,{_noTruncate:!0,_batchKey:\"exceptionEvent\"})}}var Ds,qs=H(\"[FeatureFlags]\"),Ns=\"$active_feature_flags\",Bs=\"$override_feature_flags\",Hs=\"$feature_flag_payloads\",Us=\"$override_feature_flag_payloads\",zs=\"$feature_flag_request_id\",js=e=>{var t={};for(var[i,s]of Z(e||{}))s&&(t[i]=s);return t};!function(e){e.FeatureFlags=\"feature_flags\",e.Recordings=\"recordings\"}(Ds||(Ds={}));class Ws{constructor(e){V(this,\"_override_warning\",!1),V(this,\"_hasLoadedFlags\",!1),V(this,\"_requestInFlight\",!1),V(this,\"_reloadingDisabled\",!1),V(this,\"_additionalReloadRequested\",!1),V(this,\"_decideCalled\",!1),V(this,\"_flagsLoadedFromRemote\",!1),this.instance=e,this.featureFlagEventHandlers=[]}decide(){if(this.instance.config.__preview_remote_config)this._decideCalled=!0;else{var e=!this._reloadDebouncer&&(this.instance.config.advanced_disable_feature_flags||this.instance.config.advanced_disable_feature_flags_on_first_load);this._callDecideEndpoint({disableFlags:e})}}get hasLoadedFlags(){return this._hasLoadedFlags}getFlags(){return Object.keys(this.getFlagVariants())}getFlagVariants(){var e=this.instance.get_property(Fe),t=this.instance.get_property(Bs);if(!t)return e||{};for(var i=X({},e),s=Object.keys(t),r=0;r<s.length;r++)i[s[r]]=t[s[r]];return this._override_warning||(qs.warn(\" Overriding feature flags!\",{enabledFlags:e,overriddenFlags:t,finalFlags:i}),this._override_warning=!0),i}getFlagPayloads(){var e=this.instance.get_property(Hs),t=this.instance.get_property(Us);if(!t)return e||{};for(var i=X({},e||{}),s=Object.keys(t),r=0;r<s.length;r++)i[s[r]]=t[s[r]];return this._override_warning||(qs.warn(\" Overriding feature flag payloads!\",{flagPayloads:e,overriddenPayloads:t,finalPayloads:i}),this._override_warning=!0),i}reloadFeatureFlags(){this._reloadingDisabled||this.instance.config.advanced_disable_feature_flags||this._reloadDebouncer||(this._reloadDebouncer=setTimeout((()=>{this._callDecideEndpoint()}),5))}clearDebouncer(){clearTimeout(this._reloadDebouncer),this._reloadDebouncer=void 0}ensureFlagsLoaded(){this._hasLoadedFlags||this._requestInFlight||this._reloadDebouncer||this.reloadFeatureFlags()}setAnonymousDistinctId(e){this.$anon_distinct_id=e}setReloadingPaused(e){this._reloadingDisabled=e}_callDecideEndpoint(t){var i;if(this.clearDebouncer(),!this.instance.config.advanced_disable_decide)if(this._requestInFlight)this._additionalReloadRequested=!0;else{var s={token:this.instance.config.token,distinct_id:this.instance.get_distinct_id(),groups:this.instance.getGroups(),$anon_distinct_id:this.$anon_distinct_id,person_properties:W(W({},(null===(i=this.instance.persistence)||void 0===i?void 0:i.get_initial_props())||{}),this.instance.get_property(Te)||{}),group_properties:this.instance.get_property($e)};(null!=t&&t.disableFlags||this.instance.config.advanced_disable_feature_flags)&&(s.disable_flags=!0),this._requestInFlight=!0,this.instance._send_request({method:\"POST\",url:this.instance.requestRouter.endpointFor(\"api\",\"/decide/?v=3\"),data:s,compression:this.instance.config.disable_compression?void 0:e.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:e=>{var t,i,r,n=!0;(200===e.statusCode&&(this._additionalReloadRequested||(this.$anon_distinct_id=void 0),n=!1),this._requestInFlight=!1,this._decideCalled)||(this._decideCalled=!0,this.instance._onRemoteConfig(null!==(r=e.json)&&void 0!==r?r:{}));s.disable_flags&&!this._additionalReloadRequested||(this._flagsLoadedFromRemote=!n,e.json&&null!==(t=e.json.quotaLimited)&&void 0!==t&&t.includes(Ds.FeatureFlags)?qs.warn(\"You have hit your feature flags quota limit, and will not be able to load feature flags until the quota is reset.  Please visit https://posthog.com/docs/billing/limits-alerts to learn more.\"):(this.receivedFeatureFlags(null!==(i=e.json)&&void 0!==i?i:{},n),this._additionalReloadRequested&&(this._additionalReloadRequested=!1,this._callDecideEndpoint())))}})}}getFeatureFlag(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._hasLoadedFlags||this.getFlags()&&this.getFlags().length>0){var i,s,r,n,o,a=this.getFlagVariants()[e],l=\"\".concat(a),c=this.instance.get_property(zs)||void 0,u=this.instance.get_property(Me)||{};if(t.send_event||!(\"send_event\"in t))if(!(e in u)||!u[e].includes(l))x(u[e])?u[e].push(l):u[e]=[l],null===(i=this.instance.persistence)||void 0===i||i.register({[Me]:u}),this.instance.capture(\"$feature_flag_called\",{$feature_flag:e,$feature_flag_response:a,$feature_flag_payload:this.getFeatureFlagPayload(e)||null,$feature_flag_request_id:c,$feature_flag_bootstrapped_response:(null===(s=this.instance.config.bootstrap)||void 0===s||null===(r=s.featureFlags)||void 0===r?void 0:r[e])||null,$feature_flag_bootstrapped_payload:(null===(n=this.instance.config.bootstrap)||void 0===n||null===(o=n.featureFlagPayloads)||void 0===o?void 0:o[e])||null,$used_bootstrap_value:!this._flagsLoadedFromRemote});return a}qs.warn('getFeatureFlag for key \"'+e+\"\\\" failed. Feature flags didn't load in time.\")}getFeatureFlagPayload(e){return this.getFlagPayloads()[e]}getRemoteConfigPayload(t,i){var s=this.instance.config.token;this.instance._send_request({method:\"POST\",url:this.instance.requestRouter.endpointFor(\"api\",\"/decide/?v=3\"),data:{distinct_id:this.instance.get_distinct_id(),token:s},compression:this.instance.config.disable_compression?void 0:e.Base64,timeout:this.instance.config.feature_flag_request_timeout_ms,callback:e=>{var s,r=null===(s=e.json)||void 0===s?void 0:s.featureFlagPayloads;i((null==r?void 0:r[t])||void 0)}})}isFeatureEnabled(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._hasLoadedFlags||this.getFlags()&&this.getFlags().length>0)return!!this.getFeatureFlag(e,t);qs.warn('isFeatureEnabled for key \"'+e+\"\\\" failed. Feature flags didn't load in time.\")}addFeatureFlagsHandler(e){this.featureFlagEventHandlers.push(e)}removeFeatureFlagsHandler(e){this.featureFlagEventHandlers=this.featureFlagEventHandlers.filter((t=>t!==e))}receivedFeatureFlags(e,t){if(this.instance.persistence){this._hasLoadedFlags=!0;var i=this.getFlagVariants(),s=this.getFlagPayloads();!function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},r=e.featureFlags,n=e.featureFlagPayloads,o=e.requestId;if(r)if(x(r)){var a={};if(r)for(var l=0;l<r.length;l++)a[r[l]]=!0;t&&t.register({[Ns]:r,[Fe]:a})}else{var c=r,u=n;e.errorsWhileComputingFlags&&(c=W(W({},i),c),u=W(W({},s),u)),t&&t.register(W({[Ns]:Object.keys(js(c)),[Fe]:c||{},[Hs]:u||{}},o?{[zs]:o}:{}))}}(e,this.instance.persistence,i,s),this._fireFeatureFlagsCallbacks(t)}}override(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];qs.warn(\"override is deprecated. Please use overrideFeatureFlags instead.\"),this.overrideFeatureFlags({flags:e,suppressWarning:t})}overrideFeatureFlags(e){if(!this.instance.__loaded||!this.instance.persistence)return qs.uninitializedWarning(\"posthog.feature_flags.overrideFeatureFlags\");if(!1===e)return this.instance.persistence.unregister(Bs),this.instance.persistence.unregister(Us),void this._fireFeatureFlagsCallbacks();if(e&&\"object\"==typeof e&&(\"flags\"in e||\"payloads\"in e)){var t,i=e;if(this._override_warning=Boolean(null!==(t=i.suppressWarning)&&void 0!==t&&t),\"flags\"in i)if(!1===i.flags)this.instance.persistence.unregister(Bs);else if(i.flags)if(x(i.flags)){for(var s={},r=0;r<i.flags.length;r++)s[i.flags[r]]=!0;this.instance.persistence.register({[Bs]:s})}else this.instance.persistence.register({[Bs]:i.flags});return\"payloads\"in i&&(!1===i.payloads?this.instance.persistence.unregister(Us):i.payloads&&this.instance.persistence.register({[Us]:i.payloads})),void this._fireFeatureFlagsCallbacks()}this._fireFeatureFlagsCallbacks()}onFeatureFlags(e){if(this.addFeatureFlagsHandler(e),this._hasLoadedFlags){var{flags:t,flagVariants:i}=this._prepareFeatureFlagsForCallbacks();e(t,i)}return()=>this.removeFeatureFlagsHandler(e)}updateEarlyAccessFeatureEnrollment(e,t){var i,s=(this.instance.get_property(Re)||[]).find((t=>t.flagKey===e)),r={[\"$feature_enrollment/\".concat(e)]:t},n={$feature_flag:e,$feature_enrollment:t,$set:r};s&&(n.$early_access_feature_name=s.name),this.instance.capture(\"$feature_enrollment_update\",n),this.setPersonPropertiesForFlags(r,!1);var o=W(W({},this.getFlagVariants()),{},{[e]:t});null===(i=this.instance.persistence)||void 0===i||i.register({[Ns]:Object.keys(js(o)),[Fe]:o}),this._fireFeatureFlagsCallbacks()}getEarlyAccessFeatures(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0,s=this.instance.get_property(Re),r=i?\"&\".concat(i.map((e=>\"stage=\".concat(e))).join(\"&\")):\"\";if(s&&!t)return e(s);this.instance._send_request({url:this.instance.requestRouter.endpointFor(\"api\",\"/api/early_access_features/?token=\".concat(this.instance.config.token).concat(r)),method:\"GET\",callback:t=>{var i;if(t.json){var s=t.json.earlyAccessFeatures;return null===(i=this.instance.persistence)||void 0===i||i.register({[Re]:s}),e(s)}}})}_prepareFeatureFlagsForCallbacks(){var e=this.getFlags(),t=this.getFlagVariants();return{flags:e.filter((e=>t[e])),flagVariants:Object.keys(t).filter((e=>t[e])).reduce(((e,i)=>(e[i]=t[i],e)),{})}}_fireFeatureFlagsCallbacks(e){var{flags:t,flagVariants:i}=this._prepareFeatureFlagsForCallbacks();this.featureFlagEventHandlers.forEach((s=>s(t,i,{errorsLoading:e})))}setPersonPropertiesForFlags(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.instance.get_property(Te)||{};this.instance.register({[Te]:W(W({},i),e)}),t&&this.instance.reloadFeatureFlags()}resetPersonPropertiesForFlags(){this.instance.unregister(Te)}setGroupPropertiesForFlags(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],i=this.instance.get_property($e)||{};0!==Object.keys(i).length&&Object.keys(i).forEach((t=>{i[t]=W(W({},i[t]),e[t]),delete e[t]})),this.instance.register({[$e]:W(W({},i),e)}),t&&this.instance.reloadFeatureFlags()}resetGroupPropertiesForFlags(e){if(e){var t=this.instance.get_property($e)||{};this.instance.register({[$e]:W(W({},t),{},{[e]:{}})})}else this.instance.unregister($e)}}var Vs=\"Mobile\",Gs=\"iOS\",Js=\"Android\",Ys=\"Tablet\",Ks=Js+\" \"+Ys,Xs=\"iPad\",Qs=\"Apple\",Zs=Qs+\" Watch\",er=\"Safari\",tr=\"BlackBerry\",ir=\"Samsung\",sr=ir+\"Browser\",rr=ir+\" Internet\",nr=\"Chrome\",or=nr+\" OS\",ar=nr+\" \"+Gs,lr=\"Internet Explorer\",cr=lr+\" \"+Vs,ur=\"Opera\",dr=ur+\" Mini\",hr=\"Edge\",_r=\"Microsoft \"+hr,pr=\"Firefox\",gr=pr+\" \"+Gs,vr=\"Nintendo\",fr=\"PlayStation\",mr=\"Xbox\",yr=Js+\" \"+Vs,br=Vs+\" \"+er,wr=\"Windows\",Sr=wr+\" Phone\",kr=\"Nokia\",Er=\"Ouya\",xr=\"Generic\",Ir=xr+\" \"+Vs.toLowerCase(),Pr=xr+\" \"+Ys.toLowerCase(),Cr=\"Konqueror\",Fr=\"(\\\\d+(\\\\.\\\\d+)?)\",Rr=new RegExp(\"Version/\"+Fr),Tr=new RegExp(mr,\"i\"),$r=new RegExp(fr+\" \\\\w+\",\"i\"),Ar=new RegExp(vr+\" \\\\w+\",\"i\"),Or=new RegExp(tr+\"|PlayBook|BB10\",\"i\"),Mr={\"NT3.51\":\"NT 3.11\",\"NT4.0\":\"NT 4.0\",\"5.0\":\"2000\",5.1:\"XP\",5.2:\"XP\",\"6.0\":\"Vista\",6.1:\"7\",6.2:\"8\",6.3:\"8.1\",6.4:\"10\",\"10.0\":\"10\"};var Lr=(e,t)=>t&&m(t,Qs)||function(e){return m(e,er)&&!m(e,nr)&&!m(e,Js)}(e),Dr=function(e,t){return t=t||\"\",m(e,\" OPR/\")&&m(e,\"Mini\")?dr:m(e,\" OPR/\")?ur:Or.test(e)?tr:m(e,\"IE\"+Vs)||m(e,\"WPDesktop\")?cr:m(e,sr)?rr:m(e,hr)||m(e,\"Edg/\")?_r:m(e,\"FBIOS\")?\"Facebook \"+Vs:m(e,\"UCWEB\")||m(e,\"UCBrowser\")?\"UC Browser\":m(e,\"CriOS\")?ar:m(e,\"CrMo\")||m(e,nr)?nr:m(e,Js)&&m(e,er)?yr:m(e,\"FxiOS\")?gr:m(e.toLowerCase(),Cr.toLowerCase())?Cr:Lr(e,t)?m(e,Vs)?br:er:m(e,pr)?pr:m(e,\"MSIE\")||m(e,\"Trident/\")?lr:m(e,\"Gecko\")?pr:\"\"},qr={[cr]:[new RegExp(\"rv:\"+Fr)],[_r]:[new RegExp(hr+\"?\\\\/\"+Fr)],[nr]:[new RegExp(\"(\"+nr+\"|CrMo)\\\\/\"+Fr)],[ar]:[new RegExp(\"CriOS\\\\/\"+Fr)],\"UC Browser\":[new RegExp(\"(UCBrowser|UCWEB)\\\\/\"+Fr)],[er]:[Rr],[br]:[Rr],[ur]:[new RegExp(\"(Opera|OPR)\\\\/\"+Fr)],[pr]:[new RegExp(pr+\"\\\\/\"+Fr)],[gr]:[new RegExp(\"FxiOS\\\\/\"+Fr)],[Cr]:[new RegExp(\"Konqueror[:/]?\"+Fr,\"i\")],[tr]:[new RegExp(tr+\" \"+Fr),Rr],[yr]:[new RegExp(\"android\\\\s\"+Fr,\"i\")],[rr]:[new RegExp(sr+\"\\\\/\"+Fr)],[lr]:[new RegExp(\"(rv:|MSIE )\"+Fr)],Mozilla:[new RegExp(\"rv:\"+Fr)]},Nr=[[new RegExp(mr+\"; \"+mr+\" (.*?)[);]\",\"i\"),e=>[mr,e&&e[1]||\"\"]],[new RegExp(vr,\"i\"),[vr,\"\"]],[new RegExp(fr,\"i\"),[fr,\"\"]],[Or,[tr,\"\"]],[new RegExp(wr,\"i\"),(e,t)=>{if(/Phone/.test(t)||/WPDesktop/.test(t))return[Sr,\"\"];if(new RegExp(Vs).test(t)&&!/IEMobile\\b/.test(t))return[wr+\" \"+Vs,\"\"];var i=/Windows NT ([0-9.]+)/i.exec(t);if(i&&i[1]){var s=i[1],r=Mr[s]||\"\";return/arm/i.test(t)&&(r=\"RT\"),[wr,r]}return[wr,\"\"]}],[/((iPhone|iPad|iPod).*?OS (\\d+)_(\\d+)_?(\\d+)?|iPhone)/,e=>{if(e&&e[3]){var t=[e[3],e[4],e[5]||\"0\"];return[Gs,t.join(\".\")]}return[Gs,\"\"]}],[/(watch.*\\/(\\d+\\.\\d+\\.\\d+)|watch os,(\\d+\\.\\d+),)/i,e=>{var t=\"\";return e&&e.length>=3&&(t=F(e[2])?e[3]:e[2]),[\"watchOS\",t]}],[new RegExp(\"(\"+Js+\" (\\\\d+)\\\\.(\\\\d+)\\\\.?(\\\\d+)?|\"+Js+\")\",\"i\"),e=>{if(e&&e[2]){var t=[e[2],e[3],e[4]||\"0\"];return[Js,t.join(\".\")]}return[Js,\"\"]}],[/Mac OS X (\\d+)[_.](\\d+)[_.]?(\\d+)?/i,e=>{var t=[\"Mac OS X\",\"\"];if(e&&e[1]){var i=[e[1],e[2],e[3]||\"0\"];t[1]=i.join(\".\")}return t}],[/Mac/i,[\"Mac OS X\",\"\"]],[/CrOS/,[or,\"\"]],[/Linux|debian/i,[\"Linux\",\"\"]]],Br=function(e){return Ar.test(e)?vr:$r.test(e)?fr:Tr.test(e)?mr:new RegExp(Er,\"i\").test(e)?Er:new RegExp(\"(\"+Sr+\"|WPDesktop)\",\"i\").test(e)?Sr:/iPad/.test(e)?Xs:/iPod/.test(e)?\"iPod Touch\":/iPhone/.test(e)?\"iPhone\":/(watch)(?: ?os[,/]|\\d,\\d\\/)[\\d.]+/i.test(e)?Zs:Or.test(e)?tr:/(kobo)\\s(ereader|touch)/i.test(e)?\"Kobo\":new RegExp(kr,\"i\").test(e)?kr:/(kf[a-z]{2}wi|aeo[c-r]{2})( bui|\\))/i.test(e)||/(kf[a-z]+)( bui|\\)).+silk\\//i.test(e)?\"Kindle Fire\":/(Android|ZTE)/i.test(e)?!new RegExp(Vs).test(e)||/(9138B|TB782B|Nexus [97]|pixel c|HUAWEISHT|BTV|noble nook|smart ultra 6)/i.test(e)?/pixel[\\daxl ]{1,6}/i.test(e)&&!/pixel c/i.test(e)||/(huaweimed-al00|tah-|APA|SM-G92|i980|zte|U304AA)/i.test(e)||/lmy47v/i.test(e)&&!/QTAQZ3/i.test(e)?Js:Ks:Js:new RegExp(\"(pda|\"+Vs+\")\",\"i\").test(e)?Ir:new RegExp(Ys,\"i\").test(e)&&!new RegExp(Ys+\" pc\",\"i\").test(e)?Pr:\"\"},Hr=\"https?://(.*)\",Ur=[\"gclid\",\"gclsrc\",\"dclid\",\"gbraid\",\"wbraid\",\"fbclid\",\"msclkid\",\"twclid\",\"li_fat_id\",\"igshid\",\"ttclid\",\"rdt_cid\",\"irclid\",\"_kx\"],zr=Q([\"utm_source\",\"utm_medium\",\"utm_campaign\",\"utm_content\",\"utm_term\",\"gad_source\",\"mc_cid\"],Ur),jr=\"<masked>\",Wr={campaignParams:function(){var{customTrackedParams:e,maskPersonalDataProperties:t,customPersonalDataProperties:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!a)return{};var s=t?Q([],Ur,i||[]):[];return this._campaignParamsFromUrl(xt(a.URL,s,jr),e)},_campaignParamsFromUrl:function(e,t){var i=zr.concat(t||[]),s={};return K(i,(function(t){var i=Et(e,t);s[t]=i||null})),s},_searchEngine:function(e){return e?0===e.search(Hr+\"google.([^/?]*)\")?\"google\":0===e.search(Hr+\"bing.com\")?\"bing\":0===e.search(Hr+\"yahoo.com\")?\"yahoo\":0===e.search(Hr+\"duckduckgo.com\")?\"duckduckgo\":null:null},_searchInfoFromReferrer:function(e){var t=Wr._searchEngine(e),i=\"yahoo\"!=t?\"q\":\"p\",s={};if(!$(t)){s.$search_engine=t;var r=a?Et(a.referrer,i):\"\";r.length&&(s.ph_keyword=r)}return s},searchInfo:function(){var e=null==a?void 0:a.referrer;return e?this._searchInfoFromReferrer(e):{}},browser:Dr,browserVersion:function(e,t){var i=Dr(e,t),s=qr[i];if(F(s))return null;for(var r=0;r<s.length;r++){var n=s[r],o=e.match(n);if(o)return parseFloat(o[o.length-2])}return null},browserLanguage:function(){return navigator.language||navigator.userLanguage},browserLanguagePrefix:function(){var e=this.browserLanguage();return\"string\"==typeof e?e.split(\"-\")[0]:void 0},os:function(e){for(var t=0;t<Nr.length;t++){var[i,s]=Nr[t],r=i.exec(e),n=r&&(I(s)?s(r,e):s);if(n)return n}return[\"\",\"\"]},device:Br,deviceType:function(e){var t=Br(e);return t===Xs||t===Ks||\"Kobo\"===t||\"Kindle Fire\"===t||t===Pr?Ys:t===vr||t===mr||t===fr||t===Er?\"Console\":t===Zs?\"Wearable\":t?Vs:\"Desktop\"},referrer:function(){return(null==a?void 0:a.referrer)||\"$direct\"},referringDomain:function(){var e;return null!=a&&a.referrer&&(null===(e=St(a.referrer))||void 0===e?void 0:e.host)||\"$direct\"},referrerInfo:function(){return{$referrer:this.referrer(),$referring_domain:this.referringDomain()}},personInfo:function(){var{maskPersonalDataProperties:e,customPersonalDataProperties:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=e?Q([],Ur,t||[]):[],s=null==l?void 0:l.href.substring(0,1e3);return{r:this.referrer().substring(0,1e3),u:s?xt(s,i,jr):void 0}},personPropsFromInfo:function(e){var t,{r:i,u:s}=e,r={$referrer:i,$referring_domain:null==i?void 0:\"$direct\"==i?\"$direct\":null===(t=St(i))||void 0===t?void 0:t.host};if(s){r.$current_url=s;var n=St(s);r.$host=null==n?void 0:n.host,r.$pathname=null==n?void 0:n.pathname;var o=this._campaignParamsFromUrl(s);X(r,o)}if(i){var a=this._searchInfoFromReferrer(i);X(r,a)}return r},initialPersonPropsFromInfo:function(e){var t=this.personPropsFromInfo(e),i={};return K(t,(function(e,t){i[\"$initial_\".concat(b(t))]=e})),i},timezone:function(){try{return Intl.DateTimeFormat().resolvedOptions().timeZone}catch(e){return}},timezoneOffset:function(){try{return(new Date).getTimezoneOffset()}catch(e){return}},properties:function(){var{maskPersonalDataProperties:e,customPersonalDataProperties:i}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!h)return{};var s=e?Q([],Ur,i||[]):[],[r,n]=Wr.os(h);return X(ie({$os:r,$os_version:n,$browser:Wr.browser(h,navigator.vendor),$device:Wr.device(h),$device_type:Wr.deviceType(h),$timezone:Wr.timezone(),$timezone_offset:Wr.timezoneOffset()}),{$current_url:xt(null==l?void 0:l.href,s,jr),$host:null==l?void 0:l.host,$pathname:null==l?void 0:l.pathname,$raw_user_agent:h.length>1e3?h.substring(0,997)+\"...\":h,$browser_version:Wr.browserVersion(h,navigator.vendor),$browser_language:Wr.browserLanguage(),$browser_language_prefix:Wr.browserLanguagePrefix(),$screen_height:null==t?void 0:t.screen.height,$screen_width:null==t?void 0:t.screen.width,$viewport_height:null==t?void 0:t.innerHeight,$viewport_width:null==t?void 0:t.innerWidth,$lib:\"web\",$lib_version:p.LIB_VERSION,$insert_id:Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10),$time:Date.now()/1e3})},people_properties:function(){if(!h)return{};var[e,t]=Wr.os(h);return X(ie({$os:e,$os_version:t,$browser:Wr.browser(h,navigator.vendor)}),{$browser_version:Wr.browserVersion(h,navigator.vendor)})}},Vr=[\"cookie\",\"localstorage\",\"localstorage+cookie\",\"sessionstorage\",\"memory\"];class Gr{constructor(e){this.config=e,this.props={},this.campaign_params_saved=!1,this.name=(e=>{var t=\"\";return e.token&&(t=e.token.replace(/\\+/g,\"PL\").replace(/\\//g,\"SL\").replace(/=/g,\"EQ\")),e.persistence_name?\"ph_\"+e.persistence_name:\"ph_\"+t+\"_posthog\"})(e),this.storage=this.buildStorage(e),this.load(),e.debug&&B.info(\"Persistence loaded\",e.persistence,W({},this.props)),this.update_config(e,e),this.save()}buildStorage(e){-1===Vr.indexOf(e.persistence.toLowerCase())&&(B.critical(\"Unknown persistence type \"+e.persistence+\"; falling back to localStorage+cookie\"),e.persistence=\"localStorage+cookie\");var t=e.persistence.toLowerCase();return\"localstorage\"===t&&Jt.is_supported()?Jt:\"localstorage+cookie\"===t&&Kt.is_supported()?Kt:\"sessionstorage\"===t&&ei.is_supported()?ei:\"memory\"===t?Qt:\"cookie\"===t?Vt:Kt.is_supported()?Kt:Vt}properties(){var e={};return K(this.props,(function(t,i){if(i===Fe&&P(t))for(var s=Object.keys(t),r=0;r<s.length;r++)e[\"$feature/\".concat(s[r])]=t[s[r]];else a=i,l=!1,($(o=We)?l:n&&o.indexOf===n?-1!=o.indexOf(a):(K(o,(function(e){if(l||(l=e===a))return J})),l))||(e[i]=t);var o,a,l})),e}load(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=X({},e))}}save(){this.disabled||this.storage.set(this.name,this.props,this.expire_days,this.cross_subdomain,this.secure,this.config.debug)}remove(){this.storage.remove(this.name,!1),this.storage.remove(this.name,!0)}clear(){this.remove(),this.props={}}register_once(e,t,i){if(P(e)){F(t)&&(t=\"None\"),this.expire_days=F(i)?this.default_expiry:i;var s=!1;if(K(e,((e,i)=>{this.props.hasOwnProperty(i)&&this.props[i]!==t||(this.props[i]=e,s=!0)})),s)return this.save(),!0}return!1}register(e,t){if(P(e)){this.expire_days=F(t)?this.default_expiry:t;var i=!1;if(K(e,((t,s)=>{e.hasOwnProperty(s)&&this.props[s]!==t&&(this.props[s]=t,i=!0)})),i)return this.save(),!0}return!1}unregister(e){e in this.props&&(delete this.props[e],this.save())}update_campaign_params(){if(!this.campaign_params_saved){var e=Wr.campaignParams({customTrackedParams:this.config.custom_campaign_params,maskPersonalDataProperties:this.config.mask_personal_data_properties,customPersonalDataProperties:this.config.custom_personal_data_properties});C(ie(e))||this.register(e),this.campaign_params_saved=!0}}update_search_keyword(){this.register(Wr.searchInfo())}update_referrer_info(){this.register_once(Wr.referrerInfo(),void 0)}set_initial_person_info(){this.props[Ne]||this.props[Be]||this.register_once({[He]:Wr.personInfo({maskPersonalDataProperties:this.config.mask_personal_data_properties,customPersonalDataProperties:this.config.custom_personal_data_properties})},void 0)}get_referrer_info(){return ie({$referrer:this.props.$referrer,$referring_domain:this.props.$referring_domain})}get_initial_props(){var e={};K([Be,Ne],(t=>{var i=this.props[t];i&&K(i,(function(t,i){e[\"$initial_\"+b(i)]=t}))}));var t=this.props[He];if(t){var i=Wr.initialPersonPropsFromInfo(t);X(e,i)}return e}safe_merge(e){return K(this.props,(function(t,i){i in e||(e[i]=t)})),e}update_config(e,t){if(this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie),e.persistence!==t.persistence){var i=this.buildStorage(e),s=this.props;this.clear(),this.storage=i,this.props=s,this.save()}}set_disabled(e){this.disabled=e,this.disabled?this.remove():this.save()}set_cross_subdomain(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())}get_cross_subdomain(){return!!this.cross_subdomain}set_secure(e){e!==this.secure&&(this.secure=e,this.remove(),this.save())}set_event_timer(e,t){var i=this.props[ue]||{};i[e]=t,this.props[ue]=i,this.save()}remove_event_timer(e){var t=(this.props[ue]||{})[e];return F(t)||(delete this.props[ue][e],this.save()),t}get_property(e){return this.props[e]}set_property(e,t){this.props[e]=t,this.save()}}var Jr,Yr,Kr,Xr,Qr,Zr,en,tn,sn,rn,nn,on,an={},ln=[],cn=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,un=Array.isArray;function dn(e,t){for(var i in t)e[i]=t[i];return e}function hn(e){var t=e.parentNode;t&&t.removeChild(e)}function _n(e,t,i,s,r){var n={type:e,props:t,key:i,ref:s,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:null==r?++Kr:r,__i:-1,__u:0};return null==r&&null!=Yr.vnode&&Yr.vnode(n),n}function pn(e){return e.children}function gn(e,t){this.props=e,this.context=t}function vn(e,t){if(null==t)return e.__?vn(e.__,e.__i+1):null;for(var i;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e)return i.__e;return\"function\"==typeof e.type?vn(e):null}function fn(e){var t,i;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(i=e.__k[t])&&null!=i.__e){e.__e=e.__c.base=i.__e;break}return fn(e)}}function mn(e){(!e.__d&&(e.__d=!0)&&Xr.push(e)&&!yn.__r++||Qr!==Yr.debounceRendering)&&((Qr=Yr.debounceRendering)||Zr)(yn)}function yn(){var e,t,i,s,r,n,o,a,l;for(Xr.sort(en);e=Xr.shift();)e.__d&&(t=Xr.length,s=void 0,n=(r=(i=e).__v).__e,a=[],l=[],(o=i.__P)&&((s=dn({},r)).__v=r.__v+1,Yr.vnode&&Yr.vnode(s),Cn(o,s,r,i.__n,void 0!==o.ownerSVGElement,32&r.__u?[n]:null,a,null==n?vn(r):n,!!(32&r.__u),l),s.__.__k[s.__i]=s,Fn(a,s,l),s.__e!=n&&fn(s)),Xr.length>t&&Xr.sort(en));yn.__r=0}function bn(e,t,i,s,r,n,o,a,l,c,u){var d,h,_,p,g,v=s&&s.__k||ln,f=t.length;for(i.__d=l,wn(i,t,v),l=i.__d,d=0;d<f;d++)null!=(_=i.__k[d])&&\"boolean\"!=typeof _&&\"function\"!=typeof _&&(h=-1===_.__i?an:v[_.__i]||an,_.__i=d,Cn(e,_,h,r,n,o,a,l,c,u),p=_.__e,_.ref&&h.ref!=_.ref&&(h.ref&&Tn(h.ref,null,_),u.push(_.ref,_.__c||p,_)),null==g&&null!=p&&(g=p),65536&_.__u||h.__k===_.__k?l=Sn(_,l,e):\"function\"==typeof _.type&&void 0!==_.__d?l=_.__d:p&&(l=p.nextSibling),_.__d=void 0,_.__u&=-196609);i.__d=l,i.__e=g}function wn(e,t,i){var s,r,n,o,a,l=t.length,c=i.length,u=c,d=0;for(e.__k=[],s=0;s<l;s++)null!=(r=e.__k[s]=null==(r=t[s])||\"boolean\"==typeof r||\"function\"==typeof r?null:\"string\"==typeof r||\"number\"==typeof r||\"bigint\"==typeof r||r.constructor==String?_n(null,r,null,null,r):un(r)?_n(pn,{children:r},null,null,null):void 0===r.constructor&&r.__b>0?_n(r.type,r.props,r.key,r.ref?r.ref:null,r.__v):r)?(r.__=e,r.__b=e.__b+1,a=kn(r,i,o=s+d,u),r.__i=a,n=null,-1!==a&&(u--,(n=i[a])&&(n.__u|=131072)),null==n||null===n.__v?(-1==a&&d--,\"function\"!=typeof r.type&&(r.__u|=65536)):a!==o&&(a===o+1?d++:a>o?u>l-o?d+=a-o:d--:d=a<o&&a==o-1?a-o:0,a!==s+d&&(r.__u|=65536))):(n=i[s])&&null==n.key&&n.__e&&(n.__e==e.__d&&(e.__d=vn(n)),$n(n,n,!1),i[s]=null,u--);if(u)for(s=0;s<c;s++)null!=(n=i[s])&&0==(131072&n.__u)&&(n.__e==e.__d&&(e.__d=vn(n)),$n(n,n))}function Sn(e,t,i){var s,r;if(\"function\"==typeof e.type){for(s=e.__k,r=0;s&&r<s.length;r++)s[r]&&(s[r].__=e,t=Sn(s[r],t,i));return t}return e.__e!=t&&(i.insertBefore(e.__e,t||null),t=e.__e),t&&t.nextSibling}function kn(e,t,i,s){var r=e.key,n=e.type,o=i-1,a=i+1,l=t[i];if(null===l||l&&r==l.key&&n===l.type)return i;if(s>(null!=l&&0==(131072&l.__u)?1:0))for(;o>=0||a<t.length;){if(o>=0){if((l=t[o])&&0==(131072&l.__u)&&r==l.key&&n===l.type)return o;o--}if(a<t.length){if((l=t[a])&&0==(131072&l.__u)&&r==l.key&&n===l.type)return a;a++}}return-1}function En(e,t,i){\"-\"===t[0]?e.setProperty(t,null==i?\"\":i):e[t]=null==i?\"\":\"number\"!=typeof i||cn.test(t)?i:i+\"px\"}function xn(e,t,i,s,r){var n;e:if(\"style\"===t)if(\"string\"==typeof i)e.style.cssText=i;else{if(\"string\"==typeof s&&(e.style.cssText=s=\"\"),s)for(t in s)i&&t in i||En(e.style,t,\"\");if(i)for(t in i)s&&i[t]===s[t]||En(e.style,t,i[t])}else if(\"o\"===t[0]&&\"n\"===t[1])n=t!==(t=t.replace(/(PointerCapture)$|Capture$/,\"$1\")),t=t.toLowerCase()in e?t.toLowerCase().slice(2):t.slice(2),e.l||(e.l={}),e.l[t+n]=i,i?s?i.u=s.u:(i.u=Date.now(),e.addEventListener(t,n?Pn:In,n)):e.removeEventListener(t,n?Pn:In,n);else{if(r)t=t.replace(/xlink(H|:h)/,\"h\").replace(/sName$/,\"s\");else if(\"width\"!==t&&\"height\"!==t&&\"href\"!==t&&\"list\"!==t&&\"form\"!==t&&\"tabIndex\"!==t&&\"download\"!==t&&\"rowSpan\"!==t&&\"colSpan\"!==t&&\"role\"!==t&&t in e)try{e[t]=null==i?\"\":i;break e}catch(e){}\"function\"==typeof i||(null==i||!1===i&&\"-\"!==t[4]?e.removeAttribute(t):e.setAttribute(t,i))}}function In(e){var t=this.l[e.type+!1];if(e.t){if(e.t<=t.u)return}else e.t=Date.now();return t(Yr.event?Yr.event(e):e)}function Pn(e){return this.l[e.type+!0](Yr.event?Yr.event(e):e)}function Cn(e,t,i,s,r,n,o,a,l,c){var u,d,h,_,p,g,v,f,m,y,b,w,S,k,E,x=t.type;if(void 0!==t.constructor)return null;128&i.__u&&(l=!!(32&i.__u),n=[a=t.__e=i.__e]),(u=Yr.__b)&&u(t);e:if(\"function\"==typeof x)try{if(f=t.props,m=(u=x.contextType)&&s[u.__c],y=u?m?m.props.value:u.__:s,i.__c?v=(d=t.__c=i.__c).__=d.__E:(\"prototype\"in x&&x.prototype.render?t.__c=d=new x(f,y):(t.__c=d=new gn(f,y),d.constructor=x,d.render=An),m&&m.sub(d),d.props=f,d.state||(d.state={}),d.context=y,d.__n=s,h=d.__d=!0,d.__h=[],d._sb=[]),null==d.__s&&(d.__s=d.state),null!=x.getDerivedStateFromProps&&(d.__s==d.state&&(d.__s=dn({},d.__s)),dn(d.__s,x.getDerivedStateFromProps(f,d.__s))),_=d.props,p=d.state,d.__v=t,h)null==x.getDerivedStateFromProps&&null!=d.componentWillMount&&d.componentWillMount(),null!=d.componentDidMount&&d.__h.push(d.componentDidMount);else{if(null==x.getDerivedStateFromProps&&f!==_&&null!=d.componentWillReceiveProps&&d.componentWillReceiveProps(f,y),!d.__e&&(null!=d.shouldComponentUpdate&&!1===d.shouldComponentUpdate(f,d.__s,y)||t.__v===i.__v)){for(t.__v!==i.__v&&(d.props=f,d.state=d.__s,d.__d=!1),t.__e=i.__e,t.__k=i.__k,t.__k.forEach((function(e){e&&(e.__=t)})),b=0;b<d._sb.length;b++)d.__h.push(d._sb[b]);d._sb=[],d.__h.length&&o.push(d);break e}null!=d.componentWillUpdate&&d.componentWillUpdate(f,d.__s,y),null!=d.componentDidUpdate&&d.__h.push((function(){d.componentDidUpdate(_,p,g)}))}if(d.context=y,d.props=f,d.__P=e,d.__e=!1,w=Yr.__r,S=0,\"prototype\"in x&&x.prototype.render){for(d.state=d.__s,d.__d=!1,w&&w(t),u=d.render(d.props,d.state,d.context),k=0;k<d._sb.length;k++)d.__h.push(d._sb[k]);d._sb=[]}else do{d.__d=!1,w&&w(t),u=d.render(d.props,d.state,d.context),d.state=d.__s}while(d.__d&&++S<25);d.state=d.__s,null!=d.getChildContext&&(s=dn(dn({},s),d.getChildContext())),h||null==d.getSnapshotBeforeUpdate||(g=d.getSnapshotBeforeUpdate(_,p)),bn(e,un(E=null!=u&&u.type===pn&&null==u.key?u.props.children:u)?E:[E],t,i,s,r,n,o,a,l,c),d.base=t.__e,t.__u&=-161,d.__h.length&&o.push(d),v&&(d.__E=d.__=null)}catch(e){t.__v=null,l||null!=n?(t.__e=a,t.__u|=l?160:32,n[n.indexOf(a)]=null):(t.__e=i.__e,t.__k=i.__k),Yr.__e(e,t,i)}else null==n&&t.__v===i.__v?(t.__k=i.__k,t.__e=i.__e):t.__e=Rn(i.__e,t,i,s,r,n,o,l,c);(u=Yr.diffed)&&u(t)}function Fn(e,t,i){t.__d=void 0;for(var s=0;s<i.length;s++)Tn(i[s],i[++s],i[++s]);Yr.__c&&Yr.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){Yr.__e(e,t.__v)}}))}function Rn(e,t,i,s,r,n,o,a,l){var c,u,d,h,_,p,g,v=i.props,f=t.props,m=t.type;if(\"svg\"===m&&(r=!0),null!=n)for(c=0;c<n.length;c++)if((_=n[c])&&\"setAttribute\"in _==!!m&&(m?_.localName===m:3===_.nodeType)){e=_,n[c]=null;break}if(null==e){if(null===m)return document.createTextNode(f);e=r?document.createElementNS(\"http://www.w3.org/2000/svg\",m):document.createElement(m,f.is&&f),n=null,a=!1}if(null===m)v===f||a&&e.data===f||(e.data=f);else{if(n=n&&Jr.call(e.childNodes),v=i.props||an,!a&&null!=n)for(v={},c=0;c<e.attributes.length;c++)v[(_=e.attributes[c]).name]=_.value;for(c in v)_=v[c],\"children\"==c||(\"dangerouslySetInnerHTML\"==c?d=_:\"key\"===c||c in f||xn(e,c,null,_,r));for(c in f)_=f[c],\"children\"==c?h=_:\"dangerouslySetInnerHTML\"==c?u=_:\"value\"==c?p=_:\"checked\"==c?g=_:\"key\"===c||a&&\"function\"!=typeof _||v[c]===_||xn(e,c,_,v[c],r);if(u)a||d&&(u.__html===d.__html||u.__html===e.innerHTML)||(e.innerHTML=u.__html),t.__k=[];else if(d&&(e.innerHTML=\"\"),bn(e,un(h)?h:[h],t,i,s,r&&\"foreignObject\"!==m,n,o,n?n[0]:i.__k&&vn(i,0),a,l),null!=n)for(c=n.length;c--;)null!=n[c]&&hn(n[c]);a||(c=\"value\",void 0!==p&&(p!==e[c]||\"progress\"===m&&!p||\"option\"===m&&p!==v[c])&&xn(e,c,p,v[c],!1),c=\"checked\",void 0!==g&&g!==e[c]&&xn(e,c,g,v[c],!1))}return e}function Tn(e,t,i){try{\"function\"==typeof e?e(t):e.current=t}catch(e){Yr.__e(e,i)}}function $n(e,t,i){var s,r;if(Yr.unmount&&Yr.unmount(e),(s=e.ref)&&(s.current&&s.current!==e.__e||Tn(s,null,t)),null!=(s=e.__c)){if(s.componentWillUnmount)try{s.componentWillUnmount()}catch(e){Yr.__e(e,t)}s.base=s.__P=null,e.__c=void 0}if(s=e.__k)for(r=0;r<s.length;r++)s[r]&&$n(s[r],t,i||\"function\"!=typeof e.type);i||null==e.__e||hn(e.__e),e.__=e.__e=e.__d=void 0}function An(e,t,i){return this.constructor(e,i)}Jr=ln.slice,Yr={__e:function(e,t,i,s){for(var r,n,o;t=t.__;)if((r=t.__c)&&!r.__)try{if((n=r.constructor)&&null!=n.getDerivedStateFromError&&(r.setState(n.getDerivedStateFromError(e)),o=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(e,s||{}),o=r.__d),o)return r.__E=r}catch(t){e=t}throw e}},Kr=0,gn.prototype.setState=function(e,t){var i;i=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=dn({},this.state),\"function\"==typeof e&&(e=e(dn({},i),this.props)),e&&dn(i,e),null!=e&&this.__v&&(t&&this._sb.push(t),mn(this))},gn.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),mn(this))},gn.prototype.render=pn,Xr=[],Zr=\"function\"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,en=function(e,t){return e.__v.__b-t.__v.__b},yn.__r=0,tn=0,function(e){e.Popover=\"popover\",e.API=\"api\",e.Widget=\"widget\"}(sn||(sn={})),function(e){e.Open=\"open\",e.MultipleChoice=\"multiple_choice\",e.SingleChoice=\"single_choice\",e.Rating=\"rating\",e.Link=\"link\"}(rn||(rn={})),function(e){e.NextQuestion=\"next_question\",e.End=\"end\",e.ResponseBased=\"response_based\",e.SpecificQuestion=\"specific_question\"}(nn||(nn={})),function(e){e.Once=\"once\",e.Recurring=\"recurring\",e.Always=\"always\"}(on||(on={}));!function(e,t){var i={__c:t=\"__cC\"+tn++,__:e,Consumer:function(e,t){return e.children(t)},Provider:function(e){var i,s;return this.getChildContext||(i=[],(s={})[t]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(e){this.props.value!==e.value&&i.some((function(e){e.__e=!0,mn(e)}))},this.sub=function(e){i.push(e);var t=e.componentWillUnmount;e.componentWillUnmount=function(){i.splice(i.indexOf(e),1),t&&t.call(e)}}),e.children}};i.Provider.__=i.Consumer.contextType=i}({isPreviewMode:!1,previewPageIndex:0,onPopupSurveyDismissed:()=>{},isPopup:!0,onPreviewSubmit:()=>{},onPopupSurveySent:()=>{}});var On=function(e,t){if(!function(e){try{new RegExp(e)}catch(e){return!1}return!0}(t))return!1;try{return new RegExp(t).test(e)}catch(e){return!1}};class Mn{constructor(){V(this,\"events\",{}),this.events={}}on(e,t){return this.events[e]||(this.events[e]=[]),this.events[e].push(t),()=>{this.events[e]=this.events[e].filter((e=>e!==t))}}emit(e,t){for(var i of this.events[e]||[])i(t);for(var s of this.events[\"*\"]||[])s(e,t)}}class Ln{constructor(e){V(this,\"_debugEventEmitter\",new Mn),V(this,\"checkStep\",((e,t)=>this.checkStepEvent(e,t)&&this.checkStepUrl(e,t)&&this.checkStepElement(e,t))),V(this,\"checkStepEvent\",((e,t)=>null==t||!t.event||(null==e?void 0:e.event)===(null==t?void 0:t.event))),this.instance=e,this.actionEvents=new Set,this.actionRegistry=new Set}init(){var e;if(!F(null===(e=this.instance)||void 0===e?void 0:e._addCaptureHook)){var t;null===(t=this.instance)||void 0===t||t._addCaptureHook(((e,t)=>{this.on(e,t)}))}}register(e){var t,i;if(!F(null===(t=this.instance)||void 0===t?void 0:t._addCaptureHook)&&(e.forEach((e=>{var t,i;null===(t=this.actionRegistry)||void 0===t||t.add(e),null===(i=e.steps)||void 0===i||i.forEach((e=>{var t;null===(t=this.actionEvents)||void 0===t||t.add((null==e?void 0:e.event)||\"\")}))})),null!==(i=this.instance)&&void 0!==i&&i.autocapture)){var s,r=new Set;e.forEach((e=>{var t;null===(t=e.steps)||void 0===t||t.forEach((e=>{null!=e&&e.selector&&r.add(null==e?void 0:e.selector)}))})),null===(s=this.instance)||void 0===s||s.autocapture.setElementSelectors(r)}}on(e,t){var i;null!=t&&0!=e.length&&(this.actionEvents.has(e)||this.actionEvents.has(null==t?void 0:t.event))&&this.actionRegistry&&(null===(i=this.actionRegistry)||void 0===i?void 0:i.size)>0&&this.actionRegistry.forEach((e=>{this.checkAction(t,e)&&this._debugEventEmitter.emit(\"actionCaptured\",e.name)}))}_addActionHook(e){this.onAction(\"actionCaptured\",(t=>e(t)))}checkAction(e,t){if(null==(null==t?void 0:t.steps))return!1;for(var i of t.steps)if(this.checkStep(e,i))return!0;return!1}onAction(e,t){return this._debugEventEmitter.on(e,t)}checkStepUrl(e,t){if(null!=t&&t.url){var i,s=null==e||null===(i=e.properties)||void 0===i?void 0:i.$current_url;if(!s||\"string\"!=typeof s)return!1;if(!Ln.matchString(s,null==t?void 0:t.url,(null==t?void 0:t.url_matching)||\"contains\"))return!1}return!0}static matchString(e,i,s){switch(s){case\"regex\":return!!t&&On(e,i);case\"exact\":return i===e;case\"contains\":var r=Ln.escapeStringRegexp(i).replace(/_/g,\".\").replace(/%/g,\".*\");return On(e,r);default:return!1}}static escapeStringRegexp(e){return e.replace(/[|\\\\{}()[\\]^$+*?.]/g,\"\\\\$&\").replace(/-/g,\"\\\\x2d\")}checkStepElement(e,t){if((null!=t&&t.href||null!=t&&t.tag_name||null!=t&&t.text)&&!this.getElementsList(e).some((e=>!(null!=t&&t.href&&!Ln.matchString(e.href||\"\",null==t?void 0:t.href,(null==t?void 0:t.href_matching)||\"exact\"))&&((null==t||!t.tag_name||e.tag_name===(null==t?void 0:t.tag_name))&&!(null!=t&&t.text&&!Ln.matchString(e.text||\"\",null==t?void 0:t.text,(null==t?void 0:t.text_matching)||\"exact\")&&!Ln.matchString(e.$el_text||\"\",null==t?void 0:t.text,(null==t?void 0:t.text_matching)||\"exact\"))))))return!1;if(null!=t&&t.selector){var i,s=null==e||null===(i=e.properties)||void 0===i?void 0:i.$element_selectors;if(!s)return!1;if(!s.includes(null==t?void 0:t.selector))return!1}return!0}getElementsList(e){return null==(null==e?void 0:e.properties.$elements)?[]:null==e?void 0:e.properties.$elements}}class Dn{constructor(e){this.instance=e,this.eventToSurveys=new Map,this.actionToSurveys=new Map}register(e){var t;F(null===(t=this.instance)||void 0===t?void 0:t._addCaptureHook)||(this.setupEventBasedSurveys(e),this.setupActionBasedSurveys(e))}setupActionBasedSurveys(e){var t=e.filter((e=>{var t,i,s,r;return(null===(t=e.conditions)||void 0===t?void 0:t.actions)&&(null===(i=e.conditions)||void 0===i||null===(s=i.actions)||void 0===s||null===(r=s.values)||void 0===r?void 0:r.length)>0}));if(0!==t.length){if(null==this.actionMatcher){this.actionMatcher=new Ln(this.instance),this.actionMatcher.init();this.actionMatcher._addActionHook((e=>{this.onAction(e)}))}t.forEach((e=>{var t,i,s,r,n,o,a,l,c,u;e.conditions&&null!==(t=e.conditions)&&void 0!==t&&t.actions&&null!==(i=e.conditions)&&void 0!==i&&null!==(s=i.actions)&&void 0!==s&&s.values&&(null===(r=e.conditions)||void 0===r||null===(n=r.actions)||void 0===n||null===(o=n.values)||void 0===o?void 0:o.length)>0&&(null===(a=this.actionMatcher)||void 0===a||a.register(e.conditions.actions.values),null===(l=e.conditions)||void 0===l||null===(c=l.actions)||void 0===c||null===(u=c.values)||void 0===u||u.forEach((t=>{if(t&&t.name){var i=this.actionToSurveys.get(t.name);i&&i.push(e.id),this.actionToSurveys.set(t.name,i||[e.id])}})))}))}}setupEventBasedSurveys(e){var t;if(0!==e.filter((e=>{var t,i,s,r;return(null===(t=e.conditions)||void 0===t?void 0:t.events)&&(null===(i=e.conditions)||void 0===i||null===(s=i.events)||void 0===s||null===(r=s.values)||void 0===r?void 0:r.length)>0})).length){null===(t=this.instance)||void 0===t||t._addCaptureHook(((e,t)=>{this.onEvent(e,t)})),e.forEach((e=>{var t,i,s;null===(t=e.conditions)||void 0===t||null===(i=t.events)||void 0===i||null===(s=i.values)||void 0===s||s.forEach((t=>{if(t&&t.name){var i=this.eventToSurveys.get(t.name);i&&i.push(e.id),this.eventToSurveys.set(t.name,i||[e.id])}}))}))}}onEvent(e,t){var i,s,r=(null===(i=this.instance)||void 0===i||null===(s=i.persistence)||void 0===s?void 0:s.props[Oe])||[];if(Dn.SURVEY_SHOWN_EVENT_NAME==e&&t&&r.length>0){var n,o=null==t||null===(n=t.properties)||void 0===n?void 0:n.$survey_id;if(o){var a=r.indexOf(o);a>=0&&(r.splice(a,1),this._updateActivatedSurveys(r))}}else this.eventToSurveys.has(e)&&this._updateActivatedSurveys(r.concat(this.eventToSurveys.get(e)||[]))}onAction(e){var t,i,s=(null===(t=this.instance)||void 0===t||null===(i=t.persistence)||void 0===i?void 0:i.props[Oe])||[];this.actionToSurveys.has(e)&&this._updateActivatedSurveys(s.concat(this.actionToSurveys.get(e)||[]))}_updateActivatedSurveys(e){var t,i;null===(t=this.instance)||void 0===t||null===(i=t.persistence)||void 0===i||i.register({[Oe]:[...new Set(e)]})}getSurveys(){var e,t,i=null===(e=this.instance)||void 0===e||null===(t=e.persistence)||void 0===t?void 0:t.props[Oe];return i||[]}getEventToSurveys(){return this.eventToSurveys}_getActionMatcher(){return this.actionMatcher}}V(Dn,\"SURVEY_SHOWN_EVENT_NAME\",\"survey shown\");var qn=H(\"[Surveys]\"),Nn={icontains:(e,t)=>e.some((e=>t.toLowerCase().includes(e.toLowerCase()))),not_icontains:(e,t)=>e.every((e=>!t.toLowerCase().includes(e.toLowerCase()))),regex:(e,t)=>e.some((e=>On(t,e))),not_regex:(e,t)=>e.every((e=>!On(t,e))),exact:(e,t)=>e.some((e=>t===e)),is_not:(e,t)=>e.every((e=>t!==e))};function Bn(e){return null!=e?e:\"icontains\"}class Hn{constructor(e){V(this,\"_isFetchingSurveys\",!1),V(this,\"_isInitializingSurveys\",!1),this.instance=e,this._surveyEventReceiver=null}onRemoteConfig(e){this._decideServerResponse=!!e.surveys,qn.info(\"decideServerResponse set to \".concat(this._decideServerResponse)),this.loadIfEnabled()}reset(){localStorage.removeItem(\"lastSeenSurveyDate\");var e=(()=>{for(var e=[],t=0;t<localStorage.length;t++){var i=localStorage.key(t);null!=i&&i.startsWith(\"seenSurvey_\")&&e.push(i)}return e})();e.forEach((e=>localStorage.removeItem(e)))}loadIfEnabled(){if(!this._surveyManager)if(this._isInitializingSurveys)qn.info(\"Already initializing surveys, skipping...\");else if(this.instance.config.disable_surveys)qn.info(\"Disabled. Not loading surveys.\");else{var e=null==_?void 0:_.__PosthogExtensions__;if(e)if(this._decideServerResponse){this._isInitializingSurveys=!0;try{var t=e.generateSurveys;if(t)this._surveyManager=t(this.instance),this._isInitializingSurveys=!1,this._surveyEventReceiver=new Dn(this.instance),qn.info(\"Surveys loaded successfully\");else{var i=e.loadExternalDependency;i?i(this.instance,\"surveys\",(t=>{if(t||!e.generateSurveys)return qn.error(\"Could not load surveys script\",t),void(this._isInitializingSurveys=!1);this._surveyManager=e.generateSurveys(this.instance),this._isInitializingSurveys=!1,this._surveyEventReceiver=new Dn(this.instance),qn.info(\"Surveys loaded successfully\")})):(qn.error(\"PostHog loadExternalDependency extension not found. Cannot load remote config.\"),this._isInitializingSurveys=!1)}}catch(e){throw qn.error(\"Error initializing surveys\",e),this._isInitializingSurveys=!1,e}}else qn.warn(\"Decide not loaded yet. Not loading surveys.\");else qn.error(\"PostHog Extensions not found.\")}}getSurveys(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(this.instance.config.disable_surveys)return qn.info(\"Disabled. Not loading surveys.\"),e([]);var i=this.instance.get_property(Ae);if(i&&!t)return e(i);if(this._isFetchingSurveys)return e([]);try{this._isFetchingSurveys=!0,this.instance._send_request({url:this.instance.requestRouter.endpointFor(\"api\",\"/api/surveys/?token=\".concat(this.instance.config.token)),method:\"GET\",timeout:this.instance.config.surveys_request_timeout_ms,callback:t=>{var i;this._isFetchingSurveys=!1;var s=t.statusCode;if(200!==s||!t.json)return qn.error(\"Surveys API could not be loaded, status: \".concat(s)),e([]);var r,n=t.json.surveys||[],o=n.filter((e=>{var t,i,s,r,n,o,a,l,c,u,d,h;return(null===(t=e.conditions)||void 0===t?void 0:t.events)&&(null===(i=e.conditions)||void 0===i||null===(s=i.events)||void 0===s?void 0:s.values)&&(null===(r=e.conditions)||void 0===r||null===(n=r.events)||void 0===n||null===(o=n.values)||void 0===o?void 0:o.length)>0||(null===(a=e.conditions)||void 0===a?void 0:a.actions)&&(null===(l=e.conditions)||void 0===l||null===(c=l.actions)||void 0===c?void 0:c.values)&&(null===(u=e.conditions)||void 0===u||null===(d=u.actions)||void 0===d||null===(h=d.values)||void 0===h?void 0:h.length)>0}));o.length>0&&(null===(r=this._surveyEventReceiver)||void 0===r||r.register(o));return null===(i=this.instance.persistence)||void 0===i||i.register({[Ae]:n}),e(n)}})}catch(e){throw this._isFetchingSurveys=!1,e}}isSurveyFeatureFlagEnabled(e){return!e||this.instance.featureFlags.isFeatureEnabled(e)}getActiveMatchingSurveys(e){var i=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.getSurveys((i=>{var s,r=i.filter((e=>!(!e.start_date||e.end_date))).filter((e=>{var i;if(!e.conditions)return!0;var s=function(e){var i,s,r;if(null===(i=e.conditions)||void 0===i||!i.url)return!0;var n=null==t||null===(s=t.location)||void 0===s?void 0:s.href;if(!n)return!1;var o=[e.conditions.url];return Nn[Bn(null===(r=e.conditions)||void 0===r?void 0:r.urlMatchType)](o,n)}(e),r=null===(i=e.conditions)||void 0===i||!i.selector||(null==a?void 0:a.querySelector(e.conditions.selector)),n=function(e){var t,i,s;if(null===(t=e.conditions)||void 0===t||!t.deviceTypes||0===(null===(i=e.conditions)||void 0===i?void 0:i.deviceTypes.length))return!0;if(!h)return!1;var r=Wr.deviceType(h);return Nn[Bn(null===(s=e.conditions)||void 0===s?void 0:s.deviceTypesMatchType)](e.conditions.deviceTypes,r)}(e);return s&&r&&n})),n=null===(s=this._surveyEventReceiver)||void 0===s?void 0:s.getSurveys(),o=r.filter((e=>{var t,i,s,r,o,a,l,c,u;if(!(e.linked_flag_key||e.targeting_flag_key||e.internal_targeting_flag_key||null!==(t=e.feature_flag_keys)&&void 0!==t&&t.length))return!0;var d=this.isSurveyFeatureFlagEnabled(e.linked_flag_key),h=this.isSurveyFeatureFlagEnabled(e.targeting_flag_key),_=(null!==(i=null===(s=e.conditions)||void 0===s||null===(r=s.events)||void 0===r||null===(o=r.values)||void 0===o?void 0:o.length)&&void 0!==i?i:0)>0,p=(null!==(a=null===(l=e.conditions)||void 0===l||null===(c=l.actions)||void 0===c||null===(u=c.values)||void 0===u?void 0:u.length)&&void 0!==a?a:0)>0,g=!_&&!p||(null==n?void 0:n.includes(e.id)),v=this._canActivateRepeatedly(e)||this.isSurveyFeatureFlagEnabled(e.internal_targeting_flag_key),f=this.checkFlags(e);return d&&h&&v&&g&&f}));return e(o)}),i)}checkFlags(e){var t;return null===(t=e.feature_flag_keys)||void 0===t||!t.length||e.feature_flag_keys.every((e=>{var{key:t,value:i}=e;return!t||!i||this.instance.featureFlags.isFeatureEnabled(i)}))}_canActivateRepeatedly(e){var t;return A(null===(t=_.__PosthogExtensions__)||void 0===t?void 0:t.canActivateRepeatedly)?(qn.warn(\"init was not called\"),!1):_.__PosthogExtensions__.canActivateRepeatedly(e)}canRenderSurvey(e){A(this._surveyManager)?qn.warn(\"init was not called\"):this.getSurveys((t=>{var i=t.filter((t=>t.id===e))[0];this._surveyManager.canRenderSurvey(i)}))}renderSurvey(e,t){A(this._surveyManager)?qn.warn(\"init was not called\"):this.getSurveys((i=>{var s=i.filter((t=>t.id===e))[0];this._surveyManager.renderSurvey(s,null==a?void 0:a.querySelector(t))}))}}var Un=H(\"[RateLimiter]\");class zn{constructor(e){var t,i;V(this,\"serverLimits\",{}),V(this,\"lastEventRateLimited\",!1),V(this,\"checkForLimiting\",(e=>{var t=e.text;if(t&&t.length)try{(JSON.parse(t).quota_limited||[]).forEach((e=>{Un.info(\"\".concat(e||\"events\",\" is quota limited.\")),this.serverLimits[e]=(new Date).getTime()+6e4}))}catch(e){return void Un.warn('could not rate limit - continuing. Error: \"'.concat(null==e?void 0:e.message,'\"'),{text:t})}})),this.instance=e,this.captureEventsPerSecond=(null===(t=e.config.rate_limiting)||void 0===t?void 0:t.events_per_second)||10,this.captureEventsBurstLimit=Math.max((null===(i=e.config.rate_limiting)||void 0===i?void 0:i.events_burst_limit)||10*this.captureEventsPerSecond,this.captureEventsPerSecond),this.lastEventRateLimited=this.clientRateLimitContext(!0).isRateLimited}clientRateLimitContext(){var e,t,i,s=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=(new Date).getTime(),n=null!==(e=null===(t=this.instance.persistence)||void 0===t?void 0:t.get_property(qe))&&void 0!==e?e:{tokens:this.captureEventsBurstLimit,last:r};n.tokens+=(r-n.last)/1e3*this.captureEventsPerSecond,n.last=r,n.tokens>this.captureEventsBurstLimit&&(n.tokens=this.captureEventsBurstLimit);var o=n.tokens<1;return o||s||(n.tokens=Math.max(0,n.tokens-1)),!o||this.lastEventRateLimited||s||this.instance.capture(\"$$client_ingestion_warning\",{$$client_ingestion_warning_message:\"posthog-js client rate limited. Config is set to \".concat(this.captureEventsPerSecond,\" events per second and \").concat(this.captureEventsBurstLimit,\" events burst limit.\")},{skip_client_rate_limiting:!0}),this.lastEventRateLimited=o,null===(i=this.instance.persistence)||void 0===i||i.set_property(qe,n),{isRateLimited:o,remainingTokens:n.tokens}}isServerRateLimited(e){var t=this.serverLimits[e||\"events\"]||!1;return!1!==t&&(new Date).getTime()<t}}var jn=H(\"[RemoteConfig]\");class Wn{constructor(e){this.instance=e}get remoteConfig(){var e,t;return null===(e=_._POSTHOG_REMOTE_CONFIG)||void 0===e||null===(t=e[this.instance.config.token])||void 0===t?void 0:t.config}_loadRemoteConfigJs(e){var t,i,s;null!==(t=_.__PosthogExtensions__)&&void 0!==t&&t.loadExternalDependency?null===(i=_.__PosthogExtensions__)||void 0===i||null===(s=i.loadExternalDependency)||void 0===s||s.call(i,this.instance,\"remote-config\",(()=>e(this.remoteConfig))):(jn.error(\"PostHog Extensions not found. Cannot load remote config.\"),e())}_loadRemoteConfigJSON(e){this.instance._send_request({method:\"GET\",url:this.instance.requestRouter.endpointFor(\"assets\",\"/array/\".concat(this.instance.config.token,\"/config\")),callback:t=>{e(t.json)}})}load(){try{if(this.remoteConfig)return jn.info(\"Using preloaded remote config\",this.remoteConfig),void this.onRemoteConfig(this.remoteConfig);if(this.instance.config.advanced_disable_decide)return void jn.warn(\"Remote config is disabled. Falling back to local config.\");this._loadRemoteConfigJs((e=>{if(!e)return jn.info(\"No config found after loading remote JS config. Falling back to JSON.\"),void this._loadRemoteConfigJSON((e=>{this.onRemoteConfig(e)}));this.onRemoteConfig(e)}))}catch(e){jn.error(\"Error loading remote config\",e)}}onRemoteConfig(e){e?this.instance.config.__preview_remote_config?(this.instance._onRemoteConfig(e),!1!==e.hasFeatureFlags&&this.instance.featureFlags.ensureFlagsLoaded()):jn.info(\"__preview_remote_config is disabled. Logging config instead\",e):jn.error(\"Failed to fetch remote config from PostHog.\")}}var Vn=function(e){var t,i,s,r,n=\"\";for(t=i=0,s=(e=(e+\"\").replace(/\\r\\n/g,\"\\n\").replace(/\\r/g,\"\\n\")).length,r=0;r<s;r++){var o=e.charCodeAt(r),a=null;o<128?i++:a=o>127&&o<2048?String.fromCharCode(o>>6|192,63&o|128):String.fromCharCode(o>>12|224,o>>6&63|128,63&o|128),$(a)||(i>t&&(n+=e.substring(t,i)),n+=a,t=i=r+1)}return i>t&&(n+=e.substring(t,e.length)),n},Gn=!!u||!!c,Jn=\"text/plain\",Yn=(e,t)=>{var[i,s]=e.split(\"?\"),r=W({},t);null==s||s.split(\"&\").forEach((e=>{var[t]=e.split(\"=\");delete r[t]}));var n=kt(r);return n=n?(s?s+\"&\":\"\")+n:s,\"\".concat(i,\"?\").concat(n)},Kn=(e,t)=>JSON.stringify(e,((e,t)=>\"bigint\"==typeof t?t.toString():t),t),Xn=t=>{var{data:i,compression:s}=t;if(i){if(s===e.GZipJS){var r=ns(os(Kn(i)),{mtime:0}),n=new Blob([r],{type:Jn});return{contentType:Jn,body:n,estimatedSize:n.size}}if(s===e.Base64){var o=function(e){var t,i,s,r,n,o=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\",a=0,l=0,c=\"\",u=[];if(!e)return e;e=Vn(e);do{t=(n=e.charCodeAt(a++)<<16|e.charCodeAt(a++)<<8|e.charCodeAt(a++))>>18&63,i=n>>12&63,s=n>>6&63,r=63&n,u[l++]=o.charAt(t)+o.charAt(i)+o.charAt(s)+o.charAt(r)}while(a<e.length);switch(c=u.join(\"\"),e.length%3){case 1:c=c.slice(0,-2)+\"==\";break;case 2:c=c.slice(0,-1)+\"=\"}return c}(Kn(i)),a=(e=>\"data=\"+encodeURIComponent(\"string\"==typeof e?e:Kn(e)))(o);return{contentType:\"application/x-www-form-urlencoded\",body:a,estimatedSize:new Blob([a]).size}}var l=Kn(i);return{contentType:\"application/json\",body:l,estimatedSize:new Blob([l]).size}}},Qn=[];c&&Qn.push({transport:\"fetch\",method:e=>{var t,i,{contentType:s,body:r,estimatedSize:n}=null!==(t=Xn(e))&&void 0!==t?t:{},o=new Headers;K(e.headers,(function(e,t){o.append(t,e)})),s&&o.append(\"Content-Type\",s);var a=e.url,l=null;if(d){var u=new d;l={signal:u.signal,timeout:setTimeout((()=>u.abort()),e.timeout)}}c(a,W({method:(null==e?void 0:e.method)||\"GET\",headers:o,keepalive:\"POST\"===e.method&&(n||0)<52428.8,body:r,signal:null===(i=l)||void 0===i?void 0:i.signal},e.fetchOptions)).then((t=>t.text().then((i=>{var s,r={statusCode:t.status,text:i};if(200===t.status)try{r.json=JSON.parse(i)}catch(e){B.error(e)}null===(s=e.callback)||void 0===s||s.call(e,r)})))).catch((t=>{var i;B.error(t),null===(i=e.callback)||void 0===i||i.call(e,{statusCode:0,text:t})})).finally((()=>l?clearTimeout(l.timeout):null))}}),u&&Qn.push({transport:\"XHR\",method:e=>{var t,i=new u;i.open(e.method||\"GET\",e.url,!0);var{contentType:s,body:r}=null!==(t=Xn(e))&&void 0!==t?t:{};K(e.headers,(function(e,t){i.setRequestHeader(t,e)})),s&&i.setRequestHeader(\"Content-Type\",s),e.timeout&&(i.timeout=e.timeout),i.withCredentials=!0,i.onreadystatechange=()=>{if(4===i.readyState){var t,s={statusCode:i.status,text:i.responseText};if(200===i.status)try{s.json=JSON.parse(i.responseText)}catch(e){}null===(t=e.callback)||void 0===t||t.call(e,s)}},i.send(r)}}),null!=o&&o.sendBeacon&&Qn.push({transport:\"sendBeacon\",method:e=>{var t=Yn(e.url,{beacon:\"1\"});try{var i,{contentType:s,body:r}=null!==(i=Xn(e))&&void 0!==i?i:{},n=\"string\"==typeof r?new Blob([r],{type:s}):r;o.sendBeacon(t,n)}catch(e){}}});var Zn=3e3;class eo{constructor(e,t){V(this,\"isPaused\",!0),V(this,\"queue\",[]),this.flushTimeoutMs=wi((null==t?void 0:t.flush_interval_ms)||Zn,250,5e3,\"flush interval\",Zn),this.sendRequest=e}enqueue(e){this.queue.push(e),this.flushTimeout||this.setFlushTimeout()}unload(){this.clearFlushTimeout();var e=this.queue.length>0?this.formatQueue():{},t=Object.values(e),i=[...t.filter((e=>0===e.url.indexOf(\"/e\"))),...t.filter((e=>0!==e.url.indexOf(\"/e\")))];i.map((e=>{this.sendRequest(W(W({},e),{},{transport:\"sendBeacon\"}))}))}enable(){this.isPaused=!1,this.setFlushTimeout()}setFlushTimeout(){var e=this;this.isPaused||(this.flushTimeout=setTimeout((()=>{if(this.clearFlushTimeout(),this.queue.length>0){var t=this.formatQueue(),i=function(i){var s=t[i],r=(new Date).getTime();s.data&&x(s.data)&&K(s.data,(e=>{e.offset=Math.abs(e.timestamp-r),delete e.timestamp})),e.sendRequest(s)};for(var s in t)i(s)}}),this.flushTimeoutMs))}clearFlushTimeout(){clearTimeout(this.flushTimeout),this.flushTimeout=void 0}formatQueue(){var e={};return K(this.queue,(t=>{var i,s=t,r=(s?s.batchKey:null)||s.url;F(e[r])&&(e[r]=W(W({},s),{},{data:[]})),null===(i=e[r].data)||void 0===i||i.push(s.data)})),this.queue=[],e}}var to=[\"retriesPerformedSoFar\"];class io{constructor(e){V(this,\"isPolling\",!1),V(this,\"pollIntervalMs\",3e3),V(this,\"queue\",[]),this.instance=e,this.queue=[],this.areWeOnline=!0,!F(t)&&\"onLine\"in t.navigator&&(this.areWeOnline=t.navigator.onLine,ae(t,\"online\",(()=>{this.areWeOnline=!0,this.flush()})),ae(t,\"offline\",(()=>{this.areWeOnline=!1})))}retriableRequest(e){var{retriesPerformedSoFar:t}=e,i=G(e,to);O(t)&&t>0&&(i.url=Yn(i.url,{retry_count:t})),this.instance._send_request(W(W({},i),{},{callback:e=>{var s;200!==e.statusCode&&(e.statusCode<400||e.statusCode>=500)&&(null!=t?t:0)<10?this.enqueue(W({retriesPerformedSoFar:t},i)):null===(s=i.callback)||void 0===s||s.call(i,e)}}))}enqueue(e){var t=e.retriesPerformedSoFar||0;e.retriesPerformedSoFar=t+1;var i=function(e){var t=3e3*Math.pow(2,e),i=t/2,s=Math.min(18e5,t),r=(Math.random()-.5)*(s-i);return Math.ceil(s+r)}(t),s=Date.now()+i;this.queue.push({retryAt:s,requestOptions:e});var r=\"Enqueued failed request for retry in \".concat(i);navigator.onLine||(r+=\" (Browser is offline)\"),B.warn(r),this.isPolling||(this.isPolling=!0,this.poll())}poll(){this.poller&&clearTimeout(this.poller),this.poller=setTimeout((()=>{this.areWeOnline&&this.queue.length>0&&this.flush(),this.poll()}),this.pollIntervalMs)}flush(){var e=Date.now(),t=[],i=this.queue.filter((i=>i.retryAt<e||(t.push(i),!1)));if(this.queue=t,i.length>0)for(var{requestOptions:s}of i)this.retriableRequest(s)}unload(){for(var{requestOptions:e}of(this.poller&&(clearTimeout(this.poller),this.poller=void 0),this.queue))try{this.instance._send_request(W(W({},e),{},{transport:\"sendBeacon\"}))}catch(e){B.error(e)}this.queue=[]}}class so{constructor(e){V(this,\"_updateScrollData\",(()=>{var e,t,i,s;this.context||(this.context={});var r=this.scrollElement(),n=this.scrollY(),o=r?Math.max(0,r.scrollHeight-r.clientHeight):0,a=n+((null==r?void 0:r.clientHeight)||0),l=(null==r?void 0:r.scrollHeight)||0;this.context.lastScrollY=Math.ceil(n),this.context.maxScrollY=Math.max(n,null!==(e=this.context.maxScrollY)&&void 0!==e?e:0),this.context.maxScrollHeight=Math.max(o,null!==(t=this.context.maxScrollHeight)&&void 0!==t?t:0),this.context.lastContentY=a,this.context.maxContentY=Math.max(a,null!==(i=this.context.maxContentY)&&void 0!==i?i:0),this.context.maxContentHeight=Math.max(l,null!==(s=this.context.maxContentHeight)&&void 0!==s?s:0)})),this.instance=e}getContext(){return this.context}resetContext(){var e=this.context;return setTimeout(this._updateScrollData,0),e}startMeasuringScrollPosition(){ae(t,\"scroll\",this._updateScrollData,{capture:!0}),ae(t,\"scrollend\",this._updateScrollData,{capture:!0}),ae(t,\"resize\",this._updateScrollData)}scrollElement(){if(!this.instance.config.scroll_root_selector)return null==t?void 0:t.document.documentElement;var e=x(this.instance.config.scroll_root_selector)?this.instance.config.scroll_root_selector:[this.instance.config.scroll_root_selector];for(var i of e){var s=null==t?void 0:t.document.querySelector(i);if(s)return s}}scrollY(){if(this.instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollTop||0}return t&&(t.scrollY||t.pageYOffset||t.document.documentElement.scrollTop)||0}scrollX(){if(this.instance.config.scroll_root_selector){var e=this.scrollElement();return e&&e.scrollLeft||0}return t&&(t.scrollX||t.pageXOffset||t.document.documentElement.scrollLeft)||0}}var ro=e=>Wr.personInfo({maskPersonalDataProperties:null==e?void 0:e.config.mask_personal_data_properties,customPersonalDataProperties:null==e?void 0:e.config.custom_personal_data_properties});class no{constructor(e,t,i,s){V(this,\"_onSessionIdCallback\",(e=>{var t=this._getStored();if(!t||t.sessionId!==e){var i={sessionId:e,props:this._sessionSourceParamGenerator(this.instance)};this._persistence.register({[De]:i})}})),this.instance=e,this._sessionIdManager=t,this._persistence=i,this._sessionSourceParamGenerator=s||ro,this._sessionIdManager.onSessionId(this._onSessionIdCallback)}_getStored(){return this._persistence.props[De]}getSetOnceProps(){var e,t=null===(e=this._getStored())||void 0===e?void 0:e.props;return t?\"r\"in t?Wr.personPropsFromInfo(t):{$referring_domain:t.referringDomain,$pathname:t.initialPathName,utm_source:t.utm_source,utm_campaign:t.utm_campaign,utm_medium:t.utm_medium,utm_content:t.utm_content,utm_term:t.utm_term}:{}}getSessionProps(){var e={};return K(ie(this.getSetOnceProps()),((t,i)=>{\"$current_url\"===i&&(i=\"url\"),e[\"$session_entry_\".concat(b(i))]=t})),e}}var oo=H(\"[SessionId]\");class ao{constructor(e,t,i){var s;if(V(this,\"_sessionIdChangedHandlers\",[]),!e.persistence)throw new Error(\"SessionIdManager requires a PostHogPersistence instance\");if(e.config.__preview_experimental_cookieless_mode)throw new Error(\"SessionIdManager cannot be used with __preview_experimental_cookieless_mode\");this.config=e.config,this.persistence=e.persistence,this._windowId=void 0,this._sessionId=void 0,this._sessionStartTimestamp=null,this._sessionActivityTimestamp=null,this._sessionIdGenerator=t||Nt,this._windowIdGenerator=i||Nt;var r=this.config.persistence_name||this.config.token,n=this.config.session_idle_timeout_seconds||1800;if(this._sessionTimeoutMs=1e3*wi(n,60,36e3,\"session_idle_timeout_seconds\",1800),e.register({$configured_session_timeout_ms:this._sessionTimeoutMs}),this.resetIdleTimer(),this._window_id_storage_key=\"ph_\"+r+\"_window_id\",this._primary_window_exists_storage_key=\"ph_\"+r+\"_primary_window_exists\",this._canUseSessionStorage()){var o=ei.parse(this._window_id_storage_key),a=ei.parse(this._primary_window_exists_storage_key);o&&!a?this._windowId=o:ei.remove(this._window_id_storage_key),ei.set(this._primary_window_exists_storage_key,!0)}if(null!==(s=this.config.bootstrap)&&void 0!==s&&s.sessionID)try{var l=(e=>{var t=e.replace(/-/g,\"\");if(32!==t.length)throw new Error(\"Not a valid UUID\");if(\"7\"!==t[12])throw new Error(\"Not a UUIDv7\");return parseInt(t.substring(0,12),16)})(this.config.bootstrap.sessionID);this._setSessionId(this.config.bootstrap.sessionID,(new Date).getTime(),l)}catch(e){oo.error(\"Invalid sessionID in bootstrap\",e)}this._listenToReloadWindow()}get sessionTimeoutMs(){return this._sessionTimeoutMs}onSessionId(e){return F(this._sessionIdChangedHandlers)&&(this._sessionIdChangedHandlers=[]),this._sessionIdChangedHandlers.push(e),this._sessionId&&e(this._sessionId,this._windowId),()=>{this._sessionIdChangedHandlers=this._sessionIdChangedHandlers.filter((t=>t!==e))}}_canUseSessionStorage(){return\"memory\"!==this.config.persistence&&!this.persistence.disabled&&ei.is_supported()}_setWindowId(e){e!==this._windowId&&(this._windowId=e,this._canUseSessionStorage()&&ei.set(this._window_id_storage_key,e))}_getWindowId(){return this._windowId?this._windowId:this._canUseSessionStorage()?ei.parse(this._window_id_storage_key):null}_setSessionId(e,t,i){e===this._sessionId&&t===this._sessionActivityTimestamp&&i===this._sessionStartTimestamp||(this._sessionStartTimestamp=i,this._sessionActivityTimestamp=t,this._sessionId=e,this.persistence.register({[xe]:[t,e,i]}))}_getSessionId(){if(this._sessionId&&this._sessionActivityTimestamp&&this._sessionStartTimestamp)return[this._sessionActivityTimestamp,this._sessionId,this._sessionStartTimestamp];var e=this.persistence.props[xe];return x(e)&&2===e.length&&e.push(e[0]),e||[0,null,0]}resetSessionId(){this._setSessionId(null,null,null)}_listenToReloadWindow(){ae(t,\"beforeunload\",(()=>{this._canUseSessionStorage()&&ei.remove(this._primary_window_exists_storage_key)}),{capture:!1})}checkAndGetSessionAndWindowId(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.config.__preview_experimental_cookieless_mode)throw new Error(\"checkAndGetSessionAndWindowId should not be called in __preview_experimental_cookieless_mode\");var i=t||(new Date).getTime(),[s,r,n]=this._getSessionId(),o=this._getWindowId(),a=O(n)&&n>0&&Math.abs(i-n)>864e5,l=!1,c=!r,u=!e&&Math.abs(i-s)>this.sessionTimeoutMs;c||u||a?(r=this._sessionIdGenerator(),o=this._windowIdGenerator(),oo.info(\"new session ID generated\",{sessionId:r,windowId:o,changeReason:{noSessionId:c,activityTimeout:u,sessionPastMaximumLength:a}}),n=i,l=!0):o||(o=this._windowIdGenerator(),l=!0);var d=0===s||!e||a?i:s,h=0===n?(new Date).getTime():n;return this._setWindowId(o),this._setSessionId(r,d,h),e||this.resetIdleTimer(),l&&this._sessionIdChangedHandlers.forEach((e=>e(r,o,l?{noSessionId:c,activityTimeout:u,sessionPastMaximumLength:a}:void 0))),{sessionId:r,windowId:o,sessionStartTimestamp:h,changeReason:l?{noSessionId:c,activityTimeout:u,sessionPastMaximumLength:a}:void 0,lastActivityTimestamp:s}}resetIdleTimer(){clearTimeout(this._enforceIdleTimeout),this._enforceIdleTimeout=setTimeout((()=>{this.resetSessionId()}),1.1*this.sessionTimeoutMs)}}var lo=[\"$set_once\",\"$set\"],co=H(\"[SiteApps]\");class uo{constructor(e){this.instance=e,this.bufferedInvocations=[],this.apps={}}get isEnabled(){return!!this.instance.config.opt_in_site_apps}eventCollector(e,t){if(t){var i=this.globalsForEvent(t);this.bufferedInvocations.push(i),this.bufferedInvocations.length>1e3&&(this.bufferedInvocations=this.bufferedInvocations.slice(10))}}get siteAppLoaders(){var e,t;return null===(e=_._POSTHOG_REMOTE_CONFIG)||void 0===e||null===(t=e[this.instance.config.token])||void 0===t?void 0:t.siteApps}init(){if(this.isEnabled){var e=this.instance._addCaptureHook(this.eventCollector.bind(this));this.stopBuffering=()=>{e(),this.bufferedInvocations=[],this.stopBuffering=void 0}}}globalsForEvent(e){var t,i,s,r,n,o,a;if(!e)throw new Error(\"Event payload is required\");var l={},c=this.instance.get_property(\"$groups\")||[],u=this.instance.get_property(\"$stored_group_properties\")||{};for(var[d,h]of Object.entries(u))l[d]={id:c[d],type:d,properties:h};var{$set_once:_,$set:p}=e;return{event:W(W({},G(e,lo)),{},{properties:W(W(W({},e.properties),p?{$set:W(W({},null!==(t=null===(i=e.properties)||void 0===i?void 0:i.$set)&&void 0!==t?t:{}),p)}:{}),_?{$set_once:W(W({},null!==(s=null===(r=e.properties)||void 0===r?void 0:r.$set_once)&&void 0!==s?s:{}),_)}:{}),elements_chain:null!==(n=null===(o=e.properties)||void 0===o?void 0:o.$elements_chain)&&void 0!==n?n:\"\",distinct_id:null===(a=e.properties)||void 0===a?void 0:a.distinct_id}),person:{properties:this.instance.get_property(\"$stored_person_properties\")},groups:l}}setupSiteApp(e){var t=this.apps[e.id],i=()=>{var i;(!t.errored&&this.bufferedInvocations.length&&(co.info(\"Processing \".concat(this.bufferedInvocations.length,\" events for site app with id \").concat(e.id)),this.bufferedInvocations.forEach((e=>{var i;return null===(i=t.processEvent)||void 0===i?void 0:i.call(t,e)})),t.processedBuffer=!0),Object.values(this.apps).every((e=>e.processedBuffer||e.errored)))&&(null===(i=this.stopBuffering)||void 0===i||i.call(this))},s=!1,r=r=>{t.errored=!r,t.loaded=!0,co.info(\"Site app with id \".concat(e.id,\" \").concat(r?\"loaded\":\"errored\")),s&&i()};try{var{processEvent:n}=e.init({posthog:this.instance,callback:e=>{r(e)}});n&&(t.processEvent=n),s=!0}catch(t){co.error(\"Error while initializing PostHog app with config id \".concat(e.id),t),r(!1)}if(s&&t.loaded)try{i()}catch(i){co.error(\"Error while processing buffered events PostHog app with config id \".concat(e.id),i),t.errored=!0}}setupSiteApps(){var e=this.siteAppLoaders||[];for(var t of e)this.apps[t.id]={id:t.id,loaded:!1,errored:!1,processedBuffer:!1};for(var i of e)this.setupSiteApp(i)}onCapturedEvent(e){if(0!==Object.keys(this.apps).length){var t=this.globalsForEvent(e);for(var i of Object.values(this.apps))try{var s;null===(s=i.processEvent)||void 0===s||s.call(i,t)}catch(t){co.error(\"Error while processing event \".concat(e.event,\" for site app \").concat(i.id),t)}}}onRemoteConfig(e){var t,i,s,r=this;if(null!==(t=this.siteAppLoaders)&&void 0!==t&&t.length)return this.isEnabled?(this.setupSiteApps(),void this.instance.on(\"eventCaptured\",(e=>this.onCapturedEvent(e)))):void co.error('PostHog site apps are disabled. Enable the \"opt_in_site_apps\" config to proceed.');if(null===(i=this.stopBuffering)||void 0===i||i.call(this),null!==(s=e.siteApps)&&void 0!==s&&s.length)if(this.isEnabled){var n=function(e,t){var i,s;_[\"__$$ph_site_app_\".concat(e)]=r.instance,null===(i=_.__PosthogExtensions__)||void 0===i||null===(s=i.loadSiteApp)||void 0===s||s.call(i,r.instance,t,(t=>{if(t)return co.error(\"Error while initializing PostHog app with config id \".concat(e),t)}))};for(var{id:o,url:a}of e.siteApps)n(o,a)}else co.error('PostHog site apps are disabled. Enable the \"opt_in_site_apps\" config to proceed.')}}var ho,_o=[\"amazonbot\",\"amazonproductbot\",\"app.hypefactors.com\",\"applebot\",\"archive.org_bot\",\"awariobot\",\"backlinksextendedbot\",\"baiduspider\",\"bingbot\",\"bingpreview\",\"chrome-lighthouse\",\"dataforseobot\",\"deepscan\",\"duckduckbot\",\"facebookexternal\",\"facebookcatalog\",\"http://yandex.com/bots\",\"hubspot\",\"ia_archiver\",\"linkedinbot\",\"meta-externalagent\",\"mj12bot\",\"msnbot\",\"nessus\",\"petalbot\",\"pinterest\",\"prerender\",\"rogerbot\",\"screaming frog\",\"sebot-wa\",\"sitebulb\",\"slackbot\",\"slurp\",\"trendictionbot\",\"turnitin\",\"twitterbot\",\"vercelbot\",\"yahoo! slurp\",\"yandexbot\",\"zoombot\",\"bot.htm\",\"bot.php\",\"(bot;\",\"bot/\",\"crawler\",\"ahrefsbot\",\"ahrefssiteaudit\",\"semrushbot\",\"siteauditbot\",\"splitsignalbot\",\"gptbot\",\"oai-searchbot\",\"chatgpt-user\",\"perplexitybot\",\"better uptime bot\",\"sentryuptimebot\",\"uptimerobot\",\"headlesschrome\",\"cypress\",\"google-hoteladsverifier\",\"adsbot-google\",\"apis-google\",\"duplexweb-google\",\"feedfetcher-google\",\"google favicon\",\"google web preview\",\"google-read-aloud\",\"googlebot\",\"googleweblight\",\"mediapartners-google\",\"storebot-google\",\"bytespider\"],po=function(e,t){if(!e)return!1;var i=e.toLowerCase();return _o.concat(t||[]).some((e=>{var t=e.toLowerCase();return-1!==i.indexOf(t)}))},go=function(e,t){if(!e)return!1;var i=e.userAgent;if(i&&po(i,t))return!0;try{var s=null==e?void 0:e.userAgentData;if(null!=s&&s.brands&&s.brands.some((e=>po(null==e?void 0:e.brand,t))))return!0}catch(e){}return!!e.webdriver};function vo(e,t,i){return Kn({distinct_id:e,userPropertiesToSet:t,userPropertiesToSetOnce:i})}!function(e){e.US=\"us\",e.EU=\"eu\",e.CUSTOM=\"custom\"}(ho||(ho={}));var fo=\"i.posthog.com\";class mo{constructor(e){V(this,\"_regionCache\",{}),this.instance=e}get apiHost(){var e=this.instance.config.api_host.trim().replace(/\\/$/,\"\");return\"https://app.posthog.com\"===e?\"https://us.i.posthog.com\":e}get uiHost(){var e,t=null===(e=this.instance.config.ui_host)||void 0===e?void 0:e.replace(/\\/$/,\"\");return t||(t=this.apiHost.replace(\".\".concat(fo),\".posthog.com\")),\"https://app.posthog.com\"===t?\"https://us.posthog.com\":t}get region(){return this._regionCache[this.apiHost]||(/https:\\/\\/(app|us|us-assets)(\\.i)?\\.posthog\\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=ho.US:/https:\\/\\/(eu|eu-assets)(\\.i)?\\.posthog\\.com/i.test(this.apiHost)?this._regionCache[this.apiHost]=ho.EU:this._regionCache[this.apiHost]=ho.CUSTOM),this._regionCache[this.apiHost]}endpointFor(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:\"\";if(t&&(t=\"/\"===t[0]?t:\"/\".concat(t)),\"ui\"===e)return this.uiHost+t;if(this.region===ho.CUSTOM)return this.apiHost+t;var i=fo+t;switch(e){case\"assets\":return\"https://\".concat(this.region,\"-assets.\").concat(i);case\"api\":return\"https://\".concat(this.region,\".\").concat(i)}}}var yo={icontains:(e,i)=>!!t&&i.href.toLowerCase().indexOf(e.toLowerCase())>-1,not_icontains:(e,i)=>!!t&&-1===i.href.toLowerCase().indexOf(e.toLowerCase()),regex:(e,i)=>!!t&&On(i.href,e),not_regex:(e,i)=>!!t&&!On(i.href,e),exact:(e,t)=>t.href===e,is_not:(e,t)=>t.href!==e};class bo{constructor(e){var t=this;V(this,\"getWebExperimentsAndEvaluateDisplayLogic\",(function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];t.getWebExperiments((e=>{bo.logInfo(\"retrieved web experiments from the server\"),t._flagToExperiments=new Map,e.forEach((e=>{if(e.feature_flag_key){var i;if(t._flagToExperiments)bo.logInfo(\"setting flag key \",e.feature_flag_key,\" to web experiment \",e),null===(i=t._flagToExperiments)||void 0===i||i.set(e.feature_flag_key,e);var s=t.instance.getFeatureFlag(e.feature_flag_key);R(s)&&e.variants[s]&&t.applyTransforms(e.name,s,e.variants[s].transforms)}else if(e.variants)for(var r in e.variants){var n=e.variants[r];bo.matchesTestVariant(n)&&t.applyTransforms(e.name,r,n.transforms)}}))}),e)})),this.instance=e,this.instance.onFeatureFlags((e=>{this.onFeatureFlags(e)}))}onFeatureFlags(e){if(this._is_bot())bo.logInfo(\"Refusing to render web experiment since the viewer is a likely bot\");else if(!this.instance.config.disable_web_experiments){if(A(this._flagToExperiments))return this._flagToExperiments=new Map,this.loadIfEnabled(),void this.previewWebExperiment();bo.logInfo(\"applying feature flags\",e),e.forEach((e=>{var t;if(this._flagToExperiments&&null!==(t=this._flagToExperiments)&&void 0!==t&&t.has(e)){var i,s=this.instance.getFeatureFlag(e),r=null===(i=this._flagToExperiments)||void 0===i?void 0:i.get(e);s&&null!=r&&r.variants[s]&&this.applyTransforms(r.name,s,r.variants[s].transforms)}}))}}previewWebExperiment(){var e=bo.getWindowLocation();if(null!=e&&e.search){var t=Et(null==e?void 0:e.search,\"__experiment_id\"),i=Et(null==e?void 0:e.search,\"__experiment_variant\");t&&i&&(bo.logInfo(\"previewing web experiments \".concat(t,\" && \").concat(i)),this.getWebExperiments((e=>{this.showPreviewWebExperiment(parseInt(t),i,e)}),!1,!0))}}loadIfEnabled(){this.instance.config.disable_web_experiments||this.getWebExperimentsAndEvaluateDisplayLogic()}getWebExperiments(e,t,i){if(this.instance.config.disable_web_experiments&&!i)return e([]);var s=this.instance.get_property(\"$web_experiments\");if(s&&!t)return e(s);this.instance._send_request({url:this.instance.requestRouter.endpointFor(\"api\",\"/api/web_experiments/?token=\".concat(this.instance.config.token)),method:\"GET\",callback:t=>{if(200!==t.statusCode||!t.json)return e([]);var i=t.json.experiments||[];return e(i)}})}showPreviewWebExperiment(e,t,i){var s=i.filter((t=>t.id===e));s&&s.length>0&&(bo.logInfo(\"Previewing web experiment [\".concat(s[0].name,\"] with variant [\").concat(t,\"]\")),this.applyTransforms(s[0].name,t,s[0].variants[t].transforms))}static matchesTestVariant(e){return!A(e.conditions)&&(bo.matchUrlConditions(e)&&bo.matchUTMConditions(e))}static matchUrlConditions(e){var t;if(A(e.conditions)||A(null===(t=e.conditions)||void 0===t?void 0:t.url))return!0;var i,s,r,n=bo.getWindowLocation();return!!n&&(null===(i=e.conditions)||void 0===i||!i.url||yo[null!==(s=null===(r=e.conditions)||void 0===r?void 0:r.urlMatchType)&&void 0!==s?s:\"icontains\"](e.conditions.url,n))}static getWindowLocation(){return null==t?void 0:t.location}static matchUTMConditions(e){var t;if(A(e.conditions)||A(null===(t=e.conditions)||void 0===t?void 0:t.utm))return!0;var i=Wr.campaignParams();if(i.utm_source){var s,r,n,o,a,l,c,u,d,h,_,p,g,v,f,m,y=null===(s=e.conditions)||void 0===s||null===(r=s.utm)||void 0===r||!r.utm_campaign||(null===(n=e.conditions)||void 0===n||null===(o=n.utm)||void 0===o?void 0:o.utm_campaign)==i.utm_campaign,b=null===(a=e.conditions)||void 0===a||null===(l=a.utm)||void 0===l||!l.utm_source||(null===(c=e.conditions)||void 0===c||null===(u=c.utm)||void 0===u?void 0:u.utm_source)==i.utm_source,w=null===(d=e.conditions)||void 0===d||null===(h=d.utm)||void 0===h||!h.utm_medium||(null===(_=e.conditions)||void 0===_||null===(p=_.utm)||void 0===p?void 0:p.utm_medium)==i.utm_medium,S=null===(g=e.conditions)||void 0===g||null===(v=g.utm)||void 0===v||!v.utm_term||(null===(f=e.conditions)||void 0===f||null===(m=f.utm)||void 0===m?void 0:m.utm_term)==i.utm_term;return y&&w&&S&&b}return!1}static logInfo(e){for(var t=arguments.length,i=new Array(t>1?t-1:0),s=1;s<t;s++)i[s-1]=arguments[s];B.info(\"[WebExperiments] \".concat(e),i)}applyTransforms(e,t,i){this._is_bot()?bo.logInfo(\"Refusing to render web experiment since the viewer is a likely bot\"):\"control\"!==t?i.forEach((i=>{if(i.selector){var s;bo.logInfo(\"applying transform of variant \".concat(t,\" for experiment \").concat(e,\" \"),i);var r=null===(s=document)||void 0===s?void 0:s.querySelectorAll(i.selector);null==r||r.forEach((e=>{var t=e;i.html&&(t.innerHTML=i.html),i.css&&t.setAttribute(\"style\",i.css)}))}})):bo.logInfo(\"Control variants leave the page unmodified.\")}_is_bot(){return o&&this.instance?go(o,this.instance.config.custom_blocked_useragents):void 0}}var wo={},So=()=>{},ko=\"posthog\",Eo=!Gn&&-1===(null==h?void 0:h.indexOf(\"MSIE\"))&&-1===(null==h?void 0:h.indexOf(\"Mozilla\")),xo=()=>{var e;return{api_host:\"https://us.i.posthog.com\",ui_host:null,token:\"\",autocapture:!0,rageclick:!0,cross_subdomain_cookie:ne(null==a?void 0:a.location),persistence:\"localStorage+cookie\",persistence_name:\"\",loaded:So,save_campaign_params:!0,custom_campaign_params:[],custom_blocked_useragents:[],save_referrer:!0,capture_pageview:!0,capture_pageleave:\"if_capture_pageview\",debug:l&&R(null==l?void 0:l.search)&&-1!==l.search.indexOf(\"__posthog_debug=true\")||!1,cookie_expiration:365,upgrade:!1,disable_session_recording:!1,disable_persistence:!1,disable_web_experiments:!0,disable_surveys:!1,disable_external_dependency_loading:!1,enable_recording_console_log:void 0,secure_cookie:\"https:\"===(null==t||null===(e=t.location)||void 0===e?void 0:e.protocol),ip:!0,opt_out_capturing_by_default:!1,opt_out_persistence_by_default:!1,opt_out_useragent_filter:!1,opt_out_capturing_persistence_type:\"localStorage\",opt_out_capturing_cookie_prefix:null,opt_in_site_apps:!1,property_denylist:[],respect_dnt:!1,sanitize_properties:null,request_headers:{},request_batching:!0,properties_string_max_length:65535,session_recording:{},mask_all_element_attributes:!1,mask_all_text:!1,mask_personal_data_properties:!1,custom_personal_data_properties:[],advanced_disable_decide:!1,advanced_disable_feature_flags:!1,advanced_disable_feature_flags_on_first_load:!1,advanced_disable_toolbar_metrics:!1,feature_flag_request_timeout_ms:3e3,surveys_request_timeout_ms:1e4,on_request_error:e=>{var t=\"Bad HTTP status: \"+e.statusCode+\" \"+e.text;B.error(t)},get_device_id:e=>e,capture_performance:void 0,name:\"posthog\",bootstrap:{},disable_compression:!1,session_idle_timeout_seconds:1800,person_profiles:\"identified_only\",before_send:void 0,request_queue_config:{flush_interval_ms:Zn},_onCapture:So}},Io=e=>{var t={};F(e.process_person)||(t.person_profiles=e.process_person),F(e.xhr_headers)||(t.request_headers=e.xhr_headers),F(e.cookie_name)||(t.persistence_name=e.cookie_name),F(e.disable_cookie)||(t.disable_persistence=e.disable_cookie),F(e.store_google)||(t.save_campaign_params=e.store_google),F(e.verbose)||(t.debug=e.verbose);var i=X({},t,e);return x(e.property_blacklist)&&(F(e.property_denylist)?i.property_denylist=e.property_blacklist:x(e.property_denylist)?i.property_denylist=[...e.property_blacklist,...e.property_denylist]:B.error(\"Invalid value for property_denylist config: \"+e.property_denylist)),i};class Po{constructor(){V(this,\"__forceAllowLocalhost\",!1)}get _forceAllowLocalhost(){return this.__forceAllowLocalhost}set _forceAllowLocalhost(e){B.error(\"WebPerformanceObserver is deprecated and has no impact on network capture. Use `_forceAllowLocalhostNetworkCapture` on `posthog.sessionRecording`\"),this.__forceAllowLocalhost=e}}class Co{get decideEndpointWasHit(){var e,t;return null!==(e=null===(t=this.featureFlags)||void 0===t?void 0:t.hasLoadedFlags)&&void 0!==e&&e}constructor(){V(this,\"webPerformance\",new Po),V(this,\"_personProcessingSetOncePropertiesSent\",!1),V(this,\"version\",p.LIB_VERSION),V(this,\"_internalEventEmitter\",new Mn),this.config=xo(),this.SentryIntegration=ws,this.sentryIntegration=e=>function(e,t){var i=bs(e,t);return{name:ys,processEvent:e=>i(e)}}(this,e),this.__request_queue=[],this.__loaded=!1,this.analyticsDefaultEndpoint=\"/e/\",this._initialPageviewCaptured=!1,this._initialPersonProfilesConfig=null,this._cachedIdentify=null,this.featureFlags=new Ws(this),this.toolbar=new Is(this),this.scrollManager=new so(this),this.pageViewManager=new Ms(this),this.surveys=new Hn(this),this.experiments=new bo(this),this.exceptions=new Ls(this),this.rateLimiter=new zn(this),this.requestRouter=new mo(this),this.consent=new ti(this),this.people={set:(e,t,i)=>{var s=R(e)?{[e]:t}:e;this.setPersonProperties(s),null==i||i({})},set_once:(e,t,i)=>{var s=R(e)?{[e]:t}:e;this.setPersonProperties(void 0,s),null==i||i({})}},this.on(\"eventCaptured\",(e=>B.info('send \"'.concat(null==e?void 0:e.event,'\"'),e)))}init(e,t,i){if(i&&i!==ko){var s,r=null!==(s=wo[i])&&void 0!==s?s:new Co;return r._init(e,t,i),wo[i]=r,wo[ko][i]=r,r}return this._init(e,t,i)}_init(i){var s,r,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=arguments.length>2?arguments[2]:void 0;if(F(i)||T(i))return B.critical(\"PostHog was initialized without a token. This likely indicates a misconfiguration. Please check the first argument passed to posthog.init()\"),this;if(this.__loaded)return B.warn(\"You have already initialized PostHog! Re-initializing is a no-op\"),this;this.__loaded=!0,this.config={},this._triggered_notifs=[],n.person_profiles&&(this._initialPersonProfilesConfig=n.person_profiles),this.set_config(X({},xo(),Io(n),{name:o,token:i})),this.config.on_xhr_error&&B.error(\"on_xhr_error is deprecated. Use on_request_error instead\"),this.compression=n.disable_compression?void 0:e.GZipJS,this.persistence=new Gr(this.config),this.sessionPersistence=\"sessionStorage\"===this.config.persistence||\"memory\"===this.config.persistence?this.persistence:new Gr(W(W({},this.config),{},{persistence:\"sessionStorage\"}));var a=W({},this.persistence.props),l=W({},this.sessionPersistence.props);if(this._requestQueue=new eo((e=>this._send_retriable_request(e)),this.config.request_queue_config),this._retryQueue=new io(this),this.__request_queue=[],this.config.__preview_experimental_cookieless_mode||(this.sessionManager=new ao(this),this.sessionPropsManager=new no(this,this.sessionManager,this.persistence)),new Cs(this).startIfEnabledOrStop(),this.siteApps=new uo(this),null===(s=this.siteApps)||void 0===s||s.init(),this.config.__preview_experimental_cookieless_mode||(this.sessionRecording=new vs(this),this.sessionRecording.startIfEnabledOrStop()),this.config.disable_scroll_properties||this.scrollManager.startMeasuringScrollPosition(),this.autocapture=new $t(this),this.autocapture.startIfEnabled(),this.surveys.loadIfEnabled(),this.heatmaps=new Os(this),this.heatmaps.startIfEnabled(),this.webVitalsAutocapture=new Ts(this),this.exceptionObserver=new ai(this),this.exceptionObserver.startIfEnabled(),this.deadClicksAutocapture=new ni(this,ri),this.deadClicksAutocapture.startIfEnabled(),p.DEBUG=p.DEBUG||this.config.debug,p.DEBUG&&B.info(\"Starting in debug mode\",{this:this,config:n,thisC:W({},this.config),p:a,s:l}),this._sync_opt_out_with_persistence(),void 0!==(null===(r=n.bootstrap)||void 0===r?void 0:r.distinctID)){var c,u,d=this.config.get_device_id(Nt()),h=null!==(c=n.bootstrap)&&void 0!==c&&c.isIdentifiedID?d:n.bootstrap.distinctID;this.persistence.set_property(Le,null!==(u=n.bootstrap)&&void 0!==u&&u.isIdentifiedID?\"identified\":\"anonymous\"),this.register({distinct_id:n.bootstrap.distinctID,$device_id:h})}if(this._hasBootstrappedFeatureFlags()){var _,g,v=Object.keys((null===(_=n.bootstrap)||void 0===_?void 0:_.featureFlags)||{}).filter((e=>{var t,i;return!(null===(t=n.bootstrap)||void 0===t||null===(i=t.featureFlags)||void 0===i||!i[e])})).reduce(((e,t)=>{var i,s;return e[t]=(null===(i=n.bootstrap)||void 0===i||null===(s=i.featureFlags)||void 0===s?void 0:s[t])||!1,e}),{}),f=Object.keys((null===(g=n.bootstrap)||void 0===g?void 0:g.featureFlagPayloads)||{}).filter((e=>v[e])).reduce(((e,t)=>{var i,s,r,o;null!==(i=n.bootstrap)&&void 0!==i&&null!==(s=i.featureFlagPayloads)&&void 0!==s&&s[t]&&(e[t]=null===(r=n.bootstrap)||void 0===r||null===(o=r.featureFlagPayloads)||void 0===o?void 0:o[t]);return e}),{});this.featureFlags.receivedFeatureFlags({featureFlags:v,featureFlagPayloads:f})}if(this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:je,$device_id:null},\"\");else if(!this.get_distinct_id()){var m=this.config.get_device_id(Nt());this.register_once({distinct_id:m,$device_id:m},\"\"),this.persistence.set_property(Le,\"anonymous\")}return ae(t,\"onpagehide\"in self?\"pagehide\":\"unload\",this._handle_unload.bind(this),{passive:!1}),this.toolbar.maybeLoadToolbar(),n.segment?ms(this,(()=>this._loaded())):this._loaded(),I(this.config._onCapture)&&this.config._onCapture!==So&&(B.warn(\"onCapture is deprecated. Please use `before_send` instead\"),this.on(\"eventCaptured\",(e=>this.config._onCapture(e.event,e)))),this}_onRemoteConfig(t){var i,s,r,n,o,l,c,u;if(!a||!a.body)return B.info(\"document not ready yet, trying again in 500 milliseconds...\"),void setTimeout((()=>{this._onRemoteConfig(t)}),500);this.compression=void 0,t.supportedCompression&&!this.config.disable_compression&&(this.compression=m(t.supportedCompression,e.GZipJS)?e.GZipJS:m(t.supportedCompression,e.Base64)?e.Base64:void 0),null!==(i=t.analytics)&&void 0!==i&&i.endpoint&&(this.analyticsDefaultEndpoint=t.analytics.endpoint),this.set_config({person_profiles:this._initialPersonProfilesConfig?this._initialPersonProfilesConfig:\"identified_only\"}),null===(s=this.siteApps)||void 0===s||s.onRemoteConfig(t),null===(r=this.sessionRecording)||void 0===r||r.onRemoteConfig(t),null===(n=this.autocapture)||void 0===n||n.onRemoteConfig(t),null===(o=this.heatmaps)||void 0===o||o.onRemoteConfig(t),this.surveys.onRemoteConfig(t),null===(l=this.webVitalsAutocapture)||void 0===l||l.onRemoteConfig(t),null===(c=this.exceptionObserver)||void 0===c||c.onRemoteConfig(t),null===(u=this.deadClicksAutocapture)||void 0===u||u.onRemoteConfig(t)}_loaded(){try{this.config.loaded(this)}catch(e){B.critical(\"`loaded` function failed\",e)}this._start_queue_if_opted_in(),this.config.capture_pageview&&setTimeout((()=>{this.consent.isOptedIn()&&this._captureInitialPageview()}),1),new Wn(this).load(),this.featureFlags.decide()}_start_queue_if_opted_in(){var e;this.has_opted_out_capturing()||this.config.request_batching&&(null===(e=this._requestQueue)||void 0===e||e.enable())}_dom_loaded(){this.has_opted_out_capturing()||Y(this.__request_queue,(e=>this._send_retriable_request(e))),this.__request_queue=[],this._start_queue_if_opted_in()}_handle_unload(){var e,t;this.config.request_batching?(this._shouldCapturePageleave()&&this.capture(\"$pageleave\"),null===(e=this._requestQueue)||void 0===e||e.unload(),null===(t=this._retryQueue)||void 0===t||t.unload()):this._shouldCapturePageleave()&&this.capture(\"$pageleave\",null,{transport:\"sendBeacon\"})}_send_request(e){this.__loaded&&(Eo?this.__request_queue.push(e):this.rateLimiter.isServerRateLimited(e.batchKey)||(e.transport=e.transport||this.config.api_transport,e.url=Yn(e.url,{ip:this.config.ip?1:0}),e.headers=W({},this.config.request_headers),e.compression=\"best-available\"===e.compression?this.compression:e.compression,e.fetchOptions=e.fetchOptions||this.config.fetch_options,(e=>{var t,i,s,r=W({},e);r.timeout=r.timeout||6e4,r.url=Yn(r.url,{_:(new Date).getTime().toString(),ver:p.LIB_VERSION,compression:r.compression});var n=null!==(t=r.transport)&&void 0!==t?t:\"fetch\",o=null!==(i=null===(s=oe(Qn,(e=>e.transport===n)))||void 0===s?void 0:s.method)&&void 0!==i?i:Qn[0].method;if(!o)throw new Error(\"No available transport method\");o(r)})(W(W({},e),{},{callback:t=>{var i,s,r;(this.rateLimiter.checkForLimiting(t),t.statusCode>=400)&&(null===(s=(r=this.config).on_request_error)||void 0===s||s.call(r,t));null===(i=e.callback)||void 0===i||i.call(e,t)}}))))}_send_retriable_request(e){this._retryQueue?this._retryQueue.retriableRequest(e):this._send_request(e)}_execute_array(e){var t,i=[],s=[],r=[];Y(e,(e=>{e&&(t=e[0],x(t)?r.push(e):I(e)?e.call(this):x(e)&&\"alias\"===t?i.push(e):x(e)&&-1!==t.indexOf(\"capture\")&&I(this[t])?r.push(e):s.push(e))}));var n=function(e,t){Y(e,(function(e){if(x(e[0])){var i=t;K(e,(function(e){i=i[e[0]].apply(i,e.slice(1))}))}else this[e[0]].apply(this,e.slice(1))}),t)};n(i,this),n(s,this),n(r,this)}_hasBootstrappedFeatureFlags(){var e,t;return(null===(e=this.config.bootstrap)||void 0===e?void 0:e.featureFlags)&&Object.keys(null===(t=this.config.bootstrap)||void 0===t?void 0:t.featureFlags).length>0||!1}push(e){this._execute_array([e])}capture(e,t,i){var s;if(this.__loaded&&this.persistence&&this.sessionPersistence&&this._requestQueue){if(!this.consent.isOptedOut())if(!F(e)&&R(e)){if(this.config.opt_out_useragent_filter||!this._is_bot()){var r=null!=i&&i.skip_client_rate_limiting?void 0:this.rateLimiter.clientRateLimitContext();if(null==r||!r.isRateLimited){this.sessionPersistence.update_search_keyword(),this.config.save_campaign_params&&this.sessionPersistence.update_campaign_params(),this.config.save_referrer&&this.sessionPersistence.update_referrer_info(),(this.config.save_campaign_params||this.config.save_referrer)&&this.persistence.set_initial_person_info();var n=new Date,o=(null==i?void 0:i.timestamp)||n,a=Nt(),l={uuid:a,event:e,properties:this._calculate_event_properties(e,t||{},o,a)};r&&(l.properties.$lib_rate_limit_remaining_tokens=r.remainingTokens),(null==i?void 0:i.$set)&&(l.$set=null==i?void 0:i.$set);var c=this._calculate_set_once_properties(null==i?void 0:i.$set_once);c&&(l.$set_once=c),(l=se(l,null!=i&&i._noTruncate?null:this.config.properties_string_max_length)).timestamp=o,F(null==i?void 0:i.timestamp)||(l.properties.$event_time_override_provided=!0,l.properties.$event_time_override_system_time=n);var u=W(W({},l.properties.$set),l.$set);if(C(u)||this.setPersonPropertiesForFlags(u),!A(this.config.before_send)){var d=this._runBeforeSend(l);if(!d)return;l=d}this._internalEventEmitter.emit(\"eventCaptured\",l);var h={method:\"POST\",url:null!==(s=null==i?void 0:i._url)&&void 0!==s?s:this.requestRouter.endpointFor(\"api\",this.analyticsDefaultEndpoint),data:l,compression:\"best-available\",batchKey:null==i?void 0:i._batchKey};return!this.config.request_batching||i&&(null==i||!i._batchKey)||null!=i&&i.send_instantly?this._send_retriable_request(h):this._requestQueue.enqueue(h),l}B.critical(\"This capture call is ignored due to client rate limiting.\")}}else B.error(\"No event name provided to posthog.capture\")}else B.uninitializedWarning(\"posthog.capture\")}_addCaptureHook(e){return this.on(\"eventCaptured\",(t=>e(t.event,t)))}_calculate_event_properties(e,t,i,s){if(i=i||new Date,!this.persistence||!this.sessionPersistence)return t;var r=this.persistence.remove_event_timer(e),n=W({},t);if(n.token=this.config.token,this.config.__preview_experimental_cookieless_mode&&(n.$cookieless_mode=!0),\"$snapshot\"===e){var o=W(W({},this.persistence.properties()),this.sessionPersistence.properties());return n.distinct_id=o.distinct_id,(!R(n.distinct_id)&&!O(n.distinct_id)||T(n.distinct_id))&&B.error(\"Invalid distinct_id for replay event. This indicates a bug in your implementation\"),n}var l,c=Wr.properties({maskPersonalDataProperties:this.config.mask_personal_data_properties,customPersonalDataProperties:this.config.custom_personal_data_properties});if(this.sessionManager){var{sessionId:u,windowId:d}=this.sessionManager.checkAndGetSessionAndWindowId();n.$session_id=u,n.$window_id=d}this.sessionPropsManager&&X(n,this.sessionPropsManager.getSessionProps());try{var _,p;this.sessionRecording&&(n.$recording_status=this.sessionRecording.status,n.$sdk_debug_replay_internal_buffer_length=this.sessionRecording.buffer.data.length,n.$sdk_debug_replay_internal_buffer_size=this.sessionRecording.buffer.size),n.$sdk_debug_retry_queue_size=null===(_=this._retryQueue)||void 0===_||null===(p=_.queue)||void 0===p?void 0:p.length}catch(e){n.$sdk_debug_error_capturing_properties=String(e)}if(this.requestRouter.region===ho.CUSTOM&&(n.$lib_custom_api_host=this.config.api_host),l=\"$pageview\"===e?this.pageViewManager.doPageView(i,s):\"$pageleave\"===e?this.pageViewManager.doPageLeave(i):this.pageViewManager.doEvent(),n=X(n,l),\"$pageview\"===e&&a&&(n.title=a.title),!F(r)){var g=i.getTime()-r;n.$duration=parseFloat((g/1e3).toFixed(3))}h&&this.config.opt_out_useragent_filter&&(n.$browser_type=this._is_bot()?\"bot\":\"browser\"),(n=X({},c,this.persistence.properties(),this.sessionPersistence.properties(),n)).$is_identified=this._isIdentified(),x(this.config.property_denylist)?K(this.config.property_denylist,(function(e){delete n[e]})):B.error(\"Invalid value for property_denylist config: \"+this.config.property_denylist+\" or property_blacklist config: \"+this.config.property_blacklist);var v=this.config.sanitize_properties;v&&(B.error(\"sanitize_properties is deprecated. Use before_send instead\"),n=v(n,e));var f=this._hasPersonProcessing();return n.$process_person_profile=f,f&&this._requirePersonProcessing(\"_calculate_event_properties\"),n}_calculate_set_once_properties(e){var t;if(!this.persistence||!this._hasPersonProcessing())return e;if(this._personProcessingSetOncePropertiesSent)return e;var i=this.persistence.get_initial_props(),s=null===(t=this.sessionPropsManager)||void 0===t?void 0:t.getSetOnceProps(),r=X({},i,s||{},e||{}),n=this.config.sanitize_properties;return n&&(B.error(\"sanitize_properties is deprecated. Use before_send instead\"),r=n(r,\"$set_once\")),this._personProcessingSetOncePropertiesSent=!0,C(r)?void 0:r}register(e,t){var i;null===(i=this.persistence)||void 0===i||i.register(e,t)}register_once(e,t,i){var s;null===(s=this.persistence)||void 0===s||s.register_once(e,t,i)}register_for_session(e){var t;null===(t=this.sessionPersistence)||void 0===t||t.register(e)}unregister(e){var t;null===(t=this.persistence)||void 0===t||t.unregister(e)}unregister_for_session(e){var t;null===(t=this.sessionPersistence)||void 0===t||t.unregister(e)}_register_single(e,t){this.register({[e]:t})}getFeatureFlag(e,t){return this.featureFlags.getFeatureFlag(e,t)}getFeatureFlagPayload(e){var t=this.featureFlags.getFeatureFlagPayload(e);try{return JSON.parse(t)}catch(e){return t}}isFeatureEnabled(e,t){return this.featureFlags.isFeatureEnabled(e,t)}reloadFeatureFlags(){this.featureFlags.reloadFeatureFlags()}updateEarlyAccessFeatureEnrollment(e,t){this.featureFlags.updateEarlyAccessFeatureEnrollment(e,t)}getEarlyAccessFeatures(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=arguments.length>2?arguments[2]:void 0;return this.featureFlags.getEarlyAccessFeatures(e,t,i)}on(e,t){return this._internalEventEmitter.on(e,t)}onFeatureFlags(e){return this.featureFlags.onFeatureFlags(e)}onSessionId(e){var t,i;return null!==(t=null===(i=this.sessionManager)||void 0===i?void 0:i.onSessionId(e))&&void 0!==t?t:()=>{}}getSurveys(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getSurveys(e,t)}getActiveMatchingSurveys(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.surveys.getActiveMatchingSurveys(e,t)}renderSurvey(e,t){this.surveys.renderSurvey(e,t)}canRenderSurvey(e){this.surveys.canRenderSurvey(e)}identify(e,t,i){if(!this.__loaded||!this.persistence)return B.uninitializedWarning(\"posthog.identify\");if(O(e)&&(e=e.toString(),B.warn(\"The first argument to posthog.identify was a number, but it should be a string. It has been converted to a string.\")),e){if([\"distinct_id\",\"distinctid\"].includes(e.toLowerCase()))B.critical('The string \"'.concat(e,'\" was set in posthog.identify which indicates an error. This ID should be unique to the user and not a hardcoded string.'));else if(this._requirePersonProcessing(\"posthog.identify\")){var s=this.get_distinct_id();if(this.register({$user_id:e}),!this.get_property(\"$device_id\")){var r=s;this.register_once({$had_persisted_distinct_id:!0,$device_id:r},\"\")}e!==s&&e!==this.get_property(ce)&&(this.unregister(ce),this.register({distinct_id:e}));var n=\"anonymous\"===(this.persistence.get_property(Le)||\"anonymous\");e!==s&&n?(this.persistence.set_property(Le,\"identified\"),this.setPersonPropertiesForFlags(W(W({},i||{}),t||{}),!1),this.capture(\"$identify\",{distinct_id:e,$anon_distinct_id:s},{$set:t||{},$set_once:i||{}}),this.featureFlags.setAnonymousDistinctId(s),this._cachedIdentify=vo(e,t,i)):(t||i)&&(this._cachedIdentify!==vo(e,t,i)?(this.setPersonProperties(t,i),this._cachedIdentify=vo(e,t,i)):B.info(\"A duplicate posthog.identify call was made with the same properties. It has been ignored.\")),e!==s&&(this.reloadFeatureFlags(),this.unregister(Me))}}else B.error(\"Unique user id has not been set in posthog.identify\")}setPersonProperties(e,t){(e||t)&&this._requirePersonProcessing(\"posthog.setPersonProperties\")&&(this.setPersonPropertiesForFlags(W(W({},t||{}),e||{})),this.capture(\"$set\",{$set:e||{},$set_once:t||{}}))}group(e,t,i){if(e&&t){if(this._requirePersonProcessing(\"posthog.group\")){var s=this.getGroups();s[e]!==t&&this.resetGroupPropertiesForFlags(e),this.register({$groups:W(W({},s),{},{[e]:t})}),i&&(this.capture(\"$groupidentify\",{$group_type:e,$group_key:t,$group_set:i}),this.setGroupPropertiesForFlags({[e]:i})),s[e]===t||i||this.reloadFeatureFlags()}}else B.error(\"posthog.group requires a group type and group key\")}resetGroups(){this.register({$groups:{}}),this.resetGroupPropertiesForFlags(),this.reloadFeatureFlags()}setPersonPropertiesForFlags(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.featureFlags.setPersonPropertiesForFlags(e,t)}resetPersonPropertiesForFlags(){this.featureFlags.resetPersonPropertiesForFlags()}setGroupPropertiesForFlags(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this._requirePersonProcessing(\"posthog.setGroupPropertiesForFlags\")&&this.featureFlags.setGroupPropertiesForFlags(e,t)}resetGroupPropertiesForFlags(e){this.featureFlags.resetGroupPropertiesForFlags(e)}reset(e){var t,i,s,r;if(B.info(\"reset\"),!this.__loaded)return B.uninitializedWarning(\"posthog.reset\");var n=this.get_property(\"$device_id\");if(this.consent.reset(),null===(t=this.persistence)||void 0===t||t.clear(),null===(i=this.sessionPersistence)||void 0===i||i.clear(),this.surveys.reset(),null===(s=this.persistence)||void 0===s||s.set_property(Le,\"anonymous\"),null===(r=this.sessionManager)||void 0===r||r.resetSessionId(),this._cachedIdentify=null,this.config.__preview_experimental_cookieless_mode)this.register_once({distinct_id:je,$device_id:null},\"\");else{var o=this.config.get_device_id(Nt());this.register_once({distinct_id:o,$device_id:e?o:n},\"\")}this.register({$last_posthog_reset:(new Date).toISOString()},1)}get_distinct_id(){return this.get_property(\"distinct_id\")}getGroups(){return this.get_property(\"$groups\")||{}}get_session_id(){var e,t;return null!==(e=null===(t=this.sessionManager)||void 0===t?void 0:t.checkAndGetSessionAndWindowId(!0).sessionId)&&void 0!==e?e:\"\"}get_session_replay_url(e){if(!this.sessionManager)return\"\";var{sessionId:t,sessionStartTimestamp:i}=this.sessionManager.checkAndGetSessionAndWindowId(!0),s=this.requestRouter.endpointFor(\"ui\",\"/project/\".concat(this.config.token,\"/replay/\").concat(t));if(null!=e&&e.withTimestamp&&i){var r,n=null!==(r=e.timestampLookBack)&&void 0!==r?r:10;if(!i)return s;var o=Math.max(Math.floor(((new Date).getTime()-i)/1e3)-n,0);s+=\"?t=\".concat(o)}return s}alias(e,t){return e===this.get_property(le)?(B.critical(\"Attempting to create alias for existing People user - aborting.\"),-2):this._requirePersonProcessing(\"posthog.alias\")?(F(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single(ce,e),this.capture(\"$create_alias\",{alias:e,distinct_id:t})):(B.warn(\"alias matches current distinct_id - skipping api call.\"),this.identify(e),-1)):void 0}set_config(e){var t,i,s,r,n=W({},this.config);P(e)&&(X(this.config,Io(e)),null===(t=this.persistence)||void 0===t||t.update_config(this.config,n),this.sessionPersistence=\"sessionStorage\"===this.config.persistence||\"memory\"===this.config.persistence?this.persistence:new Gr(W(W({},this.config),{},{persistence:\"sessionStorage\"})),Jt.is_supported()&&\"true\"===Jt.get(\"ph_debug\")&&(this.config.debug=!0),this.config.debug&&(p.DEBUG=!0,B.info(\"set_config\",{config:e,oldConfig:n,newConfig:W({},this.config)})),null===(i=this.sessionRecording)||void 0===i||i.startIfEnabledOrStop(),null===(s=this.autocapture)||void 0===s||s.startIfEnabled(),null===(r=this.heatmaps)||void 0===r||r.startIfEnabled(),this.surveys.loadIfEnabled(),this._sync_opt_out_with_persistence())}startSessionRecording(e){var t=!0===e,i={sampling:t||!(null==e||!e.sampling),linked_flag:t||!(null==e||!e.linked_flag),url_trigger:t||!(null==e||!e.url_trigger),event_trigger:t||!(null==e||!e.event_trigger)};if(Object.values(i).some(Boolean)){var s,r,n,o,a;if(null===(s=this.sessionManager)||void 0===s||s.checkAndGetSessionAndWindowId(),i.sampling)null===(r=this.sessionRecording)||void 0===r||r.overrideSampling();if(i.linked_flag)null===(n=this.sessionRecording)||void 0===n||n.overrideLinkedFlag();if(i.url_trigger)null===(o=this.sessionRecording)||void 0===o||o.overrideTrigger(\"url\");if(i.event_trigger)null===(a=this.sessionRecording)||void 0===a||a.overrideTrigger(\"event\")}this.set_config({disable_session_recording:!1})}stopSessionRecording(){this.set_config({disable_session_recording:!0})}sessionRecordingStarted(){var e;return!(null===(e=this.sessionRecording)||void 0===e||!e.started)}captureException(e,t){var i,s=new Error(\"PostHog syntheticException\"),r=I(null===(i=_.__PosthogExtensions__)||void 0===i?void 0:i.parseErrorAsProperties)?W(W({},_.__PosthogExtensions__.parseErrorAsProperties(D(e)?{error:e,event:e.message}:{event:e},{syntheticException:s})),t):W({$exception_level:\"error\",$exception_list:[{type:D(e)?e.name:\"Error\",value:D(e)?e.message:P(e)&&\"message\"in e?String(e.message):String(e),mechanism:{handled:!0,synthetic:!1}}]},t);this.exceptions.sendExceptionEvent(r)}loadToolbar(e){return this.toolbar.loadToolbar(e)}get_property(e){var t;return null===(t=this.persistence)||void 0===t?void 0:t.props[e]}getSessionProperty(e){var t;return null===(t=this.sessionPersistence)||void 0===t?void 0:t.props[e]}toString(){var e,t=null!==(e=this.config.name)&&void 0!==e?e:ko;return t!==ko&&(t=ko+\".\"+t),t}_isIdentified(){var e,t;return\"identified\"===(null===(e=this.persistence)||void 0===e?void 0:e.get_property(Le))||\"identified\"===(null===(t=this.sessionPersistence)||void 0===t?void 0:t.get_property(Le))}_hasPersonProcessing(){var e,t,i,s;return!(\"never\"===this.config.person_profiles||\"identified_only\"===this.config.person_profiles&&!this._isIdentified()&&C(this.getGroups())&&(null===(e=this.persistence)||void 0===e||null===(t=e.props)||void 0===t||!t[ce])&&(null===(i=this.persistence)||void 0===i||null===(s=i.props)||void 0===s||!s[Ue]))}_shouldCapturePageleave(){return!0===this.config.capture_pageleave||\"if_capture_pageview\"===this.config.capture_pageleave&&this.config.capture_pageview}createPersonProfile(){this._hasPersonProcessing()||this._requirePersonProcessing(\"posthog.createPersonProfile\")&&this.setPersonProperties({},{})}_requirePersonProcessing(e){return\"never\"===this.config.person_profiles?(B.error(e+' was called, but process_person is set to \"never\". This call will be ignored.'),!1):(this._register_single(Ue,!0),!0)}_sync_opt_out_with_persistence(){var e,t,i,s,r=this.consent.isOptedOut(),n=this.config.opt_out_persistence_by_default,o=this.config.disable_persistence||r&&!!n;(null===(e=this.persistence)||void 0===e?void 0:e.disabled)!==o&&(null===(i=this.persistence)||void 0===i||i.set_disabled(o));(null===(t=this.sessionPersistence)||void 0===t?void 0:t.disabled)!==o&&(null===(s=this.sessionPersistence)||void 0===s||s.set_disabled(o))}opt_in_capturing(e){var t;(this.consent.optInOut(!0),this._sync_opt_out_with_persistence(),F(null==e?void 0:e.captureEventName)||null!=e&&e.captureEventName)&&this.capture(null!==(t=null==e?void 0:e.captureEventName)&&void 0!==t?t:\"$opt_in\",null==e?void 0:e.captureProperties,{send_instantly:!0});this.config.capture_pageview&&this._captureInitialPageview()}opt_out_capturing(){this.consent.optInOut(!1),this._sync_opt_out_with_persistence()}has_opted_in_capturing(){return this.consent.isOptedIn()}has_opted_out_capturing(){return this.consent.isOptedOut()}clear_opt_in_out_capturing(){this.consent.reset(),this._sync_opt_out_with_persistence()}_is_bot(){return o?go(o,this.config.custom_blocked_useragents):void 0}_captureInitialPageview(){a&&!this._initialPageviewCaptured&&(this._initialPageviewCaptured=!0,this.capture(\"$pageview\",{title:a.title},{send_instantly:!0}))}debug(e){!1===e?(null==t||t.console.log(\"You've disabled debug mode.\"),localStorage&&localStorage.removeItem(\"ph_debug\"),this.set_config({debug:!1})):(null==t||t.console.log(\"You're now in debug mode. All calls to PostHog will be logged in your console.\\nYou can disable this with `posthog.debug(false)`.\"),localStorage&&localStorage.setItem(\"ph_debug\",\"true\"),this.set_config({debug:!0}))}_runBeforeSend(e){if(A(this.config.before_send))return e;var t=x(this.config.before_send)?this.config.before_send:[this.config.before_send],i=e;for(var s of t){if(i=s(i),A(i)){var r=\"Event '\".concat(e.event,\"' was rejected in beforeSend function\");return q(e.event)?B.warn(\"\".concat(r,\". This can cause unexpected behavior.\")):B.info(r),null}i.properties&&!C(i.properties)||B.warn(\"Event '\".concat(e.event,\"' has no properties after beforeSend function, this is likely an error.\"))}return i}getPageViewId(){var e;return null===(e=this.pageViewManager._currentPageview)||void 0===e?void 0:e.pageViewId}captureTraceFeedback(e,t){this.capture(\"$ai_feedback\",{$ai_trace_id:String(e),$ai_feedback_text:t})}captureTraceMetric(e,t,i){this.capture(\"$ai_metric\",{$ai_trace_id:String(e),$ai_metric_name:t,$ai_metric_value:String(i)})}}!function(e,t){for(var i=0;i<t.length;i++)e.prototype[t[i]]=te(e.prototype[t[i]])}(Co,[\"identify\"]);var Fo,Ro=(Fo=wo[ko]=new Co,function(){function e(){e.done||(e.done=!0,Eo=!1,K(wo,(function(e){e._dom_loaded()})))}null!=a&&a.addEventListener?\"complete\"===a.readyState?e():ae(a,\"DOMContentLoaded\",e,{capture:!1}):t&&B.error(\"Browser doesn't support `document.addEventListener` so PostHog couldn't be initialized\")}(),Fo);\n//# sourceMappingURL=module.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rob2ctanMvZGlzdC9tb2R1bGUuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBQSxtYUFBbWEsSUFBSSwrQkFBK0IsK1FBQStRLGFBQWEscUNBQXFDLFNBQVMsR0FBRyx1REFBdUQsZ0JBQWdCLHdCQUF3QixrQkFBa0IsMERBQTBELGVBQWUsNEJBQTRCLHdGQUF3RixtQ0FBbUMsMkRBQTJELFNBQVMsdUNBQXVDLFNBQVMsU0FBUywyUEFBMlAsT0FBTyxpQkFBaUIsNERBQTRELDJJQUEySSxJQUFJLHdCQUF3QixXQUFXLGlCQUFpQiw4Q0FBOEMsSUFBSSxzQkFBc0IsbUJBQW1CLGlCQUFpQiw4Q0FBOEMsSUFBSSxzQkFBc0Isb0JBQW9CLGtCQUFrQiw4Q0FBOEMsSUFBSSxzQkFBc0IscUJBQXFCLHFCQUFxQiw4Q0FBOEMsSUFBSSxzQkFBc0Isc0JBQXNCLDBCQUEwQixpRUFBaUUsZ0RBQWdELFNBQVMsaUZBQWlGLHVMQUF1TCxrREFBa0QsaUJBQWlCLFdBQVcsK0JBQStCLFdBQVcscUNBQXFDLGdDQUFnQyx3UUFBd1EsNENBQTRDLGlHQUFpRyx1RUFBdUUsZ0JBQWdCLHFCQUFxQixpQ0FBaUMsc0NBQXNDLDRCQUE0Qix1REFBdUQsc0JBQXNCLFNBQVMsY0FBYyxZQUFZLG1CQUFtQixLQUFLLHlDQUF5Qyx5Q0FBeUMsWUFBWSxxSUFBcUksZ0VBQWdFLEdBQUcsU0FBUyxrQkFBa0IseUNBQXlDLGtEQUFrRCxXQUFXLGdCQUFnQixvQkFBb0Isd0JBQXdCLG9CQUFvQixZQUFZLGtCQUFrQixRQUFRLFdBQVcsd0NBQXdDLFNBQVMsTUFBTSxpQ0FBaUMsc0NBQXNDLFFBQVEsV0FBVyx5RkFBeUYsU0FBUyxtREFBbUQsMERBQTBELHlEQUF5RCx5RkFBeUYsdUNBQXVDLCtCQUErQiw4Q0FBOEMsU0FBUywrQ0FBK0MsMkNBQTJDLFVBQVUsU0FBUyxrQkFBa0IsMkNBQTJDLGtFQUFrRSxJQUFJLDJDQUEyQyxrQkFB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LGtFQUFrRSxzQkFBc0IsMElBQTBJLHNEQUFzRCx3QkFBd0IsRUFBRSxRQUFRLEVBQUUscUJBQXFCLFNBQVMsMkNBQTJDLHlHQUF5Ryx5QkFBeUIsRUFBRSxJQUFJLHNDQUFzQyxlQUFlLG1DQUFtQyxnQkFBZ0IsTUFBTSxpRUFBaUUsc0JBQXNCLE1BQU0sd0VBQXdFLFdBQVcscURBQXFELDhCQUE4QixnQkFBZ0IsUUFBUSxvTEFBb0wsdUJBQXVCLFlBQVksa1RBQWtULDBCQUEwQiw4SEFBOEgsc0JBQXNCLHNIQUFzSCxHQUFHLEVBQUUsNEJBQTRCLDhLQUE4SyxpQ0FBaUMsK0hBQStILDhIQUE4SCw0SUFBNEksb0JBQW9CLE1BQU0sMlBBQTJQLGtCQUFrQixFQUFFLDZEQUE2RCxvQkFBb0IsZ0VBQWdFLHlCQUF5QixnQ0FBZ0MsMEJBQTBCLGlDQUFpQyw2QkFBNkIsMkRBQTJELFVBQVUsNERBQTRELDBCQUEwQiwrRkFBK0YsY0FBYyxFQUFFLGtCQUFrQixHQUFHLFNBQVMsaUlBQWlJLFNBQVMsdU9BQXVPLFNBQVMsR0FBRyxrQkFBa0IsdUNBQXVDLHVGQUF1RixnQkFBZ0IsZ0JBQWdCLHdFQUF3RSw4RkFBOEYsNElBQTRJLFNBQVMsZ0JBQWdCLE1BQU0sd0ZBQXdGLDBCQUEwQiw2QkFBNkIsMkNBQTJDLEVBQUUsMEJBQTBCLDJCQUEyQixvRUFBb0UsR0FBRyxlQUFlLFlBQVksV0FBVyw0Q0FBNEMsa0JBQWtCLHVDQUF1QyxhQUFhLDJDQUEyQyxnQkFBZ0IsSUFBSSxxRkFBcUYsV0FBVyx1R0FBdUcsT0FBeVA7QUFDNzJxTCIsInNvdXJjZXMiOlsiL1VzZXJzL25hZWVtc2hhYmlyL0VuY2FudGEvRW5jYW50YUFnZW50c0h1Yi9lbmNhbnRhL25vZGVfbW9kdWxlcy9wb3N0aG9nLWpzL2Rpc3QvbW9kdWxlLmpzIl0sInNvdXJjZXNDb250ZW50IjpbInZhciBlLHQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHdpbmRvdz93aW5kb3c6dm9pZCAwLGk9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGdsb2JhbFRoaXM/Z2xvYmFsVGhpczp0LHM9QXJyYXkucHJvdG90eXBlLHI9cy5mb3JFYWNoLG49cy5pbmRleE9mLG89bnVsbD09aT92b2lkIDA6aS5uYXZpZ2F0b3IsYT1udWxsPT1pP3ZvaWQgMDppLmRvY3VtZW50LGw9bnVsbD09aT92b2lkIDA6aS5sb2NhdGlvbixjPW51bGw9PWk/dm9pZCAwOmkuZmV0Y2gsdT1udWxsIT1pJiZpLlhNTEh0dHBSZXF1ZXN0JiZcIndpdGhDcmVkZW50aWFsc1wiaW4gbmV3IGkuWE1MSHR0cFJlcXVlc3Q/aS5YTUxIdHRwUmVxdWVzdDp2b2lkIDAsZD1udWxsPT1pP3ZvaWQgMDppLkFib3J0Q29udHJvbGxlcixoPW51bGw9PW8/dm9pZCAwOm8udXNlckFnZW50LF89bnVsbCE9dD90Ont9LHA9e0RFQlVHOiExLExJQl9WRVJTSU9OOlwiMS4yMzEuMFwifSxnPVwiJGNvcHlfYXV0b2NhcHR1cmVcIix2PVtcIiRzbmFwc2hvdFwiLFwiJHBhZ2V2aWV3XCIsXCIkcGFnZWxlYXZlXCIsXCIkc2V0XCIsXCJzdXJ2ZXkgZGlzbWlzc2VkXCIsXCJzdXJ2ZXkgc2VudFwiLFwic3VydmV5IHNob3duXCIsXCIkaWRlbnRpZnlcIixcIiRncm91cGlkZW50aWZ5XCIsXCIkY3JlYXRlX2FsaWFzXCIsXCIkJGNsaWVudF9pbmdlc3Rpb25fd2FybmluZ1wiLFwiJHdlYl9leHBlcmltZW50X2FwcGxpZWRcIixcIiRmZWF0dXJlX2Vucm9sbG1lbnRfdXBkYXRlXCIsXCIkZmVhdHVyZV9mbGFnX2NhbGxlZFwiXTshZnVuY3Rpb24oZSl7ZS5HWmlwSlM9XCJnemlwLWpzXCIsZS5CYXNlNjQ9XCJiYXNlNjRcIn0oZXx8KGU9e30pKTt2YXIgZj1bXCJmYXRhbFwiLFwiZXJyb3JcIixcIndhcm5pbmdcIixcImxvZ1wiLFwiaW5mb1wiLFwiZGVidWdcIl07ZnVuY3Rpb24gbShlLHQpe3JldHVybi0xIT09ZS5pbmRleE9mKHQpfXZhciB5PWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL15bXFxzXFx1RkVGRlxceEEwXSt8W1xcc1xcdUZFRkZcXHhBMF0rJC9nLFwiXCIpfSxiPWZ1bmN0aW9uKGUpe3JldHVybiBlLnJlcGxhY2UoL15cXCQvLFwiXCIpfTt2YXIgdz1BcnJheS5pc0FycmF5LFM9T2JqZWN0LnByb3RvdHlwZSxrPVMuaGFzT3duUHJvcGVydHksRT1TLnRvU3RyaW5nLHg9d3x8ZnVuY3Rpb24oZSl7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT09RS5jYWxsKGUpfSxJPWU9PlwiZnVuY3Rpb25cIj09dHlwZW9mIGUsUD1lPT5lPT09T2JqZWN0KGUpJiYheChlKSxDPWU9PntpZihQKGUpKXtmb3IodmFyIHQgaW4gZSlpZihrLmNhbGwoZSx0KSlyZXR1cm4hMTtyZXR1cm4hMH1yZXR1cm4hMX0sRj1lPT52b2lkIDA9PT1lLFI9ZT0+XCJbb2JqZWN0IFN0cmluZ11cIj09RS5jYWxsKGUpLFQ9ZT0+UihlKSYmMD09PWUudHJpbSgpLmxlbmd0aCwkPWU9Pm51bGw9PT1lLEE9ZT0+RihlKXx8JChlKSxPPWU9PlwiW29iamVjdCBOdW1iZXJdXCI9PUUuY2FsbChlKSxNPWU9PlwiW29iamVjdCBCb29sZWFuXVwiPT09RS5jYWxsKGUpLEw9ZT0+ZSBpbnN0YW5jZW9mIEZvcm1EYXRhLEQ9ZT0+ZSBpbnN0YW5jZW9mIEVycm9yLHE9ZT0+bSh2LGUpLE49ZT0+e3ZhciBpPXtfbG9nOmZ1bmN0aW9uKGkpe2lmKHQmJihwLkRFQlVHfHxfLlBPU1RIT0dfREVCVUcpJiYhRih0LmNvbnNvbGUpJiZ0LmNvbnNvbGUpe2Zvcih2YXIgcz0oXCJfX3Jyd2ViX29yaWdpbmFsX19cImluIHQuY29uc29sZVtpXT90LmNvbnNvbGVbaV0uX19ycndlYl9vcmlnaW5hbF9fOnQuY29uc29sZVtpXSkscj1hcmd1bWVudHMubGVuZ3RoLG49bmV3IEFycmF5KHI+MT9yLTE6MCksbz0xO288cjtvKyspbltvLTFdPWFyZ3VtZW50c1tvXTtzKGUsLi4ubil9fSxpbmZvOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSkscz0wO3M8ZTtzKyspdFtzXT1hcmd1bWVudHNbc107aS5fbG9nKFwibG9nXCIsLi4udCl9LHdhcm46ZnVuY3Rpb24oKXtmb3IodmFyIGU9YXJndW1lbnRzLmxlbmd0aCx0PW5ldyBBcnJheShlKSxzPTA7czxlO3MrKyl0W3NdPWFyZ3VtZW50c1tzXTtpLl9sb2coXCJ3YXJuXCIsLi4udCl9LGVycm9yOmZ1bmN0aW9uKCl7Zm9yKHZhciBlPWFyZ3VtZW50cy5sZW5ndGgsdD1uZXcgQXJyYXkoZSkscz0wO3M8ZTtzKyspdFtzXT1hcmd1bWVudHNbc107aS5fbG9nKFwiZXJyb3JcIiwuLi50KX0sY3JpdGljYWw6ZnVuY3Rpb24oKXtmb3IodmFyIHQ9YXJndW1lbnRzLmxlbmd0aCxpPW5ldyBBcnJheSh0KSxzPTA7czx0O3MrKylpW3NdPWFyZ3VtZW50c1tzXTtjb25zb2xlLmVycm9yKGUsLi4uaSl9LHVuaW5pdGlhbGl6ZWRXYXJuaW5nOmU9PntpLmVycm9yKFwiWW91IG11c3QgaW5pdGlhbGl6ZSBQb3N0SG9nIGJlZm9yZSBjYWxsaW5nIFwiLmNvbmNhdChlKSl9LGNyZWF0ZUxvZ2dlcjp0PT5OKFwiXCIuY29uY2F0KGUsXCIgXCIpLmNvbmNhdCh0KSl9O3JldHVybiBpfSxCPU4oXCJbUG9zdEhvZy5qc11cIiksSD1CLmNyZWF0ZUxvZ2dlcixVPUgoXCJbRXh0ZXJuYWxTY3JpcHRzTG9hZGVyXVwiKSx6PShlLHQsaSk9PntpZihlLmNvbmZpZy5kaXNhYmxlX2V4dGVybmFsX2RlcGVuZGVuY3lfbG9hZGluZylyZXR1cm4gVS53YXJuKFwiXCIuY29uY2F0KHQsXCIgd2FzIHJlcXVlc3RlZCBidXQgbG9hZGluZyBvZiBleHRlcm5hbCBzY3JpcHRzIGlzIGRpc2FibGVkLlwiKSksaShcIkxvYWRpbmcgb2YgZXh0ZXJuYWwgc2NyaXB0cyBpcyBkaXNhYmxlZFwiKTt2YXIgcz1udWxsPT1hP3ZvaWQgMDphLnF1ZXJ5U2VsZWN0b3JBbGwoXCJzY3JpcHRcIik7aWYocylmb3IodmFyIHI9MDtyPHMubGVuZ3RoO3IrKylpZihzW3JdLnNyYz09PXQpcmV0dXJuIGkoKTt2YXIgbj0oKT0+e2lmKCFhKXJldHVybiBpKFwiZG9jdW1lbnQgbm90IGZvdW5kXCIpO3ZhciBzPWEuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKTtpZihzLnR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIixzLmNyb3NzT3JpZ2luPVwiYW5vbnltb3VzXCIscy5zcmM9dCxzLm9ubG9hZD1lPT5pKHZvaWQgMCxlKSxzLm9uZXJyb3I9ZT0+aShlKSxlLmNvbmZpZy5wcmVwYXJlX2V4dGVybmFsX2RlcGVuZGVuY3lfc2NyaXB0JiYocz1lLmNvbmZpZy5wcmVwYXJlX2V4dGVybmFsX2RlcGVuZGVuY3lfc2NyaXB0KHMpKSwhcylyZXR1cm4gaShcInByZXBhcmVfZXh0ZXJuYWxfZGVwZW5kZW5jeV9zY3JpcHQgcmV0dXJuZWQgbnVsbFwiKTt2YXIgcixuPWEucXVlcnlTZWxlY3RvckFsbChcImJvZHkgPiBzY3JpcHRcIik7bi5sZW5ndGg+MD9udWxsPT09KHI9blswXS5wYXJlbnROb2RlKXx8dm9pZCAwPT09cnx8ci5pbnNlcnRCZWZvcmUocyxuWzBdKTphLmJvZHkuYXBwZW5kQ2hpbGQocyl9O251bGwhPWEmJmEuYm9keT9uKCk6bnVsbD09YXx8YS5hZGRFdmVudExpc3RlbmVyKFwiRE9NQ29udGVudExvYWRlZFwiLG4pfTtmdW5jdGlvbiBqKGUsdCl7dmFyIGk9T2JqZWN0LmtleXMoZSk7aWYoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyl7dmFyIHM9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTt0JiYocz1zLmZpbHRlcigoZnVuY3Rpb24odCl7cmV0dXJuIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IoZSx0KS5lbnVtZXJhYmxlfSkpKSxpLnB1c2guYXBwbHkoaSxzKX1yZXR1cm4gaX1mdW5jdGlvbiBXKGUpe2Zvcih2YXIgdD0xO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciBpPW51bGwhPWFyZ3VtZW50c1t0XT9hcmd1bWVudHNbdF06e307dCUyP2ooT2JqZWN0KGkpLCEwKS5mb3JFYWNoKChmdW5jdGlvbih0KXtWKGUsdCxpW3RdKX0pKTpPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycz9PYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzKGkpKTpqKE9iamVjdChpKSkuZm9yRWFjaCgoZnVuY3Rpb24odCl7T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCxPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGksdCkpfSkpfXJldHVybiBlfWZ1bmN0aW9uIFYoZSx0LGkpe3JldHVybiB0IGluIGU/T2JqZWN0LmRlZmluZVByb3BlcnR5KGUsdCx7dmFsdWU6aSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMCx3cml0YWJsZTohMH0pOmVbdF09aSxlfWZ1bmN0aW9uIEcoZSx0KXtpZihudWxsPT1lKXJldHVybnt9O3ZhciBpLHMscj1mdW5jdGlvbihlLHQpe2lmKG51bGw9PWUpcmV0dXJue307dmFyIGkscyxyPXt9LG49T2JqZWN0LmtleXMoZSk7Zm9yKHM9MDtzPG4ubGVuZ3RoO3MrKylpPW5bc10sdC5pbmRleE9mKGkpPj0wfHwocltpXT1lW2ldKTtyZXR1cm4gcn0oZSx0KTtpZihPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgbj1PYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKGUpO2ZvcihzPTA7czxuLmxlbmd0aDtzKyspaT1uW3NdLHQuaW5kZXhPZihpKT49MHx8T2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKGUsaSkmJihyW2ldPWVbaV0pfXJldHVybiByfV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fPV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19ffHx7fSxfLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXy5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5PShlLHQsaSk9Pnt2YXIgcz1cIi9zdGF0aWMvXCIuY29uY2F0KHQsXCIuanNcIikrXCI/dj1cIi5jb25jYXQoZS52ZXJzaW9uKTtpZihcInJlbW90ZS1jb25maWdcIj09PXQmJihzPVwiL2FycmF5L1wiLmNvbmNhdChlLmNvbmZpZy50b2tlbixcIi9jb25maWcuanNcIikpLFwidG9vbGJhclwiPT09dCl7dmFyIHI9M2U1LG49TWF0aC5mbG9vcihEYXRlLm5vdygpL3IpKnI7cz1cIlwiLmNvbmNhdChzLFwiJnQ9XCIpLmNvbmNhdChuKX12YXIgbz1lLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJhc3NldHNcIixzKTt6KGUsbyxpKX0sXy5fX1Bvc3Rob2dFeHRlbnNpb25zX18ubG9hZFNpdGVBcHA9KGUsdCxpKT0+e3ZhciBzPWUucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLHQpO3ooZSxzLGkpfTt2YXIgSj17fTtmdW5jdGlvbiBZKGUsdCxpKXtpZih4KGUpKWlmKHImJmUuZm9yRWFjaD09PXIpZS5mb3JFYWNoKHQsaSk7ZWxzZSBpZihcImxlbmd0aFwiaW4gZSYmZS5sZW5ndGg9PT0rZS5sZW5ndGgpZm9yKHZhciBzPTAsbj1lLmxlbmd0aDtzPG47cysrKWlmKHMgaW4gZSYmdC5jYWxsKGksZVtzXSxzKT09PUopcmV0dXJufWZ1bmN0aW9uIEsoZSx0LGkpe2lmKCFBKGUpKXtpZih4KGUpKXJldHVybiBZKGUsdCxpKTtpZihMKGUpKXtmb3IodmFyIHMgb2YgZS5lbnRyaWVzKCkpaWYodC5jYWxsKGksc1sxXSxzWzBdKT09PUopcmV0dXJufWVsc2UgZm9yKHZhciByIGluIGUpaWYoay5jYWxsKGUscikmJnQuY2FsbChpLGVbcl0scik9PT1KKXJldHVybn19dmFyIFg9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkodD4xP3QtMTowKSxzPTE7czx0O3MrKylpW3MtMV09YXJndW1lbnRzW3NdO3JldHVybiBZKGksKGZ1bmN0aW9uKHQpe2Zvcih2YXIgaSBpbiB0KXZvaWQgMCE9PXRbaV0mJihlW2ldPXRbaV0pfSkpLGV9LFE9ZnVuY3Rpb24oZSl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkodD4xP3QtMTowKSxzPTE7czx0O3MrKylpW3MtMV09YXJndW1lbnRzW3NdO3JldHVybiBZKGksKGZ1bmN0aW9uKHQpe1kodCwoZnVuY3Rpb24odCl7ZS5wdXNoKHQpfSkpfSkpLGV9O2Z1bmN0aW9uIFooZSl7Zm9yKHZhciB0PU9iamVjdC5rZXlzKGUpLGk9dC5sZW5ndGgscz1uZXcgQXJyYXkoaSk7aS0tOylzW2ldPVt0W2ldLGVbdFtpXV1dO3JldHVybiBzfXZhciBlZT1mdW5jdGlvbihlKXt0cnl7cmV0dXJuIGUoKX1jYXRjaChlKXtyZXR1cm59fSx0ZT1mdW5jdGlvbihlKXtyZXR1cm4gZnVuY3Rpb24oKXt0cnl7Zm9yKHZhciB0PWFyZ3VtZW50cy5sZW5ndGgsaT1uZXcgQXJyYXkodCkscz0wO3M8dDtzKyspaVtzXT1hcmd1bWVudHNbc107cmV0dXJuIGUuYXBwbHkodGhpcyxpKX1jYXRjaChlKXtCLmNyaXRpY2FsKFwiSW1wbGVtZW50YXRpb24gZXJyb3IuIFBsZWFzZSB0dXJuIG9uIGRlYnVnIG1vZGUgYW5kIG9wZW4gYSB0aWNrZXQgb24gaHR0cHM6Ly9hcHAucG9zdGhvZy5jb20vaG9tZSNwYW5lbD1zdXBwb3J0JTNBc3VwcG9ydCUzQS5cIiksQi5jcml0aWNhbChlKX19fSxpZT1mdW5jdGlvbihlKXt2YXIgdD17fTtyZXR1cm4gSyhlLChmdW5jdGlvbihlLGkpe1IoZSkmJmUubGVuZ3RoPjAmJih0W2ldPWUpfSkpLHR9O2Z1bmN0aW9uIHNlKGUsdCl7cmV0dXJuIGk9ZSxzPWU9PlIoZSkmJiEkKHQpP2Uuc2xpY2UoMCx0KTplLHI9bmV3IFNldCxmdW5jdGlvbiBlKHQsaSl7cmV0dXJuIHQhPT1PYmplY3QodCk/cz9zKHQsaSk6dDpyLmhhcyh0KT92b2lkIDA6KHIuYWRkKHQpLHgodCk/KG49W10sWSh0LCh0PT57bi5wdXNoKGUodCkpfSkpKToobj17fSxLKHQsKCh0LGkpPT57ci5oYXModCl8fChuW2ldPWUodCxpKSl9KSkpLG4pO3ZhciBufShpKTt2YXIgaSxzLHJ9dmFyIHJlPVtcImhlcm9rdWFwcC5jb21cIixcInZlcmNlbC5hcHBcIixcIm5ldGxpZnkuYXBwXCJdO2Z1bmN0aW9uIG5lKGUpe3ZhciB0PW51bGw9PWU/dm9pZCAwOmUuaG9zdG5hbWU7aWYoIVIodCkpcmV0dXJuITE7dmFyIGk9dC5zcGxpdChcIi5cIikuc2xpY2UoLTIpLmpvaW4oXCIuXCIpO2Zvcih2YXIgcyBvZiByZSlpZihpPT09cylyZXR1cm4hMTtyZXR1cm4hMH1mdW5jdGlvbiBvZShlLHQpe2Zvcih2YXIgaT0wO2k8ZS5sZW5ndGg7aSsrKWlmKHQoZVtpXSkpcmV0dXJuIGVbaV19ZnVuY3Rpb24gYWUoZSx0LGkscyl7dmFye2NhcHR1cmU6cj0hMSxwYXNzaXZlOm49ITB9PW51bGwhPXM/czp7fTtudWxsPT1lfHxlLmFkZEV2ZW50TGlzdGVuZXIodCxpLHtjYXB0dXJlOnIscGFzc2l2ZTpufSl9dmFyIGxlPVwiJHBlb3BsZV9kaXN0aW5jdF9pZFwiLGNlPVwiX19hbGlhc1wiLHVlPVwiX190aW1lcnNcIixkZT1cIiRhdXRvY2FwdHVyZV9kaXNhYmxlZF9zZXJ2ZXJfc2lkZVwiLGhlPVwiJGhlYXRtYXBzX2VuYWJsZWRfc2VydmVyX3NpZGVcIixfZT1cIiRleGNlcHRpb25fY2FwdHVyZV9lbmFibGVkX3NlcnZlcl9zaWRlXCIscGU9XCIkd2ViX3ZpdGFsc19lbmFibGVkX3NlcnZlcl9zaWRlXCIsZ2U9XCIkZGVhZF9jbGlja3NfZW5hYmxlZF9zZXJ2ZXJfc2lkZVwiLHZlPVwiJHdlYl92aXRhbHNfYWxsb3dlZF9tZXRyaWNzXCIsZmU9XCIkc2Vzc2lvbl9yZWNvcmRpbmdfZW5hYmxlZF9zZXJ2ZXJfc2lkZVwiLG1lPVwiJGNvbnNvbGVfbG9nX3JlY29yZGluZ19lbmFibGVkX3NlcnZlcl9zaWRlXCIseWU9XCIkc2Vzc2lvbl9yZWNvcmRpbmdfbmV0d29ya19wYXlsb2FkX2NhcHR1cmVcIixiZT1cIiRzZXNzaW9uX3JlY29yZGluZ19tYXNraW5nXCIsd2U9XCIkc2Vzc2lvbl9yZWNvcmRpbmdfY2FudmFzX3JlY29yZGluZ1wiLFNlPVwiJHJlcGxheV9zYW1wbGVfcmF0ZVwiLGtlPVwiJHJlcGxheV9taW5pbXVtX2R1cmF0aW9uXCIsRWU9XCIkcmVwbGF5X3NjcmlwdF9jb25maWdcIix4ZT1cIiRzZXNpZFwiLEllPVwiJHNlc3Npb25faXNfc2FtcGxlZFwiLFBlPVwiJHNlc3Npb25fcmVjb3JkaW5nX3VybF90cmlnZ2VyX2FjdGl2YXRlZF9zZXNzaW9uXCIsQ2U9XCIkc2Vzc2lvbl9yZWNvcmRpbmdfZXZlbnRfdHJpZ2dlcl9hY3RpdmF0ZWRfc2Vzc2lvblwiLEZlPVwiJGVuYWJsZWRfZmVhdHVyZV9mbGFnc1wiLFJlPVwiJGVhcmx5X2FjY2Vzc19mZWF0dXJlc1wiLFRlPVwiJHN0b3JlZF9wZXJzb25fcHJvcGVydGllc1wiLCRlPVwiJHN0b3JlZF9ncm91cF9wcm9wZXJ0aWVzXCIsQWU9XCIkc3VydmV5c1wiLE9lPVwiJHN1cnZleXNfYWN0aXZhdGVkXCIsTWU9XCIkZmxhZ19jYWxsX3JlcG9ydGVkXCIsTGU9XCIkdXNlcl9zdGF0ZVwiLERlPVwiJGNsaWVudF9zZXNzaW9uX3Byb3BzXCIscWU9XCIkY2FwdHVyZV9yYXRlX2xpbWl0XCIsTmU9XCIkaW5pdGlhbF9jYW1wYWlnbl9wYXJhbXNcIixCZT1cIiRpbml0aWFsX3JlZmVycmVyX2luZm9cIixIZT1cIiRpbml0aWFsX3BlcnNvbl9pbmZvXCIsVWU9XCIkZXBwXCIsemU9XCJfX1BPU1RIT0dfVE9PTEJBUl9fXCIsamU9XCIkcG9zdGhvZ19jb29raWVsZXNzXCIsV2U9W2xlLGNlLFwiX19jbXBuc1wiLHVlLGZlLGhlLHhlLEZlLExlLFJlLCRlLFRlLEFlLE1lLERlLHFlLE5lLEJlLFVlXTtmdW5jdGlvbiBWZShlKXt2YXIgdDtyZXR1cm4gZSBpbnN0YW5jZW9mIEVsZW1lbnQmJihlLmlkPT09emV8fCEobnVsbD09PSh0PWUuY2xvc2VzdCl8fHZvaWQgMD09PXR8fCF0LmNhbGwoZSxcIi50b29sYmFyLWdsb2JhbC1mYWRlLWNvbnRhaW5lclwiKSkpfWZ1bmN0aW9uIEdlKGUpe3JldHVybiEhZSYmMT09PWUubm9kZVR5cGV9ZnVuY3Rpb24gSmUoZSx0KXtyZXR1cm4hIWUmJiEhZS50YWdOYW1lJiZlLnRhZ05hbWUudG9Mb3dlckNhc2UoKT09PXQudG9Mb3dlckNhc2UoKX1mdW5jdGlvbiBZZShlKXtyZXR1cm4hIWUmJjM9PT1lLm5vZGVUeXBlfWZ1bmN0aW9uIEtlKGUpe3JldHVybiEhZSYmMTE9PT1lLm5vZGVUeXBlfWZ1bmN0aW9uIFhlKGUpe3JldHVybiBlP3koZSkuc3BsaXQoL1xccysvKTpbXX1mdW5jdGlvbiBRZShlKXt2YXIgaT1udWxsPT10P3ZvaWQgMDp0LmxvY2F0aW9uLmhyZWY7cmV0dXJuISEoaSYmZSYmZS5zb21lKChlPT5pLm1hdGNoKGUpKSkpfWZ1bmN0aW9uIFplKGUpe3ZhciB0PVwiXCI7c3dpdGNoKHR5cGVvZiBlLmNsYXNzTmFtZSl7Y2FzZVwic3RyaW5nXCI6dD1lLmNsYXNzTmFtZTticmVhaztjYXNlXCJvYmplY3RcIjp0PShlLmNsYXNzTmFtZSYmXCJiYXNlVmFsXCJpbiBlLmNsYXNzTmFtZT9lLmNsYXNzTmFtZS5iYXNlVmFsOm51bGwpfHxlLmdldEF0dHJpYnV0ZShcImNsYXNzXCIpfHxcIlwiO2JyZWFrO2RlZmF1bHQ6dD1cIlwifXJldHVybiBYZSh0KX1mdW5jdGlvbiBldChlKXtyZXR1cm4gQShlKT9udWxsOnkoZSkuc3BsaXQoLyhcXHMrKS8pLmZpbHRlcigoZT0+cHQoZSkpKS5qb2luKFwiXCIpLnJlcGxhY2UoL1tcXHJcXG5dL2csXCIgXCIpLnJlcGxhY2UoL1sgXSsvZyxcIiBcIikuc3Vic3RyaW5nKDAsMjU1KX1mdW5jdGlvbiB0dChlKXt2YXIgdD1cIlwiO3JldHVybiBvdChlKSYmIWF0KGUpJiZlLmNoaWxkTm9kZXMmJmUuY2hpbGROb2Rlcy5sZW5ndGgmJksoZS5jaGlsZE5vZGVzLChmdW5jdGlvbihlKXt2YXIgaTtZZShlKSYmZS50ZXh0Q29udGVudCYmKHQrPW51bGwhPT0oaT1ldChlLnRleHRDb250ZW50KSkmJnZvaWQgMCE9PWk/aTpcIlwiKX0pKSx5KHQpfWZ1bmN0aW9uIGl0KGUpe3JldHVybiBGKGUudGFyZ2V0KT9lLnNyY0VsZW1lbnR8fG51bGw6bnVsbCE9PSh0PWUudGFyZ2V0KSYmdm9pZCAwIT09dCYmdC5zaGFkb3dSb290P2UuY29tcG9zZWRQYXRoKClbMF18fG51bGw6ZS50YXJnZXR8fG51bGw7dmFyIHR9dmFyIHN0PVtcImFcIixcImJ1dHRvblwiLFwiZm9ybVwiLFwiaW5wdXRcIixcInNlbGVjdFwiLFwidGV4dGFyZWFcIixcImxhYmVsXCJdO2Z1bmN0aW9uIHJ0KGUpe3ZhciB0PWUucGFyZW50Tm9kZTtyZXR1cm4hKCF0fHwhR2UodCkpJiZ0fWZ1bmN0aW9uIG50KGUsaSl7dmFyIHM9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnZvaWQgMCxyPWFyZ3VtZW50cy5sZW5ndGg+Mz9hcmd1bWVudHNbM106dm9pZCAwLG49YXJndW1lbnRzLmxlbmd0aD40P2FyZ3VtZW50c1s0XTp2b2lkIDA7aWYoIXR8fCFlfHxKZShlLFwiaHRtbFwiKXx8IUdlKGUpKXJldHVybiExO2lmKG51bGwhPXMmJnMudXJsX2FsbG93bGlzdCYmIVFlKHMudXJsX2FsbG93bGlzdCkpcmV0dXJuITE7aWYobnVsbCE9cyYmcy51cmxfaWdub3JlbGlzdCYmUWUocy51cmxfaWdub3JlbGlzdCkpcmV0dXJuITE7aWYobnVsbCE9cyYmcy5kb21fZXZlbnRfYWxsb3dsaXN0KXt2YXIgbz1zLmRvbV9ldmVudF9hbGxvd2xpc3Q7aWYobyYmIW8uc29tZSgoZT0+aS50eXBlPT09ZSkpKXJldHVybiExfWZvcih2YXIgYT0hMSxsPVtlXSxjPSEwLHU9ZTt1LnBhcmVudE5vZGUmJiFKZSh1LFwiYm9keVwiKTspaWYoS2UodS5wYXJlbnROb2RlKSlsLnB1c2godS5wYXJlbnROb2RlLmhvc3QpLHU9dS5wYXJlbnROb2RlLmhvc3Q7ZWxzZXtpZighKGM9cnQodSkpKWJyZWFrO2lmKHJ8fHN0LmluZGV4T2YoYy50YWdOYW1lLnRvTG93ZXJDYXNlKCkpPi0xKWE9ITA7ZWxzZXt2YXIgZD10LmdldENvbXB1dGVkU3R5bGUoYyk7ZCYmXCJwb2ludGVyXCI9PT1kLmdldFByb3BlcnR5VmFsdWUoXCJjdXJzb3JcIikmJihhPSEwKX1sLnB1c2goYyksdT1jfWlmKCFmdW5jdGlvbihlLHQpe3ZhciBpPW51bGw9PXQ/dm9pZCAwOnQuZWxlbWVudF9hbGxvd2xpc3Q7aWYoRihpKSlyZXR1cm4hMDt2YXIgcz1mdW5jdGlvbihlKXtpZihpLnNvbWUoKHQ9PmUudGFnTmFtZS50b0xvd2VyQ2FzZSgpPT09dCkpKXJldHVybnt2OiEwfX07Zm9yKHZhciByIG9mIGUpe3ZhciBuPXMocik7aWYoXCJvYmplY3RcIj09dHlwZW9mIG4pcmV0dXJuIG4udn1yZXR1cm4hMX0obCxzKSlyZXR1cm4hMTtpZighZnVuY3Rpb24oZSx0KXt2YXIgaT1udWxsPT10P3ZvaWQgMDp0LmNzc19zZWxlY3Rvcl9hbGxvd2xpc3Q7aWYoRihpKSlyZXR1cm4hMDt2YXIgcz1mdW5jdGlvbihlKXtpZihpLnNvbWUoKHQ9PmUubWF0Y2hlcyh0KSkpKXJldHVybnt2OiEwfX07Zm9yKHZhciByIG9mIGUpe3ZhciBuPXMocik7aWYoXCJvYmplY3RcIj09dHlwZW9mIG4pcmV0dXJuIG4udn1yZXR1cm4hMX0obCxzKSlyZXR1cm4hMTt2YXIgaD10LmdldENvbXB1dGVkU3R5bGUoZSk7aWYoaCYmXCJwb2ludGVyXCI9PT1oLmdldFByb3BlcnR5VmFsdWUoXCJjdXJzb3JcIikmJlwiY2xpY2tcIj09PWkudHlwZSlyZXR1cm4hMDt2YXIgXz1lLnRhZ05hbWUudG9Mb3dlckNhc2UoKTtzd2l0Y2goXyl7Y2FzZVwiaHRtbFwiOnJldHVybiExO2Nhc2VcImZvcm1cIjpyZXR1cm4obnx8W1wic3VibWl0XCJdKS5pbmRleE9mKGkudHlwZSk+PTA7Y2FzZVwiaW5wdXRcIjpjYXNlXCJzZWxlY3RcIjpjYXNlXCJ0ZXh0YXJlYVwiOnJldHVybihufHxbXCJjaGFuZ2VcIixcImNsaWNrXCJdKS5pbmRleE9mKGkudHlwZSk+PTA7ZGVmYXVsdDpyZXR1cm4gYT8obnx8W1wiY2xpY2tcIl0pLmluZGV4T2YoaS50eXBlKT49MDoobnx8W1wiY2xpY2tcIl0pLmluZGV4T2YoaS50eXBlKT49MCYmKHN0LmluZGV4T2YoXyk+LTF8fFwidHJ1ZVwiPT09ZS5nZXRBdHRyaWJ1dGUoXCJjb250ZW50ZWRpdGFibGVcIikpfX1mdW5jdGlvbiBvdChlKXtmb3IodmFyIHQ9ZTt0LnBhcmVudE5vZGUmJiFKZSh0LFwiYm9keVwiKTt0PXQucGFyZW50Tm9kZSl7dmFyIGk9WmUodCk7aWYobShpLFwicGgtc2Vuc2l0aXZlXCIpfHxtKGksXCJwaC1uby1jYXB0dXJlXCIpKXJldHVybiExfWlmKG0oWmUoZSksXCJwaC1pbmNsdWRlXCIpKXJldHVybiEwO3ZhciBzPWUudHlwZXx8XCJcIjtpZihSKHMpKXN3aXRjaChzLnRvTG93ZXJDYXNlKCkpe2Nhc2VcImhpZGRlblwiOmNhc2VcInBhc3N3b3JkXCI6cmV0dXJuITF9dmFyIHI9ZS5uYW1lfHxlLmlkfHxcIlwiO2lmKFIocikpe2lmKC9eY2N8Y2FyZG51bXxjY251bXxjcmVkaXRjYXJkfGNzY3xjdmN8Y3Z2fGV4cHxwYXNzfHB3ZHxyb3V0aW5nfHNlY2NvZGV8c2VjdXJpdHljb2RlfHNlY3VyaXR5bnVtfHNvY2lhbHNlY3xzb2NzZWN8c3NuL2kudGVzdChyLnJlcGxhY2UoL1teYS16QS1aMC05XS9nLFwiXCIpKSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBhdChlKXtyZXR1cm4hIShKZShlLFwiaW5wdXRcIikmJiFbXCJidXR0b25cIixcImNoZWNrYm94XCIsXCJzdWJtaXRcIixcInJlc2V0XCJdLmluY2x1ZGVzKGUudHlwZSl8fEplKGUsXCJzZWxlY3RcIil8fEplKGUsXCJ0ZXh0YXJlYVwiKXx8XCJ0cnVlXCI9PT1lLmdldEF0dHJpYnV0ZShcImNvbnRlbnRlZGl0YWJsZVwiKSl9dmFyIGx0PVwiKDRbMC05XXsxMn0oPzpbMC05XXszfSk/KXwoNVsxLTVdWzAtOV17MTR9KXwoNig/OjAxMXw1WzAtOV17Mn0pWzAtOV17MTJ9KXwoM1s0N11bMC05XXsxM30pfCgzKD86MFswLTVdfFs2OF1bMC05XSlbMC05XXsxMX0pfCgoPzoyMTMxfDE4MDB8MzVbMC05XXszfSlbMC05XXsxMX0pXCIsY3Q9bmV3IFJlZ0V4cChcIl4oPzpcIi5jb25jYXQobHQsXCIpJFwiKSksdXQ9bmV3IFJlZ0V4cChsdCksZHQ9XCJcXFxcZHszfS0/XFxcXGR7Mn0tP1xcXFxkezR9XCIsaHQ9bmV3IFJlZ0V4cChcIl4oXCIuY29uY2F0KGR0LFwiKSRcIikpLF90PW5ldyBSZWdFeHAoXCIoXCIuY29uY2F0KGR0LFwiKVwiKSk7ZnVuY3Rpb24gcHQoZSl7dmFyIHQ9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXTtpZihBKGUpKXJldHVybiExO2lmKFIoZSkpe2lmKGU9eShlKSwodD9jdDp1dCkudGVzdCgoZXx8XCJcIikucmVwbGFjZSgvWy0gXS9nLFwiXCIpKSlyZXR1cm4hMTtpZigodD9odDpfdCkudGVzdChlKSlyZXR1cm4hMX1yZXR1cm4hMH1mdW5jdGlvbiBndChlKXt2YXIgdD10dChlKTtyZXR1cm4gcHQodD1cIlwiLmNvbmNhdCh0LFwiIFwiKS5jb25jYXQodnQoZSkpLnRyaW0oKSk/dDpcIlwifWZ1bmN0aW9uIHZ0KGUpe3ZhciB0PVwiXCI7cmV0dXJuIGUmJmUuY2hpbGROb2RlcyYmZS5jaGlsZE5vZGVzLmxlbmd0aCYmSyhlLmNoaWxkTm9kZXMsKGZ1bmN0aW9uKGUpe3ZhciBpO2lmKGUmJlwic3BhblwiPT09KG51bGw9PT0oaT1lLnRhZ05hbWUpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnRvTG93ZXJDYXNlKCkpKXRyeXt2YXIgcz10dChlKTt0PVwiXCIuY29uY2F0KHQsXCIgXCIpLmNvbmNhdChzKS50cmltKCksZS5jaGlsZE5vZGVzJiZlLmNoaWxkTm9kZXMubGVuZ3RoJiYodD1cIlwiLmNvbmNhdCh0LFwiIFwiKS5jb25jYXQodnQoZSkpLnRyaW0oKSl9Y2F0Y2goZSl7Qi5lcnJvcihcIltBdXRvQ2FwdHVyZV1cIixlKX19KSksdH1mdW5jdGlvbiBmdChlKXtyZXR1cm4gZnVuY3Rpb24oZSl7dmFyIHQ9ZS5tYXAoKGU9Pnt2YXIgdCxpLHM9XCJcIjtpZihlLnRhZ19uYW1lJiYocys9ZS50YWdfbmFtZSksZS5hdHRyX2NsYXNzKWZvcih2YXIgciBvZihlLmF0dHJfY2xhc3Muc29ydCgpLGUuYXR0cl9jbGFzcykpcys9XCIuXCIuY29uY2F0KHIucmVwbGFjZSgvXCIvZyxcIlwiKSk7dmFyIG49VyhXKFcoVyh7fSxlLnRleHQ/e3RleHQ6ZS50ZXh0fTp7fSkse30se1wibnRoLWNoaWxkXCI6bnVsbCE9PSh0PWUubnRoX2NoaWxkKSYmdm9pZCAwIT09dD90OjAsXCJudGgtb2YtdHlwZVwiOm51bGwhPT0oaT1lLm50aF9vZl90eXBlKSYmdm9pZCAwIT09aT9pOjB9LGUuaHJlZj97aHJlZjplLmhyZWZ9Ont9KSxlLmF0dHJfaWQ/e2F0dHJfaWQ6ZS5hdHRyX2lkfTp7fSksZS5hdHRyaWJ1dGVzKSxvPXt9O3JldHVybiBaKG4pLnNvcnQoKChlLHQpPT57dmFyW2ldPWUsW3NdPXQ7cmV0dXJuIGkubG9jYWxlQ29tcGFyZShzKX0pKS5mb3JFYWNoKChlPT57dmFyW3QsaV09ZTtyZXR1cm4gb1ttdCh0LnRvU3RyaW5nKCkpXT1tdChpLnRvU3RyaW5nKCkpfSkpLHMrPVwiOlwiLHMrPVoobikubWFwKChlPT57dmFyW3QsaV09ZTtyZXR1cm5cIlwiLmNvbmNhdCh0LCc9XCInKS5jb25jYXQoaSwnXCInKX0pKS5qb2luKFwiXCIpfSkpO3JldHVybiB0LmpvaW4oXCI7XCIpfShmdW5jdGlvbihlKXtyZXR1cm4gZS5tYXAoKGU9Pnt2YXIgdCxpLHM9e3RleHQ6bnVsbD09PSh0PWUuJGVsX3RleHQpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnNsaWNlKDAsNDAwKSx0YWdfbmFtZTplLnRhZ19uYW1lLGhyZWY6bnVsbD09PShpPWUuYXR0cl9faHJlZil8fHZvaWQgMD09PWk/dm9pZCAwOmkuc2xpY2UoMCwyMDQ4KSxhdHRyX2NsYXNzOnl0KGUpLGF0dHJfaWQ6ZS5hdHRyX19pZCxudGhfY2hpbGQ6ZS5udGhfY2hpbGQsbnRoX29mX3R5cGU6ZS5udGhfb2ZfdHlwZSxhdHRyaWJ1dGVzOnt9fTtyZXR1cm4gWihlKS5maWx0ZXIoKGU9Pnt2YXJbdF09ZTtyZXR1cm4gMD09PXQuaW5kZXhPZihcImF0dHJfX1wiKX0pKS5mb3JFYWNoKChlPT57dmFyW3QsaV09ZTtyZXR1cm4gcy5hdHRyaWJ1dGVzW3RdPWl9KSksc30pKX0oZSkpfWZ1bmN0aW9uIG10KGUpe3JldHVybiBlLnJlcGxhY2UoL1wifFxcXFxcIi9nLCdcXFxcXCInKX1mdW5jdGlvbiB5dChlKXt2YXIgdD1lLmF0dHJfX2NsYXNzO3JldHVybiB0P3godCk/dDpYZSh0KTp2b2lkIDB9Y2xhc3MgYnR7Y29uc3RydWN0b3IoKXt0aGlzLmNsaWNrcz1bXX1pc1JhZ2VDbGljayhlLHQsaSl7dmFyIHM9dGhpcy5jbGlja3NbdGhpcy5jbGlja3MubGVuZ3RoLTFdO2lmKHMmJk1hdGguYWJzKGUtcy54KStNYXRoLmFicyh0LXMueSk8MzAmJmktcy50aW1lc3RhbXA8MWUzKXtpZih0aGlzLmNsaWNrcy5wdXNoKHt4OmUseTp0LHRpbWVzdGFtcDppfSksMz09PXRoaXMuY2xpY2tzLmxlbmd0aClyZXR1cm4hMH1lbHNlIHRoaXMuY2xpY2tzPVt7eDplLHk6dCx0aW1lc3RhbXA6aX1dO3JldHVybiExfX12YXIgd3Q9W1wibG9jYWxob3N0XCIsXCIxMjcuMC4wLjFcIl0sU3Q9ZT0+e3ZhciB0PW51bGw9PWE/dm9pZCAwOmEuY3JlYXRlRWxlbWVudChcImFcIik7cmV0dXJuIEYodCk/bnVsbDoodC5ocmVmPWUsdCl9LGt0PWZ1bmN0aW9uKGUpe3ZhciB0LGkscz1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCImXCIscj1bXTtyZXR1cm4gSyhlLChmdW5jdGlvbihlLHMpe0YoZSl8fEYocyl8fFwidW5kZWZpbmVkXCI9PT1zfHwodD1lbmNvZGVVUklDb21wb25lbnQoKGU9PmUgaW5zdGFuY2VvZiBGaWxlKShlKT9lLm5hbWU6ZS50b1N0cmluZygpKSxpPWVuY29kZVVSSUNvbXBvbmVudChzKSxyW3IubGVuZ3RoXT1pK1wiPVwiK3QpfSkpLHIuam9pbihzKX0sRXQ9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGkscz0oKGUuc3BsaXQoXCIjXCIpWzBdfHxcIlwiKS5zcGxpdCgvXFw/KC4qKS8pWzFdfHxcIlwiKS5yZXBsYWNlKC9eXFw/Ky9nLFwiXCIpLnNwbGl0KFwiJlwiKSxyPTA7cjxzLmxlbmd0aDtyKyspe3ZhciBuPXNbcl0uc3BsaXQoXCI9XCIpO2lmKG5bMF09PT10KXtpPW47YnJlYWt9fWlmKCF4KGkpfHxpLmxlbmd0aDwyKXJldHVyblwiXCI7dmFyIG89aVsxXTt0cnl7bz1kZWNvZGVVUklDb21wb25lbnQobyl9Y2F0Y2goZSl7Qi5lcnJvcihcIlNraXBwaW5nIGRlY29kaW5nIGZvciBtYWxmb3JtZWQgcXVlcnkgcGFyYW06IFwiK28pfXJldHVybiBvLnJlcGxhY2UoL1xcKy9nLFwiIFwiKX0seHQ9ZnVuY3Rpb24oZSx0LGkpe2lmKCFlfHwhdHx8IXQubGVuZ3RoKXJldHVybiBlO2Zvcih2YXIgcz1lLnNwbGl0KFwiI1wiKSxyPXNbMF18fFwiXCIsbj1zWzFdLG89ci5zcGxpdChcIj9cIiksYT1vWzFdLGw9b1swXSxjPShhfHxcIlwiKS5zcGxpdChcIiZcIiksdT1bXSxkPTA7ZDxjLmxlbmd0aDtkKyspe3ZhciBoPWNbZF0uc3BsaXQoXCI9XCIpO3goaCkmJih0LmluY2x1ZGVzKGhbMF0pP3UucHVzaChoWzBdK1wiPVwiK2kpOnUucHVzaChjW2RdKSl9dmFyIF89bDtyZXR1cm4gbnVsbCE9YSYmKF8rPVwiP1wiK3Uuam9pbihcIiZcIikpLG51bGwhPW4mJihfKz1cIiNcIituKSxffSxJdD1mdW5jdGlvbihlLHQpe3ZhciBpPWUubWF0Y2gobmV3IFJlZ0V4cCh0K1wiPShbXiZdKilcIikpO3JldHVybiBpP2lbMV06bnVsbH0sUHQ9SChcIltBdXRvQ2FwdHVyZV1cIik7ZnVuY3Rpb24gQ3QoZSx0KXtyZXR1cm4gdC5sZW5ndGg+ZT90LnNsaWNlKDAsZSkrXCIuLi5cIjp0fWZ1bmN0aW9uIEZ0KGUpe2lmKGUucHJldmlvdXNFbGVtZW50U2libGluZylyZXR1cm4gZS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nO3ZhciB0PWU7ZG97dD10LnByZXZpb3VzU2libGluZ313aGlsZSh0JiYhR2UodCkpO3JldHVybiB0fWZ1bmN0aW9uIFJ0KGUsdCxpLHMpe3ZhciByPWUudGFnTmFtZS50b0xvd2VyQ2FzZSgpLG49e3RhZ19uYW1lOnJ9O3N0LmluZGV4T2Yocik+LTEmJiFpJiYoXCJhXCI9PT1yLnRvTG93ZXJDYXNlKCl8fFwiYnV0dG9uXCI9PT1yLnRvTG93ZXJDYXNlKCk/bi4kZWxfdGV4dD1DdCgxMDI0LGd0KGUpKTpuLiRlbF90ZXh0PUN0KDEwMjQsdHQoZSkpKTt2YXIgbz1aZShlKTtvLmxlbmd0aD4wJiYobi5jbGFzc2VzPW8uZmlsdGVyKChmdW5jdGlvbihlKXtyZXR1cm5cIlwiIT09ZX0pKSksSyhlLmF0dHJpYnV0ZXMsKGZ1bmN0aW9uKGkpe3ZhciByO2lmKCghYXQoZSl8fC0xIT09W1wibmFtZVwiLFwiaWRcIixcImNsYXNzXCIsXCJhcmlhLWxhYmVsXCJdLmluZGV4T2YoaS5uYW1lKSkmJigobnVsbD09c3x8IXMuaW5jbHVkZXMoaS5uYW1lKSkmJiF0JiZwdChpLnZhbHVlKSYmKHI9aS5uYW1lLCFSKHIpfHxcIl9uZ2NvbnRlbnRcIiE9PXIuc3Vic3RyaW5nKDAsMTApJiZcIl9uZ2hvc3RcIiE9PXIuc3Vic3RyaW5nKDAsNykpKSl7dmFyIG89aS52YWx1ZTtcImNsYXNzXCI9PT1pLm5hbWUmJihvPVhlKG8pLmpvaW4oXCIgXCIpKSxuW1wiYXR0cl9fXCIraS5uYW1lXT1DdCgxMDI0LG8pfX0pKTtmb3IodmFyIGE9MSxsPTEsYz1lO2M9RnQoYyk7KWErKyxjLnRhZ05hbWU9PT1lLnRhZ05hbWUmJmwrKztyZXR1cm4gbi5udGhfY2hpbGQ9YSxuLm50aF9vZl90eXBlPWwsbn1mdW5jdGlvbiBUdChlLGkpe2Zvcih2YXIgcyxyLHtlOm4sbWFza0FsbEVsZW1lbnRBdHRyaWJ1dGVzOm8sbWFza0FsbFRleHQ6YSxlbGVtZW50QXR0cmlidXRlSWdub3JlTGlzdDpsLGVsZW1lbnRzQ2hhaW5Bc1N0cmluZzpjfT1pLHU9W2VdLGQ9ZTtkLnBhcmVudE5vZGUmJiFKZShkLFwiYm9keVwiKTspS2UoZC5wYXJlbnROb2RlKT8odS5wdXNoKGQucGFyZW50Tm9kZS5ob3N0KSxkPWQucGFyZW50Tm9kZS5ob3N0KToodS5wdXNoKGQucGFyZW50Tm9kZSksZD1kLnBhcmVudE5vZGUpO3ZhciBoLF89W10scD17fSxnPSExLHY9ITE7aWYoSyh1LChlPT57dmFyIHQ9b3QoZSk7XCJhXCI9PT1lLnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmKGc9ZS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpLGc9dCYmZyYmcHQoZykmJmcpLG0oWmUoZSksXCJwaC1uby1jYXB0dXJlXCIpJiYodj0hMCksXy5wdXNoKFJ0KGUsbyxhLGwpKTt2YXIgaT1mdW5jdGlvbihlKXtpZighb3QoZSkpcmV0dXJue307dmFyIHQ9e307cmV0dXJuIEsoZS5hdHRyaWJ1dGVzLChmdW5jdGlvbihlKXtpZihlLm5hbWUmJjA9PT1lLm5hbWUuaW5kZXhPZihcImRhdGEtcGgtY2FwdHVyZS1hdHRyaWJ1dGVcIikpe3ZhciBpPWUubmFtZS5yZXBsYWNlKFwiZGF0YS1waC1jYXB0dXJlLWF0dHJpYnV0ZS1cIixcIlwiKSxzPWUudmFsdWU7aSYmcyYmcHQocykmJih0W2ldPXMpfX0pKSx0fShlKTtYKHAsaSl9KSksdilyZXR1cm57cHJvcHM6e30sZXhwbGljaXROb0NhcHR1cmU6dn07aWYoYXx8KFwiYVwiPT09ZS50YWdOYW1lLnRvTG93ZXJDYXNlKCl8fFwiYnV0dG9uXCI9PT1lLnRhZ05hbWUudG9Mb3dlckNhc2UoKT9fWzBdLiRlbF90ZXh0PWd0KGUpOl9bMF0uJGVsX3RleHQ9dHQoZSkpLGcpe3ZhciBmLHk7X1swXS5hdHRyX19ocmVmPWc7dmFyIGI9bnVsbD09PShmPVN0KGcpKXx8dm9pZCAwPT09Zj92b2lkIDA6Zi5ob3N0LHc9bnVsbD09dHx8bnVsbD09PSh5PXQubG9jYXRpb24pfHx2b2lkIDA9PT15P3ZvaWQgMDp5Lmhvc3Q7YiYmdyYmYiE9PXcmJihoPWcpfXJldHVybntwcm9wczpYKHskZXZlbnRfdHlwZTpuLnR5cGUsJGNlX3ZlcnNpb246MX0sYz97fTp7JGVsZW1lbnRzOl99LHskZWxlbWVudHNfY2hhaW46ZnQoXyl9LG51bGwhPT0ocz1fWzBdKSYmdm9pZCAwIT09cyYmcy4kZWxfdGV4dD97JGVsX3RleHQ6bnVsbD09PShyPV9bMF0pfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLiRlbF90ZXh0fTp7fSxoJiZcImNsaWNrXCI9PT1uLnR5cGU/eyRleHRlcm5hbF9jbGlja191cmw6aH06e30scCl9fWNsYXNzICR0e2NvbnN0cnVjdG9yKGUpe1YodGhpcyxcIl9pbml0aWFsaXplZFwiLCExKSxWKHRoaXMsXCJfaXNEaXNhYmxlZFNlcnZlclNpZGVcIixudWxsKSxWKHRoaXMsXCJyYWdlY2xpY2tzXCIsbmV3IGJ0KSxWKHRoaXMsXCJfZWxlbWVudHNDaGFpbkFzU3RyaW5nXCIsITEpLHRoaXMuaW5zdGFuY2U9ZSx0aGlzLl9lbGVtZW50U2VsZWN0b3JzPW51bGx9Z2V0IGNvbmZpZygpe3ZhciBlLHQsaT1QKHRoaXMuaW5zdGFuY2UuY29uZmlnLmF1dG9jYXB0dXJlKT90aGlzLmluc3RhbmNlLmNvbmZpZy5hdXRvY2FwdHVyZTp7fTtyZXR1cm4gaS51cmxfYWxsb3dsaXN0PW51bGw9PT0oZT1pLnVybF9hbGxvd2xpc3QpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLm1hcCgoZT0+bmV3IFJlZ0V4cChlKSkpLGkudXJsX2lnbm9yZWxpc3Q9bnVsbD09PSh0PWkudXJsX2lnbm9yZWxpc3QpfHx2b2lkIDA9PT10P3ZvaWQgMDp0Lm1hcCgoZT0+bmV3IFJlZ0V4cChlKSkpLGl9X2FkZERvbUV2ZW50SGFuZGxlcnMoKXtpZih0aGlzLmlzQnJvd3NlclN1cHBvcnRlZCgpKXtpZih0JiZhKXt2YXIgZT1lPT57ZT1lfHwobnVsbD09dD92b2lkIDA6dC5ldmVudCk7dHJ5e3RoaXMuX2NhcHR1cmVFdmVudChlKX1jYXRjaChlKXtQdC5lcnJvcihcIkZhaWxlZCB0byBjYXB0dXJlIGV2ZW50XCIsZSl9fTtpZihhZShhLFwic3VibWl0XCIsZSx7Y2FwdHVyZTohMH0pLGFlKGEsXCJjaGFuZ2VcIixlLHtjYXB0dXJlOiEwfSksYWUoYSxcImNsaWNrXCIsZSx7Y2FwdHVyZTohMH0pLHRoaXMuY29uZmlnLmNhcHR1cmVfY29waWVkX3RleHQpe3ZhciBpPWU9PntlPWV8fChudWxsPT10P3ZvaWQgMDp0LmV2ZW50KSx0aGlzLl9jYXB0dXJlRXZlbnQoZSxnKX07YWUoYSxcImNvcHlcIixpLHtjYXB0dXJlOiEwfSksYWUoYSxcImN1dFwiLGkse2NhcHR1cmU6ITB9KX19fWVsc2UgUHQuaW5mbyhcIkRpc2FibGluZyBBdXRvbWF0aWMgRXZlbnQgQ29sbGVjdGlvbiBiZWNhdXNlIHRoaXMgYnJvd3NlciBpcyBub3Qgc3VwcG9ydGVkXCIpfXN0YXJ0SWZFbmFibGVkKCl7dGhpcy5pc0VuYWJsZWQmJiF0aGlzLl9pbml0aWFsaXplZCYmKHRoaXMuX2FkZERvbUV2ZW50SGFuZGxlcnMoKSx0aGlzLl9pbml0aWFsaXplZD0hMCl9b25SZW1vdGVDb25maWcoZSl7ZS5lbGVtZW50c0NoYWluQXNTdHJpbmcmJih0aGlzLl9lbGVtZW50c0NoYWluQXNTdHJpbmc9ZS5lbGVtZW50c0NoYWluQXNTdHJpbmcpLHRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UmJnRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tkZV06ISFlLmF1dG9jYXB0dXJlX29wdF9vdXR9KSx0aGlzLl9pc0Rpc2FibGVkU2VydmVyU2lkZT0hIWUuYXV0b2NhcHR1cmVfb3B0X291dCx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9c2V0RWxlbWVudFNlbGVjdG9ycyhlKXt0aGlzLl9lbGVtZW50U2VsZWN0b3JzPWV9Z2V0RWxlbWVudFNlbGVjdG9ycyhlKXt2YXIgdCxpPVtdO3JldHVybiBudWxsPT09KHQ9dGhpcy5fZWxlbWVudFNlbGVjdG9ycyl8fHZvaWQgMD09PXR8fHQuZm9yRWFjaCgodD0+e3ZhciBzPW51bGw9PWE/dm9pZCAwOmEucXVlcnlTZWxlY3RvckFsbCh0KTtudWxsPT1zfHxzLmZvckVhY2goKHM9PntlPT09cyYmaS5wdXNoKHQpfSkpfSkpLGl9Z2V0IGlzRW5hYmxlZCgpe3ZhciBlLHQsaT1udWxsPT09KGU9dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUucHJvcHNbZGVdLHM9dGhpcy5faXNEaXNhYmxlZFNlcnZlclNpZGU7aWYoJChzKSYmIU0oaSkmJiF0aGlzLmluc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX2RlY2lkZSlyZXR1cm4hMTt2YXIgcj1udWxsIT09KHQ9dGhpcy5faXNEaXNhYmxlZFNlcnZlclNpZGUpJiZ2b2lkIDAhPT10P3Q6ISFpO3JldHVybiEhdGhpcy5pbnN0YW5jZS5jb25maWcuYXV0b2NhcHR1cmUmJiFyfV9jYXB0dXJlRXZlbnQoZSl7dmFyIGk9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOlwiJGF1dG9jYXB0dXJlXCI7aWYodGhpcy5pc0VuYWJsZWQpe3ZhciBzLHI9aXQoZSk7aWYoWWUocikmJihyPXIucGFyZW50Tm9kZXx8bnVsbCksXCIkYXV0b2NhcHR1cmVcIj09PWkmJlwiY2xpY2tcIj09PWUudHlwZSYmZSBpbnN0YW5jZW9mIE1vdXNlRXZlbnQpdGhpcy5pbnN0YW5jZS5jb25maWcucmFnZWNsaWNrJiZudWxsIT09KHM9dGhpcy5yYWdlY2xpY2tzKSYmdm9pZCAwIT09cyYmcy5pc1JhZ2VDbGljayhlLmNsaWVudFgsZS5jbGllbnRZLChuZXcgRGF0ZSkuZ2V0VGltZSgpKSYmdGhpcy5fY2FwdHVyZUV2ZW50KGUsXCIkcmFnZWNsaWNrXCIpO3ZhciBuPWk9PT1nO2lmKHImJm50KHIsZSx0aGlzLmNvbmZpZyxuLG4/W1wiY29weVwiLFwiY3V0XCJdOnZvaWQgMCkpe3Zhcntwcm9wczpvLGV4cGxpY2l0Tm9DYXB0dXJlOmF9PVR0KHIse2U6ZSxtYXNrQWxsRWxlbWVudEF0dHJpYnV0ZXM6dGhpcy5pbnN0YW5jZS5jb25maWcubWFza19hbGxfZWxlbWVudF9hdHRyaWJ1dGVzLG1hc2tBbGxUZXh0OnRoaXMuaW5zdGFuY2UuY29uZmlnLm1hc2tfYWxsX3RleHQsZWxlbWVudEF0dHJpYnV0ZUlnbm9yZUxpc3Q6dGhpcy5jb25maWcuZWxlbWVudF9hdHRyaWJ1dGVfaWdub3JlbGlzdCxlbGVtZW50c0NoYWluQXNTdHJpbmc6dGhpcy5fZWxlbWVudHNDaGFpbkFzU3RyaW5nfSk7aWYoYSlyZXR1cm4hMTt2YXIgbD10aGlzLmdldEVsZW1lbnRTZWxlY3RvcnMocik7aWYobCYmbC5sZW5ndGg+MCYmKG8uJGVsZW1lbnRfc2VsZWN0b3JzPWwpLGk9PT1nKXt2YXIgYyx1PWV0KG51bGw9PXR8fG51bGw9PT0oYz10LmdldFNlbGVjdGlvbigpKXx8dm9pZCAwPT09Yz92b2lkIDA6Yy50b1N0cmluZygpKSxkPWUudHlwZXx8XCJjbGlwYm9hcmRcIjtpZighdSlyZXR1cm4hMTtvLiRzZWxlY3RlZF9jb250ZW50PXUsby4kY29weV90eXBlPWR9cmV0dXJuIHRoaXMuaW5zdGFuY2UuY2FwdHVyZShpLG8pLCEwfX19aXNCcm93c2VyU3VwcG9ydGVkKCl7cmV0dXJuIEkobnVsbD09YT92b2lkIDA6YS5xdWVyeVNlbGVjdG9yQWxsKX19TWF0aC50cnVuY3x8KE1hdGgudHJ1bmM9ZnVuY3Rpb24oZSl7cmV0dXJuIGU8MD9NYXRoLmNlaWwoZSk6TWF0aC5mbG9vcihlKX0pLE51bWJlci5pc0ludGVnZXJ8fChOdW1iZXIuaXNJbnRlZ2VyPWZ1bmN0aW9uKGUpe3JldHVybiBPKGUpJiZpc0Zpbml0ZShlKSYmTWF0aC5mbG9vcihlKT09PWV9KTt2YXIgQXQ9XCIwMTIzNDU2Nzg5YWJjZGVmXCI7Y2xhc3MgT3R7Y29uc3RydWN0b3IoZSl7aWYodGhpcy5ieXRlcz1lLDE2IT09ZS5sZW5ndGgpdGhyb3cgbmV3IFR5cGVFcnJvcihcIm5vdCAxMjgtYml0IGxlbmd0aFwiKX1zdGF0aWMgZnJvbUZpZWxkc1Y3KGUsdCxpLHMpe2lmKCFOdW1iZXIuaXNJbnRlZ2VyKGUpfHwhTnVtYmVyLmlzSW50ZWdlcih0KXx8IU51bWJlci5pc0ludGVnZXIoaSl8fCFOdW1iZXIuaXNJbnRlZ2VyKHMpfHxlPDB8fHQ8MHx8aTwwfHxzPDB8fGU+MHhmZmZmZmZmZmZmZmZ8fHQ+NDA5NXx8aT4xMDczNzQxODIzfHxzPjQyOTQ5NjcyOTUpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJpbnZhbGlkIGZpZWxkIHZhbHVlXCIpO3ZhciByPW5ldyBVaW50OEFycmF5KDE2KTtyZXR1cm4gclswXT1lL01hdGgucG93KDIsNDApLHJbMV09ZS9NYXRoLnBvdygyLDMyKSxyWzJdPWUvTWF0aC5wb3coMiwyNCksclszXT1lL01hdGgucG93KDIsMTYpLHJbNF09ZS9NYXRoLnBvdygyLDgpLHJbNV09ZSxyWzZdPTExMnx0Pj4+OCxyWzddPXQscls4XT0xMjh8aT4+PjI0LHJbOV09aT4+PjE2LHJbMTBdPWk+Pj44LHJbMTFdPWksclsxMl09cz4+PjI0LHJbMTNdPXM+Pj4xNixyWzE0XT1zPj4+OCxyWzE1XT1zLG5ldyBPdChyKX10b1N0cmluZygpe2Zvcih2YXIgZT1cIlwiLHQ9MDt0PHRoaXMuYnl0ZXMubGVuZ3RoO3QrKyllPWUrQXQuY2hhckF0KHRoaXMuYnl0ZXNbdF0+Pj40KStBdC5jaGFyQXQoMTUmdGhpcy5ieXRlc1t0XSksMyE9PXQmJjUhPT10JiY3IT09dCYmOSE9PXR8fChlKz1cIi1cIik7aWYoMzYhPT1lLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIFVVSUR2NyB3YXMgZ2VuZXJhdGVkXCIpO3JldHVybiBlfWNsb25lKCl7cmV0dXJuIG5ldyBPdCh0aGlzLmJ5dGVzLnNsaWNlKDApKX1lcXVhbHMoZSl7cmV0dXJuIDA9PT10aGlzLmNvbXBhcmVUbyhlKX1jb21wYXJlVG8oZSl7Zm9yKHZhciB0PTA7dDwxNjt0Kyspe3ZhciBpPXRoaXMuYnl0ZXNbdF0tZS5ieXRlc1t0XTtpZigwIT09aSlyZXR1cm4gTWF0aC5zaWduKGkpfXJldHVybiAwfX1jbGFzcyBNdHtjb25zdHJ1Y3Rvcigpe1YodGhpcyxcInRpbWVzdGFtcFwiLDApLFYodGhpcyxcImNvdW50ZXJcIiwwKSxWKHRoaXMsXCJyYW5kb21cIixuZXcgcXQpfWdlbmVyYXRlKCl7dmFyIGU9dGhpcy5nZW5lcmF0ZU9yQWJvcnQoKTtpZihGKGUpKXt0aGlzLnRpbWVzdGFtcD0wO3ZhciB0PXRoaXMuZ2VuZXJhdGVPckFib3J0KCk7aWYoRih0KSl0aHJvdyBuZXcgRXJyb3IoXCJDb3VsZCBub3QgZ2VuZXJhdGUgVVVJRCBhZnRlciB0aW1lc3RhbXAgcmVzZXRcIik7cmV0dXJuIHR9cmV0dXJuIGV9Z2VuZXJhdGVPckFib3J0KCl7dmFyIGU9RGF0ZS5ub3coKTtpZihlPnRoaXMudGltZXN0YW1wKXRoaXMudGltZXN0YW1wPWUsdGhpcy5yZXNldENvdW50ZXIoKTtlbHNle2lmKCEoZSsxZTQ+dGhpcy50aW1lc3RhbXApKXJldHVybjt0aGlzLmNvdW50ZXIrKyx0aGlzLmNvdW50ZXI+NDM5ODA0NjUxMTEwMyYmKHRoaXMudGltZXN0YW1wKyssdGhpcy5yZXNldENvdW50ZXIoKSl9cmV0dXJuIE90LmZyb21GaWVsZHNWNyh0aGlzLnRpbWVzdGFtcCxNYXRoLnRydW5jKHRoaXMuY291bnRlci9NYXRoLnBvdygyLDMwKSksdGhpcy5jb3VudGVyJk1hdGgucG93KDIsMzApLTEsdGhpcy5yYW5kb20ubmV4dFVpbnQzMigpKX1yZXNldENvdW50ZXIoKXt0aGlzLmNvdW50ZXI9MTAyNCp0aGlzLnJhbmRvbS5uZXh0VWludDMyKCkrKDEwMjMmdGhpcy5yYW5kb20ubmV4dFVpbnQzMigpKX19dmFyIEx0LER0PWU9PntpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgVVVJRFY3X0RFTllfV0VBS19STkcmJlVVSURWN19ERU5ZX1dFQUtfUk5HKXRocm93IG5ldyBFcnJvcihcIm5vIGNyeXB0b2dyYXBoaWNhbGx5IHN0cm9uZyBSTkcgYXZhaWxhYmxlXCIpO2Zvcih2YXIgdD0wO3Q8ZS5sZW5ndGg7dCsrKWVbdF09NjU1MzYqTWF0aC50cnVuYyg2NTUzNipNYXRoLnJhbmRvbSgpKStNYXRoLnRydW5jKDY1NTM2Kk1hdGgucmFuZG9tKCkpO3JldHVybiBlfTt0JiYhRih0LmNyeXB0bykmJmNyeXB0by5nZXRSYW5kb21WYWx1ZXMmJihEdD1lPT5jcnlwdG8uZ2V0UmFuZG9tVmFsdWVzKGUpKTtjbGFzcyBxdHtjb25zdHJ1Y3Rvcigpe1YodGhpcyxcImJ1ZmZlclwiLG5ldyBVaW50MzJBcnJheSg4KSksVih0aGlzLFwiY3Vyc29yXCIsMS8wKX1uZXh0VWludDMyKCl7cmV0dXJuIHRoaXMuY3Vyc29yPj10aGlzLmJ1ZmZlci5sZW5ndGgmJihEdCh0aGlzLmJ1ZmZlciksdGhpcy5jdXJzb3I9MCksdGhpcy5idWZmZXJbdGhpcy5jdXJzb3IrK119fXZhciBOdD0oKT0+QnQoKS50b1N0cmluZygpLEJ0PSgpPT4oTHR8fChMdD1uZXcgTXQpKS5nZW5lcmF0ZSgpLEh0PVwiVGh1LCAwMSBKYW4gMTk3MCAwMDowMDowMCBHTVRcIixVdD1cIlwiO3ZhciB6dD0vW2EtejAtOV1bYS16MC05LV0rXFwuW2Etel17Mix9JC9pO2Z1bmN0aW9uIGp0KGUsdCl7aWYodCl7dmFyIGk9ZnVuY3Rpb24oZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOmE7aWYoVXQpcmV0dXJuIFV0O2lmKCF0KXJldHVyblwiXCI7aWYoW1wibG9jYWxob3N0XCIsXCIxMjcuMC4wLjFcIl0uaW5jbHVkZXMoZSkpcmV0dXJuXCJcIjtmb3IodmFyIGk9ZS5zcGxpdChcIi5cIikscz1NYXRoLm1pbihpLmxlbmd0aCw4KSxyPVwiZG1uX2Noa19cIitOdCgpLG49bmV3IFJlZ0V4cChcIihefDspXFxcXHMqXCIrcitcIj0xXCIpOyFVdCYmcy0tOyl7dmFyIG89aS5zbGljZShzKS5qb2luKFwiLlwiKSxsPXIrXCI9MTtkb21haW49LlwiK287dC5jb29raWU9bCxuLnRlc3QodC5jb29raWUpJiYodC5jb29raWU9bCtcIjtleHBpcmVzPVwiK0h0LFV0PW8pfXJldHVybiBVdH0oZSk7aWYoIWkpe3ZhciBzPShlPT57dmFyIHQ9ZS5tYXRjaCh6dCk7cmV0dXJuIHQ/dFswXTpcIlwifSkoZSk7cyE9PWkmJkIuaW5mbyhcIldhcm5pbmc6IGNvb2tpZSBzdWJkb21haW4gZGlzY292ZXJ5IG1pc21hdGNoXCIscyxpKSxpPXN9cmV0dXJuIGk/XCI7IGRvbWFpbj0uXCIraTpcIlwifXJldHVyblwiXCJ9dmFyIFd0LFZ0PXtpc19zdXBwb3J0ZWQ6KCk9PiEhYSxlcnJvcjpmdW5jdGlvbihlKXtCLmVycm9yKFwiY29va2llU3RvcmUgZXJyb3I6IFwiK2UpfSxnZXQ6ZnVuY3Rpb24oZSl7aWYoYSl7dHJ5e2Zvcih2YXIgdD1lK1wiPVwiLGk9YS5jb29raWUuc3BsaXQoXCI7XCIpLmZpbHRlcigoZT0+ZS5sZW5ndGgpKSxzPTA7czxpLmxlbmd0aDtzKyspe2Zvcih2YXIgcj1pW3NdO1wiIFwiPT1yLmNoYXJBdCgwKTspcj1yLnN1YnN0cmluZygxLHIubGVuZ3RoKTtpZigwPT09ci5pbmRleE9mKHQpKXJldHVybiBkZWNvZGVVUklDb21wb25lbnQoci5zdWJzdHJpbmcodC5sZW5ndGgsci5sZW5ndGgpKX19Y2F0Y2goZSl7fXJldHVybiBudWxsfX0scGFyc2U6ZnVuY3Rpb24oZSl7dmFyIHQ7dHJ5e3Q9SlNPTi5wYXJzZShWdC5nZXQoZSkpfHx7fX1jYXRjaChlKXt9cmV0dXJuIHR9LHNldDpmdW5jdGlvbihlLHQsaSxzLHIpe2lmKGEpdHJ5e3ZhciBuPVwiXCIsbz1cIlwiLGw9anQoYS5sb2NhdGlvbi5ob3N0bmFtZSxzKTtpZihpKXt2YXIgYz1uZXcgRGF0ZTtjLnNldFRpbWUoYy5nZXRUaW1lKCkrMjQqaSo2MCo2MCoxZTMpLG49XCI7IGV4cGlyZXM9XCIrYy50b1VUQ1N0cmluZygpfXImJihvPVwiOyBzZWN1cmVcIik7dmFyIHU9ZStcIj1cIitlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkodCkpK24rXCI7IFNhbWVTaXRlPUxheDsgcGF0aD0vXCIrbCtvO3JldHVybiB1Lmxlbmd0aD4zNjg2LjQmJkIud2FybihcImNvb2tpZVN0b3JlIHdhcm5pbmc6IGxhcmdlIGNvb2tpZSwgbGVuPVwiK3UubGVuZ3RoKSxhLmNvb2tpZT11LHV9Y2F0Y2goZSl7cmV0dXJufX0scmVtb3ZlOmZ1bmN0aW9uKGUsdCl7dHJ5e1Z0LnNldChlLFwiXCIsLTEsdCl9Y2F0Y2goZSl7cmV0dXJufX19LEd0PW51bGwsSnQ9e2lzX3N1cHBvcnRlZDpmdW5jdGlvbigpe2lmKCEkKEd0KSlyZXR1cm4gR3Q7dmFyIGU9ITA7aWYoRih0KSllPSExO2Vsc2UgdHJ5e3ZhciBpPVwiX19tcGxzc3VwcG9ydF9fXCI7SnQuc2V0KGksXCJ4eXpcIiksJ1wieHl6XCInIT09SnQuZ2V0KGkpJiYoZT0hMSksSnQucmVtb3ZlKGkpfWNhdGNoKHQpe2U9ITF9cmV0dXJuIGV8fEIuZXJyb3IoXCJsb2NhbFN0b3JhZ2UgdW5zdXBwb3J0ZWQ7IGZhbGxpbmcgYmFjayB0byBjb29raWUgc3RvcmVcIiksR3Q9ZSxlfSxlcnJvcjpmdW5jdGlvbihlKXtCLmVycm9yKFwibG9jYWxTdG9yYWdlIGVycm9yOiBcIitlKX0sZ2V0OmZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gbnVsbD09dD92b2lkIDA6dC5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShlKX1jYXRjaChlKXtKdC5lcnJvcihlKX1yZXR1cm4gbnVsbH0scGFyc2U6ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBKU09OLnBhcnNlKEp0LmdldChlKSl8fHt9fWNhdGNoKGUpe31yZXR1cm4gbnVsbH0sc2V0OmZ1bmN0aW9uKGUsaSl7dHJ5e251bGw9PXR8fHQubG9jYWxTdG9yYWdlLnNldEl0ZW0oZSxKU09OLnN0cmluZ2lmeShpKSl9Y2F0Y2goZSl7SnQuZXJyb3IoZSl9fSxyZW1vdmU6ZnVuY3Rpb24oZSl7dHJ5e251bGw9PXR8fHQubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oZSl9Y2F0Y2goZSl7SnQuZXJyb3IoZSl9fX0sWXQ9W1wiZGlzdGluY3RfaWRcIix4ZSxJZSxVZSxIZV0sS3Q9VyhXKHt9LEp0KSx7fSx7cGFyc2U6ZnVuY3Rpb24oZSl7dHJ5e3ZhciB0PXt9O3RyeXt0PVZ0LnBhcnNlKGUpfHx7fX1jYXRjaChlKXt9dmFyIGk9WCh0LEpTT04ucGFyc2UoSnQuZ2V0KGUpfHxcInt9XCIpKTtyZXR1cm4gSnQuc2V0KGUsaSksaX1jYXRjaChlKXt9cmV0dXJuIG51bGx9LHNldDpmdW5jdGlvbihlLHQsaSxzLHIsbil7dHJ5e0p0LnNldChlLHQsdm9pZCAwLHZvaWQgMCxuKTt2YXIgbz17fTtZdC5mb3JFYWNoKChlPT57dFtlXSYmKG9bZV09dFtlXSl9KSksT2JqZWN0LmtleXMobykubGVuZ3RoJiZWdC5zZXQoZSxvLGkscyxyLG4pfWNhdGNoKGUpe0p0LmVycm9yKGUpfX0scmVtb3ZlOmZ1bmN0aW9uKGUsaSl7dHJ5e251bGw9PXR8fHQubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oZSksVnQucmVtb3ZlKGUsaSl9Y2F0Y2goZSl7SnQuZXJyb3IoZSl9fX0pLFh0PXt9LFF0PXtpc19zdXBwb3J0ZWQ6ZnVuY3Rpb24oKXtyZXR1cm4hMH0sZXJyb3I6ZnVuY3Rpb24oZSl7Qi5lcnJvcihcIm1lbW9yeVN0b3JhZ2UgZXJyb3I6IFwiK2UpfSxnZXQ6ZnVuY3Rpb24oZSl7cmV0dXJuIFh0W2VdfHxudWxsfSxwYXJzZTpmdW5jdGlvbihlKXtyZXR1cm4gWHRbZV18fG51bGx9LHNldDpmdW5jdGlvbihlLHQpe1h0W2VdPXR9LHJlbW92ZTpmdW5jdGlvbihlKXtkZWxldGUgWHRbZV19fSxadD1udWxsLGVpPXtpc19zdXBwb3J0ZWQ6ZnVuY3Rpb24oKXtpZighJChadCkpcmV0dXJuIFp0O2lmKFp0PSEwLEYodCkpWnQ9ITE7ZWxzZSB0cnl7dmFyIGU9XCJfX3N1cHBvcnRfX1wiO2VpLnNldChlLFwieHl6XCIpLCdcInh5elwiJyE9PWVpLmdldChlKSYmKFp0PSExKSxlaS5yZW1vdmUoZSl9Y2F0Y2goZSl7WnQ9ITF9cmV0dXJuIFp0fSxlcnJvcjpmdW5jdGlvbihlKXtCLmVycm9yKFwic2Vzc2lvblN0b3JhZ2UgZXJyb3I6IFwiLGUpfSxnZXQ6ZnVuY3Rpb24oZSl7dHJ5e3JldHVybiBudWxsPT10P3ZvaWQgMDp0LnNlc3Npb25TdG9yYWdlLmdldEl0ZW0oZSl9Y2F0Y2goZSl7ZWkuZXJyb3IoZSl9cmV0dXJuIG51bGx9LHBhcnNlOmZ1bmN0aW9uKGUpe3RyeXtyZXR1cm4gSlNPTi5wYXJzZShlaS5nZXQoZSkpfHxudWxsfWNhdGNoKGUpe31yZXR1cm4gbnVsbH0sc2V0OmZ1bmN0aW9uKGUsaSl7dHJ5e251bGw9PXR8fHQuc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShlLEpTT04uc3RyaW5naWZ5KGkpKX1jYXRjaChlKXtlaS5lcnJvcihlKX19LHJlbW92ZTpmdW5jdGlvbihlKXt0cnl7bnVsbD09dHx8dC5zZXNzaW9uU3RvcmFnZS5yZW1vdmVJdGVtKGUpfWNhdGNoKGUpe2VpLmVycm9yKGUpfX19OyFmdW5jdGlvbihlKXtlW2UuUEVORElORz0tMV09XCJQRU5ESU5HXCIsZVtlLkRFTklFRD0wXT1cIkRFTklFRFwiLGVbZS5HUkFOVEVEPTFdPVwiR1JBTlRFRFwifShXdHx8KFd0PXt9KSk7Y2xhc3MgdGl7Y29uc3RydWN0b3IoZSl7dGhpcy5pbnN0YW5jZT1lfWdldCBjb25maWcoKXtyZXR1cm4gdGhpcy5pbnN0YW5jZS5jb25maWd9Z2V0IGNvbnNlbnQoKXtyZXR1cm4gdGhpcy5nZXREbnQoKT9XdC5ERU5JRUQ6dGhpcy5zdG9yZWRDb25zZW50fWlzT3B0ZWRPdXQoKXtyZXR1cm4gdGhpcy5jb25zZW50PT09V3QuREVOSUVEfHx0aGlzLmNvbnNlbnQ9PT1XdC5QRU5ESU5HJiZ0aGlzLmNvbmZpZy5vcHRfb3V0X2NhcHR1cmluZ19ieV9kZWZhdWx0fWlzT3B0ZWRJbigpe3JldHVybiF0aGlzLmlzT3B0ZWRPdXQoKX1vcHRJbk91dChlKXt0aGlzLnN0b3JhZ2Uuc2V0KHRoaXMuc3RvcmFnZUtleSxlPzE6MCx0aGlzLmNvbmZpZy5jb29raWVfZXhwaXJhdGlvbix0aGlzLmNvbmZpZy5jcm9zc19zdWJkb21haW5fY29va2llLHRoaXMuY29uZmlnLnNlY3VyZV9jb29raWUpfXJlc2V0KCl7dGhpcy5zdG9yYWdlLnJlbW92ZSh0aGlzLnN0b3JhZ2VLZXksdGhpcy5jb25maWcuY3Jvc3Nfc3ViZG9tYWluX2Nvb2tpZSl9Z2V0IHN0b3JhZ2VLZXkoKXt2YXJ7dG9rZW46ZSxvcHRfb3V0X2NhcHR1cmluZ19jb29raWVfcHJlZml4OnR9PXRoaXMuaW5zdGFuY2UuY29uZmlnO3JldHVybih0fHxcIl9fcGhfb3B0X2luX291dF9cIikrZX1nZXQgc3RvcmVkQ29uc2VudCgpe3ZhciBlPXRoaXMuc3RvcmFnZS5nZXQodGhpcy5zdG9yYWdlS2V5KTtyZXR1cm5cIjFcIj09PWU/V3QuR1JBTlRFRDpcIjBcIj09PWU/V3QuREVOSUVEOld0LlBFTkRJTkd9Z2V0IHN0b3JhZ2UoKXtpZighdGhpcy5fc3RvcmFnZSl7dmFyIGU9dGhpcy5jb25maWcub3B0X291dF9jYXB0dXJpbmdfcGVyc2lzdGVuY2VfdHlwZTt0aGlzLl9zdG9yYWdlPVwibG9jYWxTdG9yYWdlXCI9PT1lP0p0OlZ0O3ZhciB0PVwibG9jYWxTdG9yYWdlXCI9PT1lP1Z0Okp0O3QuZ2V0KHRoaXMuc3RvcmFnZUtleSkmJih0aGlzLl9zdG9yYWdlLmdldCh0aGlzLnN0b3JhZ2VLZXkpfHx0aGlzLm9wdEluT3V0KFwiMVwiPT09dC5nZXQodGhpcy5zdG9yYWdlS2V5KSksdC5yZW1vdmUodGhpcy5zdG9yYWdlS2V5LHRoaXMuY29uZmlnLmNyb3NzX3N1YmRvbWFpbl9jb29raWUpKX1yZXR1cm4gdGhpcy5fc3RvcmFnZX1nZXREbnQoKXtyZXR1cm4hIXRoaXMuY29uZmlnLnJlc3BlY3RfZG50JiYhIW9lKFtudWxsPT1vP3ZvaWQgMDpvLmRvTm90VHJhY2ssbnVsbD09bz92b2lkIDA6by5tc0RvTm90VHJhY2ssXy5kb05vdFRyYWNrXSwoZT0+bShbITAsMSxcIjFcIixcInllc1wiXSxlKSkpfX12YXIgaWk9SChcIltEZWFkIENsaWNrc11cIiksc2k9KCk9PiEwLHJpPWU9Pnt2YXIgdCxpPSEobnVsbD09PSh0PWUuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10fHwhdC5nZXRfcHJvcGVydHkoZ2UpKSxzPWUuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfZGVhZF9jbGlja3M7cmV0dXJuIE0ocyk/czppfTtjbGFzcyBuaXtnZXQgbGF6eUxvYWRlZERlYWRDbGlja3NBdXRvY2FwdHVyZSgpe3JldHVybiB0aGlzLl9sYXp5TG9hZGVkRGVhZENsaWNrc0F1dG9jYXB0dXJlfWNvbnN0cnVjdG9yKGUsdCxpKXt0aGlzLmluc3RhbmNlPWUsdGhpcy5pc0VuYWJsZWQ9dCx0aGlzLm9uQ2FwdHVyZT1pLHRoaXMuc3RhcnRJZkVuYWJsZWQoKX1vblJlbW90ZUNvbmZpZyhlKXt0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlJiZ0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbZ2VdOm51bGw9PWU/dm9pZCAwOmUuY2FwdHVyZURlYWRDbGlja3N9KSx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9c3RhcnRJZkVuYWJsZWQoKXt0aGlzLmlzRW5hYmxlZCh0aGlzKSYmdGhpcy5sb2FkU2NyaXB0KCgoKT0+e3RoaXMuc3RhcnQoKX0pKX1sb2FkU2NyaXB0KGUpe3ZhciB0LGkscztudWxsIT09KHQ9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18pJiZ2b2lkIDAhPT10JiZ0LmluaXREZWFkQ2xpY2tzQXV0b2NhcHR1cmUmJmUoKSxudWxsPT09KGk9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHx2b2lkIDA9PT1pfHxudWxsPT09KHM9aS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5KXx8dm9pZCAwPT09c3x8cy5jYWxsKGksdGhpcy5pbnN0YW5jZSxcImRlYWQtY2xpY2tzLWF1dG9jYXB0dXJlXCIsKHQ9Pnt0P2lpLmVycm9yKFwiZmFpbGVkIHRvIGxvYWQgc2NyaXB0XCIsdCk6ZSgpfSkpfXN0YXJ0KCl7dmFyIGU7aWYoYSl7aWYoIXRoaXMuX2xhenlMb2FkZWREZWFkQ2xpY2tzQXV0b2NhcHR1cmUmJm51bGwhPT0oZT1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJnZvaWQgMCE9PWUmJmUuaW5pdERlYWRDbGlja3NBdXRvY2FwdHVyZSl7dmFyIHQ9UCh0aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2RlYWRfY2xpY2tzKT90aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2RlYWRfY2xpY2tzOnt9O3QuX19vbkNhcHR1cmU9dGhpcy5vbkNhcHR1cmUsdGhpcy5fbGF6eUxvYWRlZERlYWRDbGlja3NBdXRvY2FwdHVyZT1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXy5pbml0RGVhZENsaWNrc0F1dG9jYXB0dXJlKHRoaXMuaW5zdGFuY2UsdCksdGhpcy5fbGF6eUxvYWRlZERlYWRDbGlja3NBdXRvY2FwdHVyZS5zdGFydChhKSxpaS5pbmZvKFwic3RhcnRpbmcuLi5cIil9fWVsc2UgaWkuZXJyb3IoXCJgZG9jdW1lbnRgIG5vdCBmb3VuZC4gQ2Fubm90IHN0YXJ0LlwiKX1zdG9wKCl7dGhpcy5fbGF6eUxvYWRlZERlYWRDbGlja3NBdXRvY2FwdHVyZSYmKHRoaXMuX2xhenlMb2FkZWREZWFkQ2xpY2tzQXV0b2NhcHR1cmUuc3RvcCgpLHRoaXMuX2xhenlMb2FkZWREZWFkQ2xpY2tzQXV0b2NhcHR1cmU9dm9pZCAwLGlpLmluZm8oXCJzdG9wcGluZy4uLlwiKSl9fXZhciBvaT1IKFwiW0V4Y2VwdGlvbkF1dG9jYXB0dXJlXVwiKTtjbGFzcyBhaXtjb25zdHJ1Y3RvcihlKXt2YXIgaTtWKHRoaXMsXCJzdGFydENhcHR1cmluZ1wiLCgoKT0+e3ZhciBlLGkscyxyO2lmKHQmJnRoaXMuaXNFbmFibGVkJiYhdGhpcy5oYXNIYW5kbGVycyl7dmFyIG49bnVsbD09PShlPV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09ZXx8bnVsbD09PShpPWUuZXJyb3JXcmFwcGluZ0Z1bmN0aW9ucyl8fHZvaWQgMD09PWk/dm9pZCAwOmkud3JhcE9uRXJyb3Isbz1udWxsPT09KHM9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHx2b2lkIDA9PT1zfHxudWxsPT09KHI9cy5lcnJvcldyYXBwaW5nRnVuY3Rpb25zKXx8dm9pZCAwPT09cj92b2lkIDA6ci53cmFwVW5oYW5kbGVkUmVqZWN0aW9uO2lmKG4mJm8pdHJ5e3RoaXMudW53cmFwT25FcnJvcj1uKHRoaXMuY2FwdHVyZUV4Y2VwdGlvbi5iaW5kKHRoaXMpKSx0aGlzLnVud3JhcFVuaGFuZGxlZFJlamVjdGlvbj1vKHRoaXMuY2FwdHVyZUV4Y2VwdGlvbi5iaW5kKHRoaXMpKX1jYXRjaChlKXtvaS5lcnJvcihcImZhaWxlZCB0byBzdGFydFwiLGUpLHRoaXMuc3RvcENhcHR1cmluZygpfWVsc2Ugb2kuZXJyb3IoXCJmYWlsZWQgdG8gbG9hZCBlcnJvciB3cmFwcGluZyBmdW5jdGlvbnMgLSBjYW5ub3Qgc3RhcnRcIil9fSkpLHRoaXMuaW5zdGFuY2U9ZSx0aGlzLnJlbW90ZUVuYWJsZWQ9IShudWxsPT09KGk9dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWl8fCFpLnByb3BzW19lXSksdGhpcy5zdGFydElmRW5hYmxlZCgpfWdldCBpc0VuYWJsZWQoKXt2YXIgZTtyZXR1cm4gTSh0aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2V4Y2VwdGlvbnMpP3RoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfZXhjZXB0aW9uczpudWxsIT09KGU9dGhpcy5yZW1vdGVFbmFibGVkKSYmdm9pZCAwIT09ZSYmZX1nZXQgaGFzSGFuZGxlcnMoKXtyZXR1cm4hRih0aGlzLnVud3JhcE9uRXJyb3IpfXN0YXJ0SWZFbmFibGVkKCl7dGhpcy5pc0VuYWJsZWQmJiF0aGlzLmhhc0hhbmRsZXJzJiYob2kuaW5mbyhcImVuYWJsZWQsIHN0YXJ0aW5nLi4uXCIpLHRoaXMubG9hZFNjcmlwdCh0aGlzLnN0YXJ0Q2FwdHVyaW5nKSl9bG9hZFNjcmlwdChlKXt2YXIgdCxpO3RoaXMuaGFzSGFuZGxlcnMmJmUoKSxudWxsPT09KHQ9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHx2b2lkIDA9PT10fHxudWxsPT09KGk9dC5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5KXx8dm9pZCAwPT09aXx8aS5jYWxsKHQsdGhpcy5pbnN0YW5jZSxcImV4Y2VwdGlvbi1hdXRvY2FwdHVyZVwiLCh0PT57aWYodClyZXR1cm4gb2kuZXJyb3IoXCJmYWlsZWQgdG8gbG9hZCBzY3JpcHRcIix0KTtlKCl9KSl9c3RvcENhcHR1cmluZygpe3ZhciBlLHQ7bnVsbD09PShlPXRoaXMudW53cmFwT25FcnJvcil8fHZvaWQgMD09PWV8fGUuY2FsbCh0aGlzKSx0aGlzLnVud3JhcE9uRXJyb3I9dm9pZCAwLG51bGw9PT0odD10aGlzLnVud3JhcFVuaGFuZGxlZFJlamVjdGlvbil8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzKSx0aGlzLnVud3JhcFVuaGFuZGxlZFJlamVjdGlvbj12b2lkIDB9b25SZW1vdGVDb25maWcoZSl7dmFyIHQ9ZS5hdXRvY2FwdHVyZUV4Y2VwdGlvbnM7dGhpcy5yZW1vdGVFbmFibGVkPSEhdHx8ITEsdGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSYmdGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W19lXTp0aGlzLnJlbW90ZUVuYWJsZWR9KSx0aGlzLnN0YXJ0SWZFbmFibGVkKCl9Y2FwdHVyZUV4Y2VwdGlvbihlKXt2YXIgdD10aGlzLmluc3RhbmNlLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJ1aVwiKTtlLiRleGNlcHRpb25fcGVyc29uVVJMPVwiXCIuY29uY2F0KHQsXCIvcHJvamVjdC9cIikuY29uY2F0KHRoaXMuaW5zdGFuY2UuY29uZmlnLnRva2VuLFwiL3BlcnNvbi9cIikuY29uY2F0KHRoaXMuaW5zdGFuY2UuZ2V0X2Rpc3RpbmN0X2lkKCkpLHRoaXMuaW5zdGFuY2UuZXhjZXB0aW9ucy5zZW5kRXhjZXB0aW9uRXZlbnQoZSl9fWZ1bmN0aW9uIGxpKGUpe3ZhciB0LGk7cmV0dXJuKG51bGw9PT0odD1KU09OLnN0cmluZ2lmeShlLChpPVtdLGZ1bmN0aW9uKGUsdCl7aWYoUCh0KSl7Zm9yKDtpLmxlbmd0aD4wJiZpW2kubGVuZ3RoLTFdIT09dGhpczspaS5wb3AoKTtyZXR1cm4gaS5pbmNsdWRlcyh0KT9cIltDaXJjdWxhcl1cIjooaS5wdXNoKHQpLHQpfXJldHVybiB0fSkpKXx8dm9pZCAwPT09dD92b2lkIDA6dC5sZW5ndGgpfHwwfWZ1bmN0aW9uIGNpKGUpe3ZhciB0PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTo2NjA2MDI4Ljg7aWYoZS5zaXplPj10JiZlLmRhdGEubGVuZ3RoPjEpe3ZhciBpPU1hdGguZmxvb3IoZS5kYXRhLmxlbmd0aC8yKSxzPWUuZGF0YS5zbGljZSgwLGkpLHI9ZS5kYXRhLnNsaWNlKGkpO3JldHVybltjaSh7c2l6ZTpsaShzKSxkYXRhOnMsc2Vzc2lvbklkOmUuc2Vzc2lvbklkLHdpbmRvd0lkOmUud2luZG93SWR9KSxjaSh7c2l6ZTpsaShyKSxkYXRhOnIsc2Vzc2lvbklkOmUuc2Vzc2lvbklkLHdpbmRvd0lkOmUud2luZG93SWR9KV0uZmxhdE1hcCgoZT0+ZSkpfXJldHVybltlXX12YXIgdWk9KGU9PihlW2UuRG9tQ29udGVudExvYWRlZD0wXT1cIkRvbUNvbnRlbnRMb2FkZWRcIixlW2UuTG9hZD0xXT1cIkxvYWRcIixlW2UuRnVsbFNuYXBzaG90PTJdPVwiRnVsbFNuYXBzaG90XCIsZVtlLkluY3JlbWVudGFsU25hcHNob3Q9M109XCJJbmNyZW1lbnRhbFNuYXBzaG90XCIsZVtlLk1ldGE9NF09XCJNZXRhXCIsZVtlLkN1c3RvbT01XT1cIkN1c3RvbVwiLGVbZS5QbHVnaW49Nl09XCJQbHVnaW5cIixlKSkodWl8fHt9KSxkaT0oZT0+KGVbZS5NdXRhdGlvbj0wXT1cIk11dGF0aW9uXCIsZVtlLk1vdXNlTW92ZT0xXT1cIk1vdXNlTW92ZVwiLGVbZS5Nb3VzZUludGVyYWN0aW9uPTJdPVwiTW91c2VJbnRlcmFjdGlvblwiLGVbZS5TY3JvbGw9M109XCJTY3JvbGxcIixlW2UuVmlld3BvcnRSZXNpemU9NF09XCJWaWV3cG9ydFJlc2l6ZVwiLGVbZS5JbnB1dD01XT1cIklucHV0XCIsZVtlLlRvdWNoTW92ZT02XT1cIlRvdWNoTW92ZVwiLGVbZS5NZWRpYUludGVyYWN0aW9uPTddPVwiTWVkaWFJbnRlcmFjdGlvblwiLGVbZS5TdHlsZVNoZWV0UnVsZT04XT1cIlN0eWxlU2hlZXRSdWxlXCIsZVtlLkNhbnZhc011dGF0aW9uPTldPVwiQ2FudmFzTXV0YXRpb25cIixlW2UuRm9udD0xMF09XCJGb250XCIsZVtlLkxvZz0xMV09XCJMb2dcIixlW2UuRHJhZz0xMl09XCJEcmFnXCIsZVtlLlN0eWxlRGVjbGFyYXRpb249MTNdPVwiU3R5bGVEZWNsYXJhdGlvblwiLGVbZS5TZWxlY3Rpb249MTRdPVwiU2VsZWN0aW9uXCIsZVtlLkFkb3B0ZWRTdHlsZVNoZWV0PTE1XT1cIkFkb3B0ZWRTdHlsZVNoZWV0XCIsZVtlLkN1c3RvbUVsZW1lbnQ9MTZdPVwiQ3VzdG9tRWxlbWVudFwiLGUpKShkaXx8e30pLGhpPVwiW1Nlc3Npb25SZWNvcmRpbmddXCIsX2k9XCJyZWRhY3RlZFwiLHBpPXtpbml0aWF0b3JUeXBlczpbXCJhdWRpb1wiLFwiYmVhY29uXCIsXCJib2R5XCIsXCJjc3NcIixcImVhcmx5LWhpbnRcIixcImVtYmVkXCIsXCJmZXRjaFwiLFwiZnJhbWVcIixcImlmcmFtZVwiLFwiaWNvblwiLFwiaW1hZ2VcIixcImltZ1wiLFwiaW5wdXRcIixcImxpbmtcIixcIm5hdmlnYXRpb25cIixcIm9iamVjdFwiLFwicGluZ1wiLFwic2NyaXB0XCIsXCJ0cmFja1wiLFwidmlkZW9cIixcInhtbGh0dHByZXF1ZXN0XCJdLG1hc2tSZXF1ZXN0Rm46ZT0+ZSxyZWNvcmRIZWFkZXJzOiExLHJlY29yZEJvZHk6ITEscmVjb3JkSW5pdGlhbFJlcXVlc3RzOiExLHJlY29yZFBlcmZvcm1hbmNlOiExLHBlcmZvcm1hbmNlRW50cnlUeXBlVG9PYnNlcnZlOltcImZpcnN0LWlucHV0XCIsXCJuYXZpZ2F0aW9uXCIsXCJwYWludFwiLFwicmVzb3VyY2VcIl0scGF5bG9hZFNpemVMaW1pdEJ5dGVzOjFlNixwYXlsb2FkSG9zdERlbnlMaXN0OltcIi5sci1pbmdlc3QuaW9cIixcIi5pbmdlc3Quc2VudHJ5LmlvXCIsXCIuY2xhcml0eS5tc1wiLFwiYW5hbHl0aWNzLmdvb2dsZS5jb21cIl19LGdpPVtcImF1dGhvcml6YXRpb25cIixcIngtZm9yd2FyZGVkLWZvclwiLFwiYXV0aG9yaXphdGlvblwiLFwiY29va2llXCIsXCJzZXQtY29va2llXCIsXCJ4LWFwaS1rZXlcIixcIngtcmVhbC1pcFwiLFwicmVtb3RlLWFkZHJcIixcImZvcndhcmRlZFwiLFwicHJveHktYXV0aG9yaXphdGlvblwiLFwieC1jc3JmLXRva2VuXCIsXCJ4LWNzcmZ0b2tlblwiLFwieC14c3JmLXRva2VuXCJdLHZpPVtcInBhc3N3b3JkXCIsXCJzZWNyZXRcIixcInBhc3N3ZFwiLFwiYXBpX2tleVwiLFwiYXBpa2V5XCIsXCJhdXRoXCIsXCJjcmVkZW50aWFsc1wiLFwibXlzcWxfcHdkXCIsXCJwcml2YXRla2V5XCIsXCJwcml2YXRlX2tleVwiLFwidG9rZW5cIl0sZmk9W1wiL3MvXCIsXCIvZS9cIixcIi9pL1wiXTtmdW5jdGlvbiBtaShlLHQsaSxzKXtpZihBKGUpKXJldHVybiBlO3ZhciByPShudWxsPT10P3ZvaWQgMDp0W1wiY29udGVudC1sZW5ndGhcIl0pfHxmdW5jdGlvbihlKXtyZXR1cm4gbmV3IEJsb2IoW2VdKS5zaXplfShlKTtyZXR1cm4gUihyKSYmKHI9cGFyc2VJbnQocikpLHI+aT9oaStcIiBcIi5jb25jYXQocyxcIiBib2R5IHRvbyBsYXJnZSB0byByZWNvcmQgKFwiKS5jb25jYXQocixcIiBieXRlcylcIik6ZX1mdW5jdGlvbiB5aShlLHQpe2lmKEEoZSkpcmV0dXJuIGU7dmFyIGk9ZTtyZXR1cm4gcHQoaSwhMSl8fChpPWhpK1wiIFwiK3QrXCIgYm9keSBcIitfaSksSyh2aSwoZT0+e3ZhciBzLHI7bnVsbCE9PShzPWkpJiZ2b2lkIDAhPT1zJiZzLmxlbmd0aCYmLTEhPT0obnVsbD09PShyPWkpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmluZGV4T2YoZSkpJiYoaT1oaStcIiBcIit0K1wiIGJvZHkgXCIrX2krXCIgYXMgbWlnaHQgY29udGFpbjogXCIrZSl9KSksaX12YXIgYmk9KGUsdCk9Pnt2YXIgaSxzLHIsbj17cGF5bG9hZFNpemVMaW1pdEJ5dGVzOnBpLnBheWxvYWRTaXplTGltaXRCeXRlcyxwZXJmb3JtYW5jZUVudHJ5VHlwZVRvT2JzZXJ2ZTpbLi4ucGkucGVyZm9ybWFuY2VFbnRyeVR5cGVUb09ic2VydmVdLHBheWxvYWRIb3N0RGVueUxpc3Q6Wy4uLnQucGF5bG9hZEhvc3REZW55TGlzdHx8W10sLi4ucGkucGF5bG9hZEhvc3REZW55TGlzdF19LG89ITEhPT1lLnNlc3Npb25fcmVjb3JkaW5nLnJlY29yZEhlYWRlcnMmJnQucmVjb3JkSGVhZGVycyxhPSExIT09ZS5zZXNzaW9uX3JlY29yZGluZy5yZWNvcmRCb2R5JiZ0LnJlY29yZEJvZHksbD0hMSE9PWUuY2FwdHVyZV9wZXJmb3JtYW5jZSYmdC5yZWNvcmRQZXJmb3JtYW5jZSxjPShpPW4scj1NYXRoLm1pbigxZTYsbnVsbCE9PShzPWkucGF5bG9hZFNpemVMaW1pdEJ5dGVzKSYmdm9pZCAwIT09cz9zOjFlNiksZT0+KG51bGwhPWUmJmUucmVxdWVzdEJvZHkmJihlLnJlcXVlc3RCb2R5PW1pKGUucmVxdWVzdEJvZHksZS5yZXF1ZXN0SGVhZGVycyxyLFwiUmVxdWVzdFwiKSksbnVsbCE9ZSYmZS5yZXNwb25zZUJvZHkmJihlLnJlc3BvbnNlQm9keT1taShlLnJlc3BvbnNlQm9keSxlLnJlc3BvbnNlSGVhZGVycyxyLFwiUmVzcG9uc2VcIikpLGUpKSx1PXQ9PntyZXR1cm4gYygoKGUsdCk9Pnt2YXIgaSxzPVN0KGUubmFtZSkscj0wPT09dC5pbmRleE9mKFwiaHR0cFwiKT9udWxsPT09KGk9U3QodCkpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnBhdGhuYW1lOnQ7XCIvXCI9PT1yJiYocj1cIlwiKTt2YXIgbj1udWxsPT1zP3ZvaWQgMDpzLnBhdGhuYW1lLnJlcGxhY2Uocnx8XCJcIixcIlwiKTtpZighKHMmJm4mJmZpLnNvbWUoKGU9PjA9PT1uLmluZGV4T2YoZSkpKSkpcmV0dXJuIGV9KSgocz0oaT10KS5yZXF1ZXN0SGVhZGVycyxBKHMpfHxLKE9iamVjdC5rZXlzKG51bGwhPXM/czp7fSksKGU9PntnaS5pbmNsdWRlcyhlLnRvTG93ZXJDYXNlKCkpJiYoc1tlXT1faSl9KSksaSksZS5hcGlfaG9zdCkpO3ZhciBpLHN9LGQ9SShlLnNlc3Npb25fcmVjb3JkaW5nLm1hc2tOZXR3b3JrUmVxdWVzdEZuKTtyZXR1cm4gZCYmSShlLnNlc3Npb25fcmVjb3JkaW5nLm1hc2tDYXB0dXJlZE5ldHdvcmtSZXF1ZXN0Rm4pJiZCLndhcm4oXCJCb3RoIGBtYXNrTmV0d29ya1JlcXVlc3RGbmAgYW5kIGBtYXNrQ2FwdHVyZWROZXR3b3JrUmVxdWVzdEZuYCBhcmUgZGVmaW5lZC4gYG1hc2tOZXR3b3JrUmVxdWVzdEZuYCB3aWxsIGJlIGlnbm9yZWQuXCIpLGQmJihlLnNlc3Npb25fcmVjb3JkaW5nLm1hc2tDYXB0dXJlZE5ldHdvcmtSZXF1ZXN0Rm49dD0+e3ZhciBpPWUuc2Vzc2lvbl9yZWNvcmRpbmcubWFza05ldHdvcmtSZXF1ZXN0Rm4oe3VybDp0Lm5hbWV9KTtyZXR1cm4gVyhXKHt9LHQpLHt9LHtuYW1lOm51bGw9PWk/dm9pZCAwOmkudXJsfSl9KSxuLm1hc2tSZXF1ZXN0Rm49SShlLnNlc3Npb25fcmVjb3JkaW5nLm1hc2tDYXB0dXJlZE5ldHdvcmtSZXF1ZXN0Rm4pP3Q9Pnt2YXIgaSxzLHIsbj11KHQpO3JldHVybiBuJiZudWxsIT09KGk9bnVsbD09PShzPShyPWUuc2Vzc2lvbl9yZWNvcmRpbmcpLm1hc2tDYXB0dXJlZE5ldHdvcmtSZXF1ZXN0Rm4pfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLmNhbGwocixuKSkmJnZvaWQgMCE9PWk/aTp2b2lkIDB9OmU9PmZ1bmN0aW9uKGUpe2lmKCFGKGUpKXJldHVybiBlLnJlcXVlc3RCb2R5PXlpKGUucmVxdWVzdEJvZHksXCJSZXF1ZXN0XCIpLGUucmVzcG9uc2VCb2R5PXlpKGUucmVzcG9uc2VCb2R5LFwiUmVzcG9uc2VcIiksZX0odShlKSksVyhXKFcoe30scGkpLG4pLHt9LHtyZWNvcmRIZWFkZXJzOm8scmVjb3JkQm9keTphLHJlY29yZFBlcmZvcm1hbmNlOmwscmVjb3JkSW5pdGlhbFJlcXVlc3RzOmx9KX07ZnVuY3Rpb24gd2koZSx0LGkscyxyKXtyZXR1cm4gdD5pJiYoQi53YXJuKFwibWluIGNhbm5vdCBiZSBncmVhdGVyIHRoYW4gbWF4LlwiKSx0PWkpLE8oZSk/ZT5pPyhzJiZCLndhcm4ocytcIiBjYW5ub3QgYmUgIGdyZWF0ZXIgdGhhbiBtYXg6IFwiK2krXCIuIFVzaW5nIG1heCB2YWx1ZSBpbnN0ZWFkLlwiKSxpKTplPHQ/KHMmJkIud2FybihzK1wiIGNhbm5vdCBiZSBsZXNzIHRoYW4gbWluOiBcIit0K1wiLiBVc2luZyBtaW4gdmFsdWUgaW5zdGVhZC5cIiksdCk6ZToocyYmQi53YXJuKHMrXCIgbXVzdCBiZSBhIG51bWJlci4gdXNpbmcgbWF4IG9yIGZhbGxiYWNrLiBtYXg6IFwiK2krXCIsIGZhbGxiYWNrOiBcIityKSx3aShyfHxpLHQsaSxzKSl9Y2xhc3MgU2l7Y29uc3RydWN0b3IoZSl7dmFyIHQsaSxzPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtWKHRoaXMsXCJidWNrZXRTaXplXCIsMTAwKSxWKHRoaXMsXCJyZWZpbGxSYXRlXCIsMTApLFYodGhpcyxcIm11dGF0aW9uQnVja2V0c1wiLHt9KSxWKHRoaXMsXCJsb2dnZWRUcmFja2VyXCIse30pLFYodGhpcyxcInJlZmlsbEJ1Y2tldHNcIiwoKCk9PntPYmplY3Qua2V5cyh0aGlzLm11dGF0aW9uQnVja2V0cykuZm9yRWFjaCgoZT0+e3RoaXMubXV0YXRpb25CdWNrZXRzW2VdPXRoaXMubXV0YXRpb25CdWNrZXRzW2VdK3RoaXMucmVmaWxsUmF0ZSx0aGlzLm11dGF0aW9uQnVja2V0c1tlXT49dGhpcy5idWNrZXRTaXplJiZkZWxldGUgdGhpcy5tdXRhdGlvbkJ1Y2tldHNbZV19KSl9KSksVih0aGlzLFwiZ2V0Tm9kZU9yUmVsZXZhbnRQYXJlbnRcIiwoZT0+e3ZhciB0PXRoaXMucnJ3ZWIubWlycm9yLmdldE5vZGUoZSk7aWYoXCJzdmdcIiE9PShudWxsPT10P3ZvaWQgMDp0Lm5vZGVOYW1lKSYmdCBpbnN0YW5jZW9mIEVsZW1lbnQpe3ZhciBpPXQuY2xvc2VzdChcInN2Z1wiKTtpZihpKXJldHVyblt0aGlzLnJyd2ViLm1pcnJvci5nZXRJZChpKSxpXX1yZXR1cm5bZSx0XX0pKSxWKHRoaXMsXCJudW1iZXJPZkNoYW5nZXNcIiwoZT0+e3ZhciB0LGkscyxyLG4sbyxhLGw7cmV0dXJuKG51bGwhPT0odD1udWxsPT09KGk9ZS5yZW1vdmVzKXx8dm9pZCAwPT09aT92b2lkIDA6aS5sZW5ndGgpJiZ2b2lkIDAhPT10P3Q6MCkrKG51bGwhPT0ocz1udWxsPT09KHI9ZS5hdHRyaWJ1dGVzKXx8dm9pZCAwPT09cj92b2lkIDA6ci5sZW5ndGgpJiZ2b2lkIDAhPT1zP3M6MCkrKG51bGwhPT0obj1udWxsPT09KG89ZS50ZXh0cyl8fHZvaWQgMD09PW8/dm9pZCAwOm8ubGVuZ3RoKSYmdm9pZCAwIT09bj9uOjApKyhudWxsIT09KGE9bnVsbD09PShsPWUuYWRkcyl8fHZvaWQgMD09PWw/dm9pZCAwOmwubGVuZ3RoKSYmdm9pZCAwIT09YT9hOjApfSkpLFYodGhpcyxcInRocm90dGxlTXV0YXRpb25zXCIsKGU9PntpZigzIT09ZS50eXBlfHwwIT09ZS5kYXRhLnNvdXJjZSlyZXR1cm4gZTt2YXIgdD1lLmRhdGEsaT10aGlzLm51bWJlck9mQ2hhbmdlcyh0KTt0LmF0dHJpYnV0ZXMmJih0LmF0dHJpYnV0ZXM9dC5hdHRyaWJ1dGVzLmZpbHRlcigoZT0+e3ZhciB0LGkscyxbcixuXT10aGlzLmdldE5vZGVPclJlbGV2YW50UGFyZW50KGUuaWQpO2lmKDA9PT10aGlzLm11dGF0aW9uQnVja2V0c1tyXSlyZXR1cm4hMTsodGhpcy5tdXRhdGlvbkJ1Y2tldHNbcl09bnVsbCE9PSh0PXRoaXMubXV0YXRpb25CdWNrZXRzW3JdKSYmdm9pZCAwIT09dD90OnRoaXMuYnVja2V0U2l6ZSx0aGlzLm11dGF0aW9uQnVja2V0c1tyXT1NYXRoLm1heCh0aGlzLm11dGF0aW9uQnVja2V0c1tyXS0xLDApLDA9PT10aGlzLm11dGF0aW9uQnVja2V0c1tyXSkmJih0aGlzLmxvZ2dlZFRyYWNrZXJbcl18fCh0aGlzLmxvZ2dlZFRyYWNrZXJbcl09ITAsbnVsbD09PShpPShzPXRoaXMub3B0aW9ucykub25CbG9ja2VkTm9kZSl8fHZvaWQgMD09PWl8fGkuY2FsbChzLHIsbikpKTtyZXR1cm4gZX0pKSk7dmFyIHM9dGhpcy5udW1iZXJPZkNoYW5nZXModCk7cmV0dXJuIDAhPT1zfHxpPT09cz9lOnZvaWQgMH0pKSx0aGlzLnJyd2ViPWUsdGhpcy5vcHRpb25zPXMsdGhpcy5yZWZpbGxSYXRlPXdpKG51bGwhPT0odD10aGlzLm9wdGlvbnMucmVmaWxsUmF0ZSkmJnZvaWQgMCE9PXQ/dDp0aGlzLnJlZmlsbFJhdGUsMCwxMDAsXCJtdXRhdGlvbiB0aHJvdHRsaW5nIHJlZmlsbCByYXRlXCIpLHRoaXMuYnVja2V0U2l6ZT13aShudWxsIT09KGk9dGhpcy5vcHRpb25zLmJ1Y2tldFNpemUpJiZ2b2lkIDAhPT1pP2k6dGhpcy5idWNrZXRTaXplLDAsMTAwLFwibXV0YXRpb24gdGhyb3R0bGluZyBidWNrZXQgc2l6ZVwiKSxzZXRJbnRlcnZhbCgoKCk9Pnt0aGlzLnJlZmlsbEJ1Y2tldHMoKX0pLDFlMyl9fXZhciBraT1VaW50OEFycmF5LEVpPVVpbnQxNkFycmF5LHhpPVVpbnQzMkFycmF5LElpPW5ldyBraShbMCwwLDAsMCwwLDAsMCwwLDEsMSwxLDEsMiwyLDIsMiwzLDMsMywzLDQsNCw0LDQsNSw1LDUsNSwwLDAsMCwwXSksUGk9bmV3IGtpKFswLDAsMCwwLDEsMSwyLDIsMywzLDQsNCw1LDUsNiw2LDcsNyw4LDgsOSw5LDEwLDEwLDExLDExLDEyLDEyLDEzLDEzLDAsMF0pLENpPW5ldyBraShbMTYsMTcsMTgsMCw4LDcsOSw2LDEwLDUsMTEsNCwxMiwzLDEzLDIsMTQsMSwxNV0pLEZpPWZ1bmN0aW9uKGUsdCl7Zm9yKHZhciBpPW5ldyBFaSgzMSkscz0wO3M8MzE7KytzKWlbc109dCs9MTw8ZVtzLTFdO3ZhciByPW5ldyB4aShpWzMwXSk7Zm9yKHM9MTtzPDMwOysrcylmb3IodmFyIG49aVtzXTtuPGlbcysxXTsrK24pcltuXT1uLWlbc108PDV8cztyZXR1cm5baSxyXX0sUmk9RmkoSWksMiksVGk9UmlbMF0sJGk9UmlbMV07VGlbMjhdPTI1OCwkaVsyNThdPTI4O2Zvcih2YXIgQWk9RmkoUGksMClbMV0sT2k9bmV3IEVpKDMyNzY4KSxNaT0wO01pPDMyNzY4OysrTWkpe3ZhciBMaT0oNDM2OTAmTWkpPj4+MXwoMjE4NDUmTWkpPDwxO0xpPSg2MTY4MCYoTGk9KDUyNDI4JkxpKT4+PjJ8KDEzMTA3JkxpKTw8MikpPj4+NHwoMzg1NSZMaSk8PDQsT2lbTWldPSgoNjUyODAmTGkpPj4+OHwoMjU1JkxpKTw8OCk+Pj4xfXZhciBEaT1mdW5jdGlvbihlLHQsaSl7Zm9yKHZhciBzPWUubGVuZ3RoLHI9MCxuPW5ldyBFaSh0KTtyPHM7KytyKSsrbltlW3JdLTFdO3ZhciBvLGE9bmV3IEVpKHQpO2ZvcihyPTA7cjx0OysrcilhW3JdPWFbci0xXStuW3ItMV08PDE7aWYoaSl7bz1uZXcgRWkoMTw8dCk7dmFyIGw9MTUtdDtmb3Iocj0wO3I8czsrK3IpaWYoZVtyXSlmb3IodmFyIGM9cjw8NHxlW3JdLHU9dC1lW3JdLGQ9YVtlW3JdLTFdKys8PHUsaD1kfCgxPDx1KS0xO2Q8PWg7KytkKW9bT2lbZF0+Pj5sXT1jfWVsc2UgZm9yKG89bmV3IEVpKHMpLHI9MDtyPHM7KytyKW9bcl09T2lbYVtlW3JdLTFdKytdPj4+MTUtZVtyXTtyZXR1cm4gb30scWk9bmV3IGtpKDI4OCk7Zm9yKE1pPTA7TWk8MTQ0OysrTWkpcWlbTWldPTg7Zm9yKE1pPTE0NDtNaTwyNTY7KytNaSlxaVtNaV09OTtmb3IoTWk9MjU2O01pPDI4MDsrK01pKXFpW01pXT03O2ZvcihNaT0yODA7TWk8Mjg4OysrTWkpcWlbTWldPTg7dmFyIE5pPW5ldyBraSgzMik7Zm9yKE1pPTA7TWk8MzI7KytNaSlOaVtNaV09NTt2YXIgQmk9RGkocWksOSwwKSxIaT1EaShOaSw1LDApLFVpPWZ1bmN0aW9uKGUpe3JldHVybihlLzg+PjApKyg3JmUmJjEpfSx6aT1mdW5jdGlvbihlLHQsaSl7KG51bGw9PWl8fGk+ZS5sZW5ndGgpJiYoaT1lLmxlbmd0aCk7dmFyIHM9bmV3KGUgaW5zdGFuY2VvZiBFaT9FaTplIGluc3RhbmNlb2YgeGk/eGk6a2kpKGktdCk7cmV0dXJuIHMuc2V0KGUuc3ViYXJyYXkodCxpKSksc30samk9ZnVuY3Rpb24oZSx0LGkpe2k8PD03JnQ7dmFyIHM9dC84Pj4wO2Vbc118PWksZVtzKzFdfD1pPj4+OH0sV2k9ZnVuY3Rpb24oZSx0LGkpe2k8PD03JnQ7dmFyIHM9dC84Pj4wO2Vbc118PWksZVtzKzFdfD1pPj4+OCxlW3MrMl18PWk+Pj4xNn0sVmk9ZnVuY3Rpb24oZSx0KXtmb3IodmFyIGk9W10scz0wO3M8ZS5sZW5ndGg7KytzKWVbc10mJmkucHVzaCh7czpzLGY6ZVtzXX0pO3ZhciByPWkubGVuZ3RoLG49aS5zbGljZSgpO2lmKCFyKXJldHVybltuZXcga2koMCksMF07aWYoMT09cil7dmFyIG89bmV3IGtpKGlbMF0ucysxKTtyZXR1cm4gb1tpWzBdLnNdPTEsW28sMV19aS5zb3J0KChmdW5jdGlvbihlLHQpe3JldHVybiBlLmYtdC5mfSkpLGkucHVzaCh7czotMSxmOjI1MDAxfSk7dmFyIGE9aVswXSxsPWlbMV0sYz0wLHU9MSxkPTI7Zm9yKGlbMF09e3M6LTEsZjphLmYrbC5mLGw6YSxyOmx9O3UhPXItMTspYT1pW2lbY10uZjxpW2RdLmY/YysrOmQrK10sbD1pW2MhPXUmJmlbY10uZjxpW2RdLmY/YysrOmQrK10saVt1KytdPXtzOi0xLGY6YS5mK2wuZixsOmEscjpsfTt2YXIgaD1uWzBdLnM7Zm9yKHM9MTtzPHI7KytzKW5bc10ucz5oJiYoaD1uW3NdLnMpO3ZhciBfPW5ldyBFaShoKzEpLHA9R2koaVt1LTFdLF8sMCk7aWYocD50KXtzPTA7dmFyIGc9MCx2PXAtdCxmPTE8PHY7Zm9yKG4uc29ydCgoZnVuY3Rpb24oZSx0KXtyZXR1cm4gX1t0LnNdLV9bZS5zXXx8ZS5mLXQuZn0pKTtzPHI7KytzKXt2YXIgbT1uW3NdLnM7aWYoIShfW21dPnQpKWJyZWFrO2crPWYtKDE8PHAtX1ttXSksX1ttXT10fWZvcihnPj4+PXY7Zz4wOyl7dmFyIHk9bltzXS5zO19beV08dD9nLT0xPDx0LV9beV0rKy0xOisrc31mb3IoO3M+PTAmJmc7LS1zKXt2YXIgYj1uW3NdLnM7X1tiXT09dCYmKC0tX1tiXSwrK2cpfXA9dH1yZXR1cm5bbmV3IGtpKF8pLHBdfSxHaT1mdW5jdGlvbihlLHQsaSl7cmV0dXJuLTE9PWUucz9NYXRoLm1heChHaShlLmwsdCxpKzEpLEdpKGUucix0LGkrMSkpOnRbZS5zXT1pfSxKaT1mdW5jdGlvbihlKXtmb3IodmFyIHQ9ZS5sZW5ndGg7dCYmIWVbLS10XTspO2Zvcih2YXIgaT1uZXcgRWkoKyt0KSxzPTAscj1lWzBdLG49MSxvPWZ1bmN0aW9uKGUpe2lbcysrXT1lfSxhPTE7YTw9dDsrK2EpaWYoZVthXT09ciYmYSE9dCkrK247ZWxzZXtpZighciYmbj4yKXtmb3IoO24+MTM4O24tPTEzOClvKDMyNzU0KTtuPjImJihvKG4+MTA/bi0xMTw8NXwyODY5MDpuLTM8PDV8MTIzMDUpLG49MCl9ZWxzZSBpZihuPjMpe2ZvcihvKHIpLC0tbjtuPjY7bi09NilvKDgzMDQpO24+MiYmKG8obi0zPDw1fDgyMDgpLG49MCl9Zm9yKDtuLS07KW8ocik7bj0xLHI9ZVthXX1yZXR1cm5baS5zdWJhcnJheSgwLHMpLHRdfSxZaT1mdW5jdGlvbihlLHQpe2Zvcih2YXIgaT0wLHM9MDtzPHQubGVuZ3RoOysrcylpKz1lW3NdKnRbc107cmV0dXJuIGl9LEtpPWZ1bmN0aW9uKGUsdCxpKXt2YXIgcz1pLmxlbmd0aCxyPVVpKHQrMik7ZVtyXT0yNTUmcyxlW3IrMV09cz4+PjgsZVtyKzJdPTI1NV5lW3JdLGVbciszXT0yNTVeZVtyKzFdO2Zvcih2YXIgbj0wO248czsrK24pZVtyK24rNF09aVtuXTtyZXR1cm4gOCoocis0K3MpfSxYaT1mdW5jdGlvbihlLHQsaSxzLHIsbixvLGEsbCxjLHUpe2ppKHQsdSsrLGkpLCsrclsyNTZdO2Zvcih2YXIgZD1WaShyLDE1KSxoPWRbMF0sXz1kWzFdLHA9VmkobiwxNSksZz1wWzBdLHY9cFsxXSxmPUppKGgpLG09ZlswXSx5PWZbMV0sYj1KaShnKSx3PWJbMF0sUz1iWzFdLGs9bmV3IEVpKDE5KSxFPTA7RTxtLmxlbmd0aDsrK0Upa1szMSZtW0VdXSsrO2ZvcihFPTA7RTx3Lmxlbmd0aDsrK0Upa1szMSZ3W0VdXSsrO2Zvcih2YXIgeD1WaShrLDcpLEk9eFswXSxQPXhbMV0sQz0xOTtDPjQmJiFJW0NpW0MtMV1dOy0tQyk7dmFyIEYsUixULCQsQT1jKzU8PDMsTz1ZaShyLHFpKStZaShuLE5pKStvLE09WWkocixoKStZaShuLGcpK28rMTQrMypDK1lpKGssSSkrKDIqa1sxNl0rMyprWzE3XSs3KmtbMThdKTtpZihBPD1PJiZBPD1NKXJldHVybiBLaSh0LHUsZS5zdWJhcnJheShsLGwrYykpO2lmKGppKHQsdSwxKyhNPE8pKSx1Kz0yLE08Tyl7Rj1EaShoLF8sMCksUj1oLFQ9RGkoZyx2LDApLCQ9Zzt2YXIgTD1EaShJLFAsMCk7amkodCx1LHktMjU3KSxqaSh0LHUrNSxTLTEpLGppKHQsdSsxMCxDLTQpLHUrPTE0O2ZvcihFPTA7RTxDOysrRSlqaSh0LHUrMypFLElbQ2lbRV1dKTt1Kz0zKkM7Zm9yKHZhciBEPVttLHddLHE9MDtxPDI7KytxKXt2YXIgTj1EW3FdO2ZvcihFPTA7RTxOLmxlbmd0aDsrK0Upe3ZhciBCPTMxJk5bRV07amkodCx1LExbQl0pLHUrPUlbQl0sQj4xNSYmKGppKHQsdSxOW0VdPj4+NSYxMjcpLHUrPU5bRV0+Pj4xMil9fX1lbHNlIEY9QmksUj1xaSxUPUhpLCQ9Tmk7Zm9yKEU9MDtFPGE7KytFKWlmKHNbRV0+MjU1KXtCPXNbRV0+Pj4xOCYzMTtXaSh0LHUsRltCKzI1N10pLHUrPVJbQisyNTddLEI+NyYmKGppKHQsdSxzW0VdPj4+MjMmMzEpLHUrPUlpW0JdKTt2YXIgSD0zMSZzW0VdO1dpKHQsdSxUW0hdKSx1Kz0kW0hdLEg+MyYmKFdpKHQsdSxzW0VdPj4+NSY4MTkxKSx1Kz1QaVtIXSl9ZWxzZSBXaSh0LHUsRltzW0VdXSksdSs9UltzW0VdXTtyZXR1cm4gV2kodCx1LEZbMjU2XSksdStSWzI1Nl19LFFpPW5ldyB4aShbNjU1NDAsMTMxMDgwLDEzMTA4OCwxMzExMDQsMjYyMTc2LDEwNDg3MDQsMTA0ODgzMiwyMTE0NTYwLDIxMTc2MzJdKSxaaT1mdW5jdGlvbigpe2Zvcih2YXIgZT1uZXcgeGkoMjU2KSx0PTA7dDwyNTY7Kyt0KXtmb3IodmFyIGk9dCxzPTk7LS1zOylpPSgxJmkmJjM5ODgyOTIzODQpXmk+Pj4xO2VbdF09aX1yZXR1cm4gZX0oKSxlcz1mdW5jdGlvbigpe3ZhciBlPTQyOTQ5NjcyOTU7cmV0dXJue3A6ZnVuY3Rpb24odCl7Zm9yKHZhciBpPWUscz0wO3M8dC5sZW5ndGg7KytzKWk9WmlbMjU1JmledFtzXV1eaT4+Pjg7ZT1pfSxkOmZ1bmN0aW9uKCl7cmV0dXJuIDQyOTQ5NjcyOTVeZX19fSx0cz1mdW5jdGlvbihlLHQsaSxzLHIpe3JldHVybiBmdW5jdGlvbihlLHQsaSxzLHIsbil7dmFyIG89ZS5sZW5ndGgsYT1uZXcga2kocytvKzUqKDErTWF0aC5mbG9vcihvLzdlMykpK3IpLGw9YS5zdWJhcnJheShzLGEubGVuZ3RoLXIpLGM9MDtpZighdHx8bzw4KWZvcih2YXIgdT0wO3U8PW87dSs9NjU1MzUpe3ZhciBkPXUrNjU1MzU7ZDxvP2M9S2kobCxjLGUuc3ViYXJyYXkodSxkKSk6KGxbdV09bixjPUtpKGwsYyxlLnN1YmFycmF5KHUsbykpKX1lbHNle2Zvcih2YXIgaD1RaVt0LTFdLF89aD4+PjEzLHA9ODE5MSZoLGc9KDE8PGkpLTEsdj1uZXcgRWkoMzI3NjgpLGY9bmV3IEVpKGcrMSksbT1NYXRoLmNlaWwoaS8zKSx5PTIqbSxiPWZ1bmN0aW9uKHQpe3JldHVybihlW3RdXmVbdCsxXTw8bV5lW3QrMl08PHkpJmd9LHc9bmV3IHhpKDI1ZTMpLFM9bmV3IEVpKDI4OCksaz1uZXcgRWkoMzIpLEU9MCx4PTAsST0odT0wLDApLFA9MCxDPTA7dTxvOysrdSl7dmFyIEY9Yih1KSxSPTMyNzY3JnUsVD1mW0ZdO2lmKHZbUl09VCxmW0ZdPVIsUDw9dSl7dmFyICQ9by11O2lmKChFPjdlM3x8ST4yNDU3NikmJiQ+NDIzKXtjPVhpKGUsbCwwLHcsUyxrLHgsSSxDLHUtQyxjKSxJPUU9eD0wLEM9dTtmb3IodmFyIEE9MDtBPDI4NjsrK0EpU1tBXT0wO2ZvcihBPTA7QTwzMDsrK0Epa1tBXT0wfXZhciBPPTIsTT0wLEw9cCxEPVItVCYzMjc2NztpZigkPjImJkY9PWIodS1EKSlmb3IodmFyIHE9TWF0aC5taW4oXywkKS0xLE49TWF0aC5taW4oMzI3NjcsdSksQj1NYXRoLm1pbigyNTgsJCk7RDw9TiYmLS1MJiZSIT1UOyl7aWYoZVt1K09dPT1lW3UrTy1EXSl7Zm9yKHZhciBIPTA7SDxCJiZlW3UrSF09PWVbdStILURdOysrSCk7aWYoSD5PKXtpZihPPUgsTT1ELEg+cSlicmVhazt2YXIgVT1NYXRoLm1pbihELEgtMiksej0wO2ZvcihBPTA7QTxVOysrQSl7dmFyIGo9dS1EK0ErMzI3NjgmMzI3NjcsVz1qLXZbal0rMzI3NjgmMzI3Njc7Vz56JiYoej1XLFQ9ail9fX1EKz0oUj1UKS0oVD12W1JdKSszMjc2OCYzMjc2N31pZihNKXt3W0krK109MjY4NDM1NDU2fCRpW09dPDwxOHxBaVtNXTt2YXIgVj0zMSYkaVtPXSxHPTMxJkFpW01dO3grPUlpW1ZdK1BpW0ddLCsrU1syNTcrVl0sKytrW0ddLFA9dStPLCsrRX1lbHNlIHdbSSsrXT1lW3VdLCsrU1tlW3VdXX19Yz1YaShlLGwsbix3LFMsayx4LEksQyx1LUMsYyl9cmV0dXJuIHppKGEsMCxzK1VpKGMpK3IpfShlLG51bGw9PXQubGV2ZWw/Njp0LmxldmVsLG51bGw9PXQubWVtP01hdGguY2VpbCgxLjUqTWF0aC5tYXgoOCxNYXRoLm1pbigxMyxNYXRoLmxvZyhlLmxlbmd0aCkpKSk6MTIrdC5tZW0saSxzLCFyKX0saXM9ZnVuY3Rpb24oZSx0LGkpe2Zvcig7aTsrK3QpZVt0XT1pLGk+Pj49OH0sc3M9ZnVuY3Rpb24oZSx0KXt2YXIgaT10LmZpbGVuYW1lO2lmKGVbMF09MzEsZVsxXT0xMzksZVsyXT04LGVbOF09dC5sZXZlbDwyPzQ6OT09dC5sZXZlbD8yOjAsZVs5XT0zLDAhPXQubXRpbWUmJmlzKGUsNCxNYXRoLmZsb29yKG5ldyBEYXRlKHQubXRpbWV8fERhdGUubm93KCkpLzFlMykpLGkpe2VbM109ODtmb3IodmFyIHM9MDtzPD1pLmxlbmd0aDsrK3MpZVtzKzEwXT1pLmNoYXJDb2RlQXQocyl9fSxycz1mdW5jdGlvbihlKXtyZXR1cm4gMTArKGUuZmlsZW5hbWUmJmUuZmlsZW5hbWUubGVuZ3RoKzF8fDApfTtmdW5jdGlvbiBucyhlLHQpe3ZvaWQgMD09PXQmJih0PXt9KTt2YXIgaT1lcygpLHM9ZS5sZW5ndGg7aS5wKGUpO3ZhciByPXRzKGUsdCxycyh0KSw4KSxuPXIubGVuZ3RoO3JldHVybiBzcyhyLHQpLGlzKHIsbi04LGkuZCgpKSxpcyhyLG4tNCxzKSxyfWZ1bmN0aW9uIG9zKGUsdCl7dmFyIGk9ZS5sZW5ndGg7aWYoXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFRleHRFbmNvZGVyKXJldHVybihuZXcgVGV4dEVuY29kZXIpLmVuY29kZShlKTtmb3IodmFyIHM9bmV3IGtpKGUubGVuZ3RoKyhlLmxlbmd0aD4+PjEpKSxyPTAsbj1mdW5jdGlvbihlKXtzW3IrK109ZX0sbz0wO288aTsrK28pe2lmKHIrNT5zLmxlbmd0aCl7dmFyIGE9bmV3IGtpKHIrOCsoaS1vPDwxKSk7YS5zZXQocykscz1hfXZhciBsPWUuY2hhckNvZGVBdChvKTtsPDEyOHx8dD9uKGwpOmw8MjA0OD8obigxOTJ8bD4+PjYpLG4oMTI4fDYzJmwpKTpsPjU1Mjk1JiZsPDU3MzQ0PyhuKDI0MHwobD02NTUzNisoMTA0NzU1MiZsKXwxMDIzJmUuY2hhckNvZGVBdCgrK28pKT4+PjE4KSxuKDEyOHxsPj4+MTImNjMpLG4oMTI4fGw+Pj42JjYzKSxuKDEyOHw2MyZsKSk6KG4oMjI0fGw+Pj4xMiksbigxMjh8bD4+PjYmNjMpLG4oMTI4fDYzJmwpKX1yZXR1cm4gemkocywwLHIpfWZ1bmN0aW9uIGFzKGUsdCl7cmV0dXJuIGZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wLGk9MDtpPGUubGVuZ3RoO2krKyl0PSh0PDw1KS10K2UuY2hhckNvZGVBdChpKSx0fD0wO3JldHVybiBNYXRoLmFicyh0KX0oZSklMTAwPHdpKDEwMCp0LDAsMTAwKX12YXIgbHM9XCJbU2Vzc2lvblJlY29yZGluZ11cIixjcz1IKGxzKSx1cz0zZTUsZHM9W2RpLk1vdXNlTW92ZSxkaS5Nb3VzZUludGVyYWN0aW9uLGRpLlNjcm9sbCxkaS5WaWV3cG9ydFJlc2l6ZSxkaS5JbnB1dCxkaS5Ub3VjaE1vdmUsZGkuTWVkaWFJbnRlcmFjdGlvbixkaS5EcmFnXSxocz1lPT4oe3Jyd2ViTWV0aG9kOmUsZW5xdWV1ZWRBdDpEYXRlLm5vdygpLGF0dGVtcHQ6MX0pO2Z1bmN0aW9uIF9zKGUpe3JldHVybiBmdW5jdGlvbihlLHQpe2Zvcih2YXIgaT1cIlwiLHM9MDtzPGUubGVuZ3RoOyl7dmFyIHI9ZVtzKytdO3I8MTI4fHx0P2krPVN0cmluZy5mcm9tQ2hhckNvZGUocik6cjwyMjQ/aSs9U3RyaW5nLmZyb21DaGFyQ29kZSgoMzEmcik8PDZ8NjMmZVtzKytdKTpyPDI0MD9pKz1TdHJpbmcuZnJvbUNoYXJDb2RlKCgxNSZyKTw8MTJ8KDYzJmVbcysrXSk8PDZ8NjMmZVtzKytdKToocj0oKDE1JnIpPDwxOHwoNjMmZVtzKytdKTw8MTJ8KDYzJmVbcysrXSk8PDZ8NjMmZVtzKytdKS02NTUzNixpKz1TdHJpbmcuZnJvbUNoYXJDb2RlKDU1Mjk2fHI+PjEwLDU2MzIwfDEwMjMmcikpfXJldHVybiBpfShucyhvcyhKU09OLnN0cmluZ2lmeShlKSkpLCEwKX1mdW5jdGlvbiBwcyhlKXtyZXR1cm4gZS50eXBlPT09dWkuQ3VzdG9tJiZcInNlc3Npb25JZGxlXCI9PT1lLmRhdGEudGFnfWZ1bmN0aW9uIGdzKGUsdCl7cmV0dXJuIHQuc29tZSgodD0+XCJyZWdleFwiPT09dC5tYXRjaGluZyYmbmV3IFJlZ0V4cCh0LnVybCkudGVzdChlKSkpfWNsYXNzIHZze2dldCBzZXNzaW9uSWRsZVRocmVzaG9sZE1pbGxpc2Vjb25kcygpe3JldHVybiB0aGlzLmluc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZy5zZXNzaW9uX2lkbGVfdGhyZXNob2xkX21zfHwzZTV9Z2V0IHJyd2ViUmVjb3JkKCl7dmFyIGUsdDtyZXR1cm4gbnVsbD09X3x8bnVsbD09PShlPV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09ZXx8bnVsbD09PSh0PWUucnJ3ZWIpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnJlY29yZH1nZXQgc3RhcnRlZCgpe3JldHVybiB0aGlzLl9jYXB0dXJlU3RhcnRlZH1nZXQgc2Vzc2lvbk1hbmFnZXIoKXtpZighdGhpcy5pbnN0YW5jZS5zZXNzaW9uTWFuYWdlcil0aHJvdyBuZXcgRXJyb3IobHMrXCIgbXVzdCBiZSBzdGFydGVkIHdpdGggYSB2YWxpZCBzZXNzaW9uTWFuYWdlci5cIik7cmV0dXJuIHRoaXMuaW5zdGFuY2Uuc2Vzc2lvbk1hbmFnZXJ9Z2V0IGZ1bGxTbmFwc2hvdEludGVydmFsTWlsbGlzKCl7dmFyIGUsdDtyZXR1cm5cInRyaWdnZXJfcGVuZGluZ1wiPT09dGhpcy50cmlnZ2VyU3RhdHVzPzZlNDpudWxsIT09KGU9bnVsbD09PSh0PXRoaXMuaW5zdGFuY2UuY29uZmlnLnNlc3Npb25fcmVjb3JkaW5nKXx8dm9pZCAwPT09dD92b2lkIDA6dC5mdWxsX3NuYXBzaG90X2ludGVydmFsX21pbGxpcykmJnZvaWQgMCE9PWU/ZTp1c31nZXQgaXNTYW1wbGVkKCl7dmFyIGU9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoSWUpO3JldHVybiBNKGUpP2U6bnVsbH1nZXQgc2Vzc2lvbkR1cmF0aW9uKCl7dmFyIGUsdCxpPW51bGw9PT0oZT10aGlzLmJ1ZmZlcil8fHZvaWQgMD09PWU/dm9pZCAwOmUuZGF0YVsobnVsbD09PSh0PXRoaXMuYnVmZmVyKXx8dm9pZCAwPT09dD92b2lkIDA6dC5kYXRhLmxlbmd0aCktMV0se3Nlc3Npb25TdGFydFRpbWVzdGFtcDpzfT10aGlzLnNlc3Npb25NYW5hZ2VyLmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCEwKTtyZXR1cm4gaT9pLnRpbWVzdGFtcC1zOm51bGx9Z2V0IGlzUmVjb3JkaW5nRW5hYmxlZCgpe3ZhciBlPSEhdGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoZmUpLGk9IXRoaXMuaW5zdGFuY2UuY29uZmlnLmRpc2FibGVfc2Vzc2lvbl9yZWNvcmRpbmc7cmV0dXJuIHQmJmUmJml9Z2V0IGlzQ29uc29sZUxvZ0NhcHR1cmVFbmFibGVkKCl7dmFyIGU9ISF0aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShtZSksdD10aGlzLmluc3RhbmNlLmNvbmZpZy5lbmFibGVfcmVjb3JkaW5nX2NvbnNvbGVfbG9nO3JldHVybiBudWxsIT10P3Q6ZX1nZXQgY2FudmFzUmVjb3JkaW5nKCl7dmFyIGUsdCxpLHMscixuLG89dGhpcy5pbnN0YW5jZS5jb25maWcuc2Vzc2lvbl9yZWNvcmRpbmcuY2FwdHVyZUNhbnZhcyxhPXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KHdlKSxsPW51bGwhPT0oZT1udWxsIT09KHQ9bnVsbD09bz92b2lkIDA6by5yZWNvcmRDYW52YXMpJiZ2b2lkIDAhPT10P3Q6bnVsbD09YT92b2lkIDA6YS5lbmFibGVkKSYmdm9pZCAwIT09ZSYmZSxjPW51bGwhPT0oaT1udWxsIT09KHM9bnVsbD09bz92b2lkIDA6by5jYW52YXNGcHMpJiZ2b2lkIDAhPT1zP3M6bnVsbD09YT92b2lkIDA6YS5mcHMpJiZ2b2lkIDAhPT1pP2k6NCx1PW51bGwhPT0ocj1udWxsIT09KG49bnVsbD09bz92b2lkIDA6by5jYW52YXNRdWFsaXR5KSYmdm9pZCAwIT09bj9uOm51bGw9PWE/dm9pZCAwOmEucXVhbGl0eSkmJnZvaWQgMCE9PXI/cjouNDtpZihcInN0cmluZ1wiPT10eXBlb2YgdSl7dmFyIGQ9cGFyc2VGbG9hdCh1KTt1PWlzTmFOKGQpPy40OmR9cmV0dXJue2VuYWJsZWQ6bCxmcHM6d2koYywwLDEyLFwiY2FudmFzIHJlY29yZGluZyBmcHNcIiw0KSxxdWFsaXR5OndpKHUsMCwxLFwiY2FudmFzIHJlY29yZGluZyBxdWFsaXR5XCIsLjQpfX1nZXQgbmV0d29ya1BheWxvYWRDYXB0dXJlKCl7dmFyIGUsdCxpPXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KHllKSxzPXtyZWNvcmRIZWFkZXJzOm51bGw9PT0oZT10aGlzLmluc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZyl8fHZvaWQgMD09PWU/dm9pZCAwOmUucmVjb3JkSGVhZGVycyxyZWNvcmRCb2R5Om51bGw9PT0odD10aGlzLmluc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQucmVjb3JkQm9keX0scj0obnVsbD09cz92b2lkIDA6cy5yZWNvcmRIZWFkZXJzKXx8KG51bGw9PWk/dm9pZCAwOmkucmVjb3JkSGVhZGVycyksbj0obnVsbD09cz92b2lkIDA6cy5yZWNvcmRCb2R5KXx8KG51bGw9PWk/dm9pZCAwOmkucmVjb3JkQm9keSksbz1QKHRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UpP3RoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UubmV0d29ya190aW1pbmc6dGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZSxhPSEhKE0obyk/bzpudWxsPT1pP3ZvaWQgMDppLmNhcHR1cmVQZXJmb3JtYW5jZSk7cmV0dXJuIHJ8fG58fGE/e3JlY29yZEhlYWRlcnM6cixyZWNvcmRCb2R5Om4scmVjb3JkUGVyZm9ybWFuY2U6YX06dm9pZCAwfWdldCBtYXNraW5nKCl7dmFyIGUsdCxpLHMscixuLG89dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoYmUpLGE9e21hc2tBbGxJbnB1dHM6bnVsbD09PShlPXRoaXMuaW5zdGFuY2UuY29uZmlnLnNlc3Npb25fcmVjb3JkaW5nKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5tYXNrQWxsSW5wdXRzLG1hc2tUZXh0U2VsZWN0b3I6bnVsbD09PSh0PXRoaXMuaW5zdGFuY2UuY29uZmlnLnNlc3Npb25fcmVjb3JkaW5nKXx8dm9pZCAwPT09dD92b2lkIDA6dC5tYXNrVGV4dFNlbGVjdG9yLGJsb2NrU2VsZWN0b3I6bnVsbD09PShpPXRoaXMuaW5zdGFuY2UuY29uZmlnLnNlc3Npb25fcmVjb3JkaW5nKXx8dm9pZCAwPT09aT92b2lkIDA6aS5ibG9ja1NlbGVjdG9yfSxsPW51bGwhPT0ocz1udWxsPT1hP3ZvaWQgMDphLm1hc2tBbGxJbnB1dHMpJiZ2b2lkIDAhPT1zP3M6bnVsbD09bz92b2lkIDA6by5tYXNrQWxsSW5wdXRzLGM9bnVsbCE9PShyPW51bGw9PWE/dm9pZCAwOmEubWFza1RleHRTZWxlY3RvcikmJnZvaWQgMCE9PXI/cjpudWxsPT1vP3ZvaWQgMDpvLm1hc2tUZXh0U2VsZWN0b3IsdT1udWxsIT09KG49bnVsbD09YT92b2lkIDA6YS5ibG9ja1NlbGVjdG9yKSYmdm9pZCAwIT09bj9uOm51bGw9PW8/dm9pZCAwOm8uYmxvY2tTZWxlY3RvcjtyZXR1cm4gRihsKSYmRihjKSYmRih1KT92b2lkIDA6e21hc2tBbGxJbnB1dHM6bnVsbD09bHx8bCxtYXNrVGV4dFNlbGVjdG9yOmMsYmxvY2tTZWxlY3Rvcjp1fX1nZXQgc2FtcGxlUmF0ZSgpe3ZhciBlPXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KFNlKTtyZXR1cm4gTyhlKT9lOm51bGx9Z2V0IG1pbmltdW1EdXJhdGlvbigpe3ZhciBlPXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KGtlKTtyZXR1cm4gTyhlKT9lOm51bGx9Z2V0IHN0YXR1cygpe3JldHVybiB0aGlzLnJlY2VpdmVkRGVjaWRlP3RoaXMuaXNSZWNvcmRpbmdFbmFibGVkPyExPT09dGhpcy5pc1NhbXBsZWQ/XCJkaXNhYmxlZFwiOnRoaXMuX3VybEJsb2NrZWQ/XCJwYXVzZWRcIjpBKHRoaXMuX2xpbmtlZEZsYWcpfHx0aGlzLl9saW5rZWRGbGFnU2Vlbj9cInRyaWdnZXJfcGVuZGluZ1wiPT09dGhpcy50cmlnZ2VyU3RhdHVzP1wiYnVmZmVyaW5nXCI6TSh0aGlzLmlzU2FtcGxlZCk/dGhpcy5pc1NhbXBsZWQ/XCJzYW1wbGVkXCI6XCJkaXNhYmxlZFwiOlwiYWN0aXZlXCI6XCJidWZmZXJpbmdcIjpcImRpc2FibGVkXCI6XCJidWZmZXJpbmdcIn1nZXQgdXJsVHJpZ2dlclN0YXR1cygpe3ZhciBlO3JldHVybiAwPT09dGhpcy5fdXJsVHJpZ2dlcnMubGVuZ3RoP1widHJpZ2dlcl9kaXNhYmxlZFwiOihudWxsPT09KGU9dGhpcy5pbnN0YW5jZSl8fHZvaWQgMD09PWU/dm9pZCAwOmUuZ2V0X3Byb3BlcnR5KFBlKSk9PT10aGlzLnNlc3Npb25JZD9cInRyaWdnZXJfYWN0aXZhdGVkXCI6XCJ0cmlnZ2VyX3BlbmRpbmdcIn1nZXQgZXZlbnRUcmlnZ2VyU3RhdHVzKCl7dmFyIGU7cmV0dXJuIDA9PT10aGlzLl9ldmVudFRyaWdnZXJzLmxlbmd0aD9cInRyaWdnZXJfZGlzYWJsZWRcIjoobnVsbD09PShlPXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLmdldF9wcm9wZXJ0eShDZSkpPT09dGhpcy5zZXNzaW9uSWQ/XCJ0cmlnZ2VyX2FjdGl2YXRlZFwiOlwidHJpZ2dlcl9wZW5kaW5nXCJ9Z2V0IHRyaWdnZXJTdGF0dXMoKXt2YXIgZT1cInRyaWdnZXJfYWN0aXZhdGVkXCI9PT10aGlzLmV2ZW50VHJpZ2dlclN0YXR1c3x8XCJ0cmlnZ2VyX2FjdGl2YXRlZFwiPT09dGhpcy51cmxUcmlnZ2VyU3RhdHVzLHQ9XCJ0cmlnZ2VyX3BlbmRpbmdcIj09PXRoaXMuZXZlbnRUcmlnZ2VyU3RhdHVzfHxcInRyaWdnZXJfcGVuZGluZ1wiPT09dGhpcy51cmxUcmlnZ2VyU3RhdHVzO3JldHVybiBlP1widHJpZ2dlcl9hY3RpdmF0ZWRcIjp0P1widHJpZ2dlcl9wZW5kaW5nXCI6XCJ0cmlnZ2VyX2Rpc2FibGVkXCJ9Y29uc3RydWN0b3IoZSl7aWYoVih0aGlzLFwicXVldWVkUlJXZWJFdmVudHNcIixbXSksVih0aGlzLFwiaXNJZGxlXCIsITEpLFYodGhpcyxcIl9saW5rZWRGbGFnU2VlblwiLCExKSxWKHRoaXMsXCJfbGFzdEFjdGl2aXR5VGltZXN0YW1wXCIsRGF0ZS5ub3coKSksVih0aGlzLFwiX2xpbmtlZEZsYWdcIixudWxsKSxWKHRoaXMsXCJfcmVtb3ZlUGFnZVZpZXdDYXB0dXJlSG9va1wiLHZvaWQgMCksVih0aGlzLFwiX29uU2Vzc2lvbklkTGlzdGVuZXJcIix2b2lkIDApLFYodGhpcyxcIl9wZXJzaXN0RGVjaWRlT25TZXNzaW9uTGlzdGVuZXJcIix2b2lkIDApLFYodGhpcyxcIl9zYW1wbGluZ1Nlc3Npb25MaXN0ZW5lclwiLHZvaWQgMCksVih0aGlzLFwiX3VybFRyaWdnZXJzXCIsW10pLFYodGhpcyxcIl91cmxCbG9ja2xpc3RcIixbXSksVih0aGlzLFwiX3VybEJsb2NrZWRcIiwhMSksVih0aGlzLFwiX2V2ZW50VHJpZ2dlcnNcIixbXSksVih0aGlzLFwiX3JlbW92ZUV2ZW50VHJpZ2dlckNhcHR1cmVIb29rXCIsdm9pZCAwKSxWKHRoaXMsXCJfZm9yY2VBbGxvd0xvY2FsaG9zdE5ldHdvcmtDYXB0dXJlXCIsITEpLFYodGhpcyxcIl9vbkJlZm9yZVVubG9hZFwiLCgoKT0+e3RoaXMuX2ZsdXNoQnVmZmVyKCl9KSksVih0aGlzLFwiX29uT2ZmbGluZVwiLCgoKT0+e3RoaXMuX3RyeUFkZEN1c3RvbUV2ZW50KFwiYnJvd3NlciBvZmZsaW5lXCIse30pfSkpLFYodGhpcyxcIl9vbk9ubGluZVwiLCgoKT0+e3RoaXMuX3RyeUFkZEN1c3RvbUV2ZW50KFwiYnJvd3NlciBvbmxpbmVcIix7fSl9KSksVih0aGlzLFwiX29uVmlzaWJpbGl0eUNoYW5nZVwiLCgoKT0+e2lmKG51bGwhPWEmJmEudmlzaWJpbGl0eVN0YXRlKXt2YXIgZT1cIndpbmRvdyBcIithLnZpc2liaWxpdHlTdGF0ZTt0aGlzLl90cnlBZGRDdXN0b21FdmVudChlLHt9KX19KSksdGhpcy5pbnN0YW5jZT1lLHRoaXMuX2NhcHR1cmVTdGFydGVkPSExLHRoaXMuX2VuZHBvaW50PVwiL3MvXCIsdGhpcy5zdG9wUnJ3ZWI9dm9pZCAwLHRoaXMucmVjZWl2ZWREZWNpZGU9ITEsIXRoaXMuaW5zdGFuY2Uuc2Vzc2lvbk1hbmFnZXIpdGhyb3cgY3MuZXJyb3IoXCJzdGFydGVkIHdpdGhvdXQgdmFsaWQgc2Vzc2lvbk1hbmFnZXJcIiksbmV3IEVycm9yKGxzK1wiIHN0YXJ0ZWQgd2l0aG91dCB2YWxpZCBzZXNzaW9uTWFuYWdlci4gVGhpcyBpcyBhIGJ1Zy5cIik7aWYodGhpcy5pbnN0YW5jZS5jb25maWcuX19wcmV2aWV3X2V4cGVyaW1lbnRhbF9jb29raWVsZXNzX21vZGUpdGhyb3cgbmV3IEVycm9yKGxzK1wiIGNhbm5vdCBiZSB1c2VkIHdpdGggX19wcmV2aWV3X2V4cGVyaW1lbnRhbF9jb29raWVsZXNzX21vZGUuXCIpO3ZhcntzZXNzaW9uSWQ6dCx3aW5kb3dJZDppfT10aGlzLnNlc3Npb25NYW5hZ2VyLmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCk7dGhpcy5zZXNzaW9uSWQ9dCx0aGlzLndpbmRvd0lkPWksdGhpcy5idWZmZXI9dGhpcy5jbGVhckJ1ZmZlcigpLHRoaXMuc2Vzc2lvbklkbGVUaHJlc2hvbGRNaWxsaXNlY29uZHM+PXRoaXMuc2Vzc2lvbk1hbmFnZXIuc2Vzc2lvblRpbWVvdXRNcyYmY3Mud2FybihcInNlc3Npb25faWRsZV90aHJlc2hvbGRfbXMgKFwiLmNvbmNhdCh0aGlzLnNlc3Npb25JZGxlVGhyZXNob2xkTWlsbGlzZWNvbmRzLFwiKSBpcyBncmVhdGVyIHRoYW4gdGhlIHNlc3Npb24gdGltZW91dCAoXCIpLmNvbmNhdCh0aGlzLnNlc3Npb25NYW5hZ2VyLnNlc3Npb25UaW1lb3V0TXMsXCIpLiBTZXNzaW9uIHdpbGwgbmV2ZXIgYmUgZGV0ZWN0ZWQgYXMgaWRsZVwiKSl9c3RhcnRJZkVuYWJsZWRPclN0b3AoZSl7dGhpcy5pc1JlY29yZGluZ0VuYWJsZWQ/KHRoaXMuX3N0YXJ0Q2FwdHVyZShlKSxhZSh0LFwiYmVmb3JldW5sb2FkXCIsdGhpcy5fb25CZWZvcmVVbmxvYWQpLGFlKHQsXCJvZmZsaW5lXCIsdGhpcy5fb25PZmZsaW5lKSxhZSh0LFwib25saW5lXCIsdGhpcy5fb25PbmxpbmUpLGFlKHQsXCJ2aXNpYmlsaXR5Y2hhbmdlXCIsdGhpcy5fb25WaXNpYmlsaXR5Q2hhbmdlKSx0aGlzLl9zZXR1cFNhbXBsaW5nKCksdGhpcy5fYWRkRXZlbnRUcmlnZ2VyTGlzdGVuZXIoKSxBKHRoaXMuX3JlbW92ZVBhZ2VWaWV3Q2FwdHVyZUhvb2spJiYodGhpcy5fcmVtb3ZlUGFnZVZpZXdDYXB0dXJlSG9vaz10aGlzLmluc3RhbmNlLm9uKFwiZXZlbnRDYXB0dXJlZFwiLChlPT57dHJ5e2lmKFwiJHBhZ2V2aWV3XCI9PT1lLmV2ZW50KXt2YXIgdD1udWxsIT1lJiZlLnByb3BlcnRpZXMuJGN1cnJlbnRfdXJsP3RoaXMuX21hc2tVcmwobnVsbD09ZT92b2lkIDA6ZS5wcm9wZXJ0aWVzLiRjdXJyZW50X3VybCk6XCJcIjtpZighdClyZXR1cm47dGhpcy5fdHJ5QWRkQ3VzdG9tRXZlbnQoXCIkcGFnZXZpZXdcIix7aHJlZjp0fSl9fWNhdGNoKGUpe2NzLmVycm9yKFwiQ291bGQgbm90IGFkZCAkcGFnZXZpZXcgdG8gcnJ3ZWIgc2Vzc2lvblwiLGUpfX0pKSksdGhpcy5fb25TZXNzaW9uSWRMaXN0ZW5lcnx8KHRoaXMuX29uU2Vzc2lvbklkTGlzdGVuZXI9dGhpcy5zZXNzaW9uTWFuYWdlci5vblNlc3Npb25JZCgoKGUsdCxpKT0+e3ZhciBzLHIsbixvO2kmJih0aGlzLl90cnlBZGRDdXN0b21FdmVudChcIiRzZXNzaW9uX2lkX2NoYW5nZVwiLHtzZXNzaW9uSWQ6ZSx3aW5kb3dJZDp0LGNoYW5nZVJlYXNvbjppfSksbnVsbD09PShzPXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT1zfHxudWxsPT09KHI9cy5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PXJ8fHIudW5yZWdpc3RlcihDZSksbnVsbD09PShuPXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT1ufHxudWxsPT09KG89bi5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PW98fG8udW5yZWdpc3RlcihQZSkpfSkpKSk6dGhpcy5zdG9wUmVjb3JkaW5nKCl9c3RvcFJlY29yZGluZygpe3ZhciBlLGkscyxyO3RoaXMuX2NhcHR1cmVTdGFydGVkJiZ0aGlzLnN0b3BScndlYiYmKHRoaXMuc3RvcFJyd2ViKCksdGhpcy5zdG9wUnJ3ZWI9dm9pZCAwLHRoaXMuX2NhcHR1cmVTdGFydGVkPSExLG51bGw9PXR8fHQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJlZm9yZXVubG9hZFwiLHRoaXMuX29uQmVmb3JlVW5sb2FkKSxudWxsPT10fHx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvZmZsaW5lXCIsdGhpcy5fb25PZmZsaW5lKSxudWxsPT10fHx0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJvbmxpbmVcIix0aGlzLl9vbk9ubGluZSksbnVsbD09dHx8dC5yZW1vdmVFdmVudExpc3RlbmVyKFwidmlzaWJpbGl0eWNoYW5nZVwiLHRoaXMuX29uVmlzaWJpbGl0eUNoYW5nZSksdGhpcy5jbGVhckJ1ZmZlcigpLGNsZWFySW50ZXJ2YWwodGhpcy5fZnVsbFNuYXBzaG90VGltZXIpLG51bGw9PT0oZT10aGlzLl9yZW1vdmVQYWdlVmlld0NhcHR1cmVIb29rKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHRoaXMpLHRoaXMuX3JlbW92ZVBhZ2VWaWV3Q2FwdHVyZUhvb2s9dm9pZCAwLG51bGw9PT0oaT10aGlzLl9yZW1vdmVFdmVudFRyaWdnZXJDYXB0dXJlSG9vayl8fHZvaWQgMD09PWl8fGkuY2FsbCh0aGlzKSx0aGlzLl9yZW1vdmVFdmVudFRyaWdnZXJDYXB0dXJlSG9vaz12b2lkIDAsbnVsbD09PShzPXRoaXMuX29uU2Vzc2lvbklkTGlzdGVuZXIpfHx2b2lkIDA9PT1zfHxzLmNhbGwodGhpcyksdGhpcy5fb25TZXNzaW9uSWRMaXN0ZW5lcj12b2lkIDAsbnVsbD09PShyPXRoaXMuX3NhbXBsaW5nU2Vzc2lvbkxpc3RlbmVyKXx8dm9pZCAwPT09cnx8ci5jYWxsKHRoaXMpLHRoaXMuX3NhbXBsaW5nU2Vzc2lvbkxpc3RlbmVyPXZvaWQgMCxjcy5pbmZvKFwic3RvcHBlZFwiKSl9bWFrZVNhbXBsaW5nRGVjaXNpb24oZSl7dmFyIHQsaT10aGlzLnNlc3Npb25JZCE9PWUscz10aGlzLnNhbXBsZVJhdGU7aWYoTyhzKSl7dmFyIHI9dGhpcy5pc1NhbXBsZWQsbj1pfHwhTShyKSxvPW4/YXMoZSxzKTpyO24mJihvP3RoaXMuX3JlcG9ydFN0YXJ0ZWQoXCJzYW1wbGVkXCIpOmNzLndhcm4oXCJTYW1wbGUgcmF0ZSAoXCIuY29uY2F0KHMsXCIpIGhhcyBkZXRlcm1pbmVkIHRoYXQgdGhpcyBzZXNzaW9uSWQgKFwiKS5jb25jYXQoZSxcIikgd2lsbCBub3QgYmUgc2VudCB0byB0aGUgc2VydmVyLlwiKSksdGhpcy5fdHJ5QWRkQ3VzdG9tRXZlbnQoXCJzYW1wbGluZ0RlY2lzaW9uTWFkZVwiLHtzYW1wbGVSYXRlOnMsaXNTYW1wbGVkOm99KSksbnVsbD09PSh0PXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10fHx0LnJlZ2lzdGVyKHtbSWVdOm99KX1lbHNle3ZhciBhO251bGw9PT0oYT10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09YXx8YS5yZWdpc3Rlcih7W0llXTpudWxsfSl9fW9uUmVtb3RlQ29uZmlnKGUpe3ZhciB0LGkscyxyLG4sbzsodGhpcy5fdHJ5QWRkQ3VzdG9tRXZlbnQoXCIkcmVtb3RlX2NvbmZpZ19yZWNlaXZlZFwiLGUpLHRoaXMuX3BlcnNpc3RSZW1vdGVDb25maWcoZSksdGhpcy5fbGlua2VkRmxhZz0obnVsbD09PSh0PWUuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQubGlua2VkRmxhZyl8fG51bGwsbnVsbCE9PShpPWUuc2Vzc2lvblJlY29yZGluZykmJnZvaWQgMCE9PWkmJmkuZW5kcG9pbnQpJiYodGhpcy5fZW5kcG9pbnQ9bnVsbD09PShvPWUuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PW8/dm9pZCAwOm8uZW5kcG9pbnQpO2lmKHRoaXMuX3NldHVwU2FtcGxpbmcoKSwhQSh0aGlzLl9saW5rZWRGbGFnKSYmIXRoaXMuX2xpbmtlZEZsYWdTZWVuKXt2YXIgYT1SKHRoaXMuX2xpbmtlZEZsYWcpP3RoaXMuX2xpbmtlZEZsYWc6dGhpcy5fbGlua2VkRmxhZy5mbGFnLGw9Uih0aGlzLl9saW5rZWRGbGFnKT9udWxsOnRoaXMuX2xpbmtlZEZsYWcudmFyaWFudDt0aGlzLmluc3RhbmNlLm9uRmVhdHVyZUZsYWdzKCgoZSx0KT0+e3ZhciBpPVAodCkmJmEgaW4gdCxzPWw/dFthXT09PWw6aTtzJiZ0aGlzLl9yZXBvcnRTdGFydGVkKFwibGlua2VkX2ZsYWdfbWF0Y2hlZFwiLHtsaW5rZWRGbGFnOmEsbGlua2VkVmFyaWFudDpsfSksdGhpcy5fbGlua2VkRmxhZ1NlZW49c30pKX1udWxsIT09KHM9ZS5zZXNzaW9uUmVjb3JkaW5nKSYmdm9pZCAwIT09cyYmcy51cmxUcmlnZ2VycyYmKHRoaXMuX3VybFRyaWdnZXJzPWUuc2Vzc2lvblJlY29yZGluZy51cmxUcmlnZ2VycyksbnVsbCE9PShyPWUuc2Vzc2lvblJlY29yZGluZykmJnZvaWQgMCE9PXImJnIudXJsQmxvY2tsaXN0JiYodGhpcy5fdXJsQmxvY2tsaXN0PWUuc2Vzc2lvblJlY29yZGluZy51cmxCbG9ja2xpc3QpLG51bGwhPT0obj1lLnNlc3Npb25SZWNvcmRpbmcpJiZ2b2lkIDAhPT1uJiZuLmV2ZW50VHJpZ2dlcnMmJih0aGlzLl9ldmVudFRyaWdnZXJzPWUuc2Vzc2lvblJlY29yZGluZy5ldmVudFRyaWdnZXJzKSx0aGlzLnJlY2VpdmVkRGVjaWRlPSEwLHRoaXMuc3RhcnRJZkVuYWJsZWRPclN0b3AoKX1fc2V0dXBTYW1wbGluZygpe08odGhpcy5zYW1wbGVSYXRlKSYmQSh0aGlzLl9zYW1wbGluZ1Nlc3Npb25MaXN0ZW5lcikmJih0aGlzLl9zYW1wbGluZ1Nlc3Npb25MaXN0ZW5lcj10aGlzLnNlc3Npb25NYW5hZ2VyLm9uU2Vzc2lvbklkKChlPT57dGhpcy5tYWtlU2FtcGxpbmdEZWNpc2lvbihlKX0pKSl9X3BlcnNpc3RSZW1vdGVDb25maWcoZSl7aWYodGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSl7dmFyIHQsaT10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLHM9KCk9Pnt2YXIgdCxzLHIsbixvLGEsbCxjLHUsZD1udWxsPT09KHQ9ZS5zZXNzaW9uUmVjb3JkaW5nKXx8dm9pZCAwPT09dD92b2lkIDA6dC5zYW1wbGVSYXRlLGg9QShkKT9udWxsOnBhcnNlRmxvYXQoZCksXz1udWxsPT09KHM9ZS5zZXNzaW9uUmVjb3JkaW5nKXx8dm9pZCAwPT09cz92b2lkIDA6cy5taW5pbXVtRHVyYXRpb25NaWxsaXNlY29uZHM7aS5yZWdpc3Rlcih7W2ZlXTohIWUuc2Vzc2lvblJlY29yZGluZyxbbWVdOm51bGw9PT0ocj1lLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmNvbnNvbGVMb2dSZWNvcmRpbmdFbmFibGVkLFt5ZV06Vyh7Y2FwdHVyZVBlcmZvcm1hbmNlOmUuY2FwdHVyZVBlcmZvcm1hbmNlfSxudWxsPT09KG49ZS5zZXNzaW9uUmVjb3JkaW5nKXx8dm9pZCAwPT09bj92b2lkIDA6bi5uZXR3b3JrUGF5bG9hZENhcHR1cmUpLFtiZV06bnVsbD09PShvPWUuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PW8/dm9pZCAwOm8ubWFza2luZyxbd2VdOntlbmFibGVkOm51bGw9PT0oYT1lLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLnJlY29yZENhbnZhcyxmcHM6bnVsbD09PShsPWUuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PWw/dm9pZCAwOmwuY2FudmFzRnBzLHF1YWxpdHk6bnVsbD09PShjPWUuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PWM/dm9pZCAwOmMuY2FudmFzUXVhbGl0eX0sW1NlXTpoLFtrZV06RihfKT9udWxsOl8sW0VlXTpudWxsPT09KHU9ZS5zZXNzaW9uUmVjb3JkaW5nKXx8dm9pZCAwPT09dT92b2lkIDA6dS5zY3JpcHRDb25maWd9KX07cygpLG51bGw9PT0odD10aGlzLl9wZXJzaXN0RGVjaWRlT25TZXNzaW9uTGlzdGVuZXIpfHx2b2lkIDA9PT10fHx0LmNhbGwodGhpcyksdGhpcy5fcGVyc2lzdERlY2lkZU9uU2Vzc2lvbkxpc3RlbmVyPXRoaXMuc2Vzc2lvbk1hbmFnZXIub25TZXNzaW9uSWQocyl9fWxvZyhlKXt2YXIgdCxpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcImxvZ1wiO251bGw9PT0odD10aGlzLmluc3RhbmNlLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT10fHx0Lm9uUlJ3ZWJFbWl0KHt0eXBlOjYsZGF0YTp7cGx1Z2luOlwicnJ3ZWIvY29uc29sZUAxXCIscGF5bG9hZDp7bGV2ZWw6aSx0cmFjZTpbXSxwYXlsb2FkOltKU09OLnN0cmluZ2lmeShlKV19fSx0aW1lc3RhbXA6RGF0ZS5ub3coKX0pfV9zdGFydENhcHR1cmUoZSl7aWYoIUYoT2JqZWN0LmFzc2lnbikmJiFGKEFycmF5LmZyb20pJiYhKHRoaXMuX2NhcHR1cmVTdGFydGVkfHx0aGlzLmluc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3Nlc3Npb25fcmVjb3JkaW5nfHx0aGlzLmluc3RhbmNlLmNvbnNlbnQuaXNPcHRlZE91dCgpKSl7dmFyIHQsaTtpZih0aGlzLl9jYXB0dXJlU3RhcnRlZD0hMCx0aGlzLnNlc3Npb25NYW5hZ2VyLmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCksdGhpcy5ycndlYlJlY29yZCl0aGlzLl9vblNjcmlwdExvYWRlZCgpO2Vsc2UgbnVsbD09PSh0PV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09dHx8bnVsbD09PShpPXQubG9hZEV4dGVybmFsRGVwZW5kZW5jeSl8fHZvaWQgMD09PWl8fGkuY2FsbCh0LHRoaXMuaW5zdGFuY2UsdGhpcy5zY3JpcHROYW1lLChlPT57aWYoZSlyZXR1cm4gY3MuZXJyb3IoXCJjb3VsZCBub3QgbG9hZCByZWNvcmRlclwiLGUpO3RoaXMuX29uU2NyaXB0TG9hZGVkKCl9KSk7Y3MuaW5mbyhcInN0YXJ0aW5nXCIpLFwiYWN0aXZlXCI9PT10aGlzLnN0YXR1cyYmdGhpcy5fcmVwb3J0U3RhcnRlZChlfHxcInJlY29yZGluZ19pbml0aWFsaXplZFwiKX19Z2V0IHNjcmlwdE5hbWUoKXt2YXIgZSx0LGk7cmV0dXJuKG51bGw9PT0oZT10aGlzLmluc3RhbmNlKXx8dm9pZCAwPT09ZXx8bnVsbD09PSh0PWUucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10fHxudWxsPT09KGk9dC5nZXRfcHJvcGVydHkoRWUpKXx8dm9pZCAwPT09aT92b2lkIDA6aS5zY3JpcHQpfHxcInJlY29yZGVyXCJ9aXNJbnRlcmFjdGl2ZUV2ZW50KGUpe3ZhciB0O3JldHVybiAzPT09ZS50eXBlJiYtMSE9PWRzLmluZGV4T2YobnVsbD09PSh0PWUuZGF0YSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuc291cmNlKX1fdXBkYXRlV2luZG93QW5kU2Vzc2lvbklkcyhlKXt2YXIgdD10aGlzLmlzSW50ZXJhY3RpdmVFdmVudChlKTt0fHx0aGlzLmlzSWRsZXx8ZS50aW1lc3RhbXAtdGhpcy5fbGFzdEFjdGl2aXR5VGltZXN0YW1wPnRoaXMuc2Vzc2lvbklkbGVUaHJlc2hvbGRNaWxsaXNlY29uZHMmJih0aGlzLmlzSWRsZT0hMCxjbGVhckludGVydmFsKHRoaXMuX2Z1bGxTbmFwc2hvdFRpbWVyKSx0aGlzLl90cnlBZGRDdXN0b21FdmVudChcInNlc3Npb25JZGxlXCIse2V2ZW50VGltZXN0YW1wOmUudGltZXN0YW1wLGxhc3RBY3Rpdml0eVRpbWVzdGFtcDp0aGlzLl9sYXN0QWN0aXZpdHlUaW1lc3RhbXAsdGhyZXNob2xkOnRoaXMuc2Vzc2lvbklkbGVUaHJlc2hvbGRNaWxsaXNlY29uZHMsYnVmZmVyTGVuZ3RoOnRoaXMuYnVmZmVyLmRhdGEubGVuZ3RoLGJ1ZmZlclNpemU6dGhpcy5idWZmZXIuc2l6ZX0pLHRoaXMuX2ZsdXNoQnVmZmVyKCkpO3ZhciBpPSExO2lmKHQmJih0aGlzLl9sYXN0QWN0aXZpdHlUaW1lc3RhbXA9ZS50aW1lc3RhbXAsdGhpcy5pc0lkbGUmJih0aGlzLmlzSWRsZT0hMSx0aGlzLl90cnlBZGRDdXN0b21FdmVudChcInNlc3Npb25Ob0xvbmdlcklkbGVcIix7cmVhc29uOlwidXNlciBhY3Rpdml0eVwiLHR5cGU6ZS50eXBlfSksaT0hMCkpLCF0aGlzLmlzSWRsZSl7dmFye3dpbmRvd0lkOnMsc2Vzc2lvbklkOnJ9PXRoaXMuc2Vzc2lvbk1hbmFnZXIuY2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQoIXQsZS50aW1lc3RhbXApLG49dGhpcy5zZXNzaW9uSWQhPT1yLG89dGhpcy53aW5kb3dJZCE9PXM7dGhpcy53aW5kb3dJZD1zLHRoaXMuc2Vzc2lvbklkPXIsbnx8bz8odGhpcy5zdG9wUmVjb3JkaW5nKCksdGhpcy5zdGFydElmRW5hYmxlZE9yU3RvcChcInNlc3Npb25faWRfY2hhbmdlZFwiKSk6aSYmdGhpcy5fc2NoZWR1bGVGdWxsU25hcHNob3QoKX19X3RyeVJSV2ViTWV0aG9kKGUpe3RyeXtyZXR1cm4gZS5ycndlYk1ldGhvZCgpLCEwfWNhdGNoKHQpe3JldHVybiB0aGlzLnF1ZXVlZFJSV2ViRXZlbnRzLmxlbmd0aDwxMD90aGlzLnF1ZXVlZFJSV2ViRXZlbnRzLnB1c2goe2VucXVldWVkQXQ6ZS5lbnF1ZXVlZEF0fHxEYXRlLm5vdygpLGF0dGVtcHQ6ZS5hdHRlbXB0KysscnJ3ZWJNZXRob2Q6ZS5ycndlYk1ldGhvZH0pOmNzLndhcm4oXCJjb3VsZCBub3QgZW1pdCBxdWV1ZWQgcnJ3ZWIgZXZlbnQuXCIsdCxlKSwhMX19X3RyeUFkZEN1c3RvbUV2ZW50KGUsdCl7cmV0dXJuIHRoaXMuX3RyeVJSV2ViTWV0aG9kKGhzKCgoKT0+dGhpcy5ycndlYlJlY29yZC5hZGRDdXN0b21FdmVudChlLHQpKSkpfV90cnlUYWtlRnVsbFNuYXBzaG90KCl7cmV0dXJuIHRoaXMuX3RyeVJSV2ViTWV0aG9kKGhzKCgoKT0+dGhpcy5ycndlYlJlY29yZC50YWtlRnVsbFNuYXBzaG90KCkpKSl9X29uU2NyaXB0TG9hZGVkKCl7dmFyIGUsdCxpLHMscj17YmxvY2tDbGFzczpcInBoLW5vLWNhcHR1cmVcIixibG9ja1NlbGVjdG9yOnZvaWQgMCxpZ25vcmVDbGFzczpcInBoLWlnbm9yZS1pbnB1dFwiLG1hc2tUZXh0Q2xhc3M6XCJwaC1tYXNrXCIsbWFza1RleHRTZWxlY3Rvcjp2b2lkIDAsbWFza1RleHRGbjp2b2lkIDAsbWFza0FsbElucHV0czohMCxtYXNrSW5wdXRPcHRpb25zOntwYXNzd29yZDohMH0sbWFza0lucHV0Rm46dm9pZCAwLHNsaW1ET01PcHRpb25zOnt9LGNvbGxlY3RGb250czohMSxpbmxpbmVTdHlsZXNoZWV0OiEwLHJlY29yZENyb3NzT3JpZ2luSWZyYW1lczohMX0sbj10aGlzLmluc3RhbmNlLmNvbmZpZy5zZXNzaW9uX3JlY29yZGluZztmb3IodmFyW28sYV1vZiBPYmplY3QuZW50cmllcyhufHx7fSkpbyBpbiByJiYoXCJtYXNrSW5wdXRPcHRpb25zXCI9PT1vP3IubWFza0lucHV0T3B0aW9ucz1XKHtwYXNzd29yZDohMH0sYSk6cltvXT1hKTsodGhpcy5jYW52YXNSZWNvcmRpbmcmJnRoaXMuY2FudmFzUmVjb3JkaW5nLmVuYWJsZWQmJihyLnJlY29yZENhbnZhcz0hMCxyLnNhbXBsaW5nPXtjYW52YXM6dGhpcy5jYW52YXNSZWNvcmRpbmcuZnBzfSxyLmRhdGFVUkxPcHRpb25zPXt0eXBlOlwiaW1hZ2Uvd2VicFwiLHF1YWxpdHk6dGhpcy5jYW52YXNSZWNvcmRpbmcucXVhbGl0eX0pLHRoaXMubWFza2luZykmJihyLm1hc2tBbGxJbnB1dHM9bnVsbD09PSh0PXRoaXMubWFza2luZy5tYXNrQWxsSW5wdXRzKXx8dm9pZCAwPT09dHx8dCxyLm1hc2tUZXh0U2VsZWN0b3I9bnVsbCE9PShpPXRoaXMubWFza2luZy5tYXNrVGV4dFNlbGVjdG9yKSYmdm9pZCAwIT09aT9pOnZvaWQgMCxyLmJsb2NrU2VsZWN0b3I9bnVsbCE9PShzPXRoaXMubWFza2luZy5ibG9ja1NlbGVjdG9yKSYmdm9pZCAwIT09cz9zOnZvaWQgMCk7aWYodGhpcy5ycndlYlJlY29yZCl7dGhpcy5tdXRhdGlvblJhdGVMaW1pdGVyPW51bGwhPT0oZT10aGlzLm11dGF0aW9uUmF0ZUxpbWl0ZXIpJiZ2b2lkIDAhPT1lP2U6bmV3IFNpKHRoaXMucnJ3ZWJSZWNvcmQse3JlZmlsbFJhdGU6dGhpcy5pbnN0YW5jZS5jb25maWcuc2Vzc2lvbl9yZWNvcmRpbmcuX19tdXRhdGlvblJhdGVMaW1pdGVyUmVmaWxsUmF0ZSxidWNrZXRTaXplOnRoaXMuaW5zdGFuY2UuY29uZmlnLnNlc3Npb25fcmVjb3JkaW5nLl9fbXV0YXRpb25SYXRlTGltaXRlckJ1Y2tldFNpemUsb25CbG9ja2VkTm9kZTooZSx0KT0+e3ZhciBpPVwiVG9vIG1hbnkgbXV0YXRpb25zIG9uIG5vZGUgJ1wiLmNvbmNhdChlLFwiJy4gUmF0ZSBsaW1pdGluZy4gVGhpcyBjb3VsZCBiZSBkdWUgdG8gU1ZHIGFuaW1hdGlvbnMgb3Igc29tZXRoaW5nIHNpbWlsYXJcIik7Y3MuaW5mbyhpLHtub2RlOnR9KSx0aGlzLmxvZyhscytcIiBcIitpLFwid2FyblwiKX19KTt2YXIgbD10aGlzLl9nYXRoZXJSUldlYlBsdWdpbnMoKTt0aGlzLnN0b3BScndlYj10aGlzLnJyd2ViUmVjb3JkKFcoe2VtaXQ6ZT0+e3RoaXMub25SUndlYkVtaXQoZSl9LHBsdWdpbnM6bH0scikpLHRoaXMuX2xhc3RBY3Rpdml0eVRpbWVzdGFtcD1EYXRlLm5vdygpLHRoaXMuaXNJZGxlPSExLHRoaXMuX3RyeUFkZEN1c3RvbUV2ZW50KFwiJHNlc3Npb25fb3B0aW9uc1wiLHtzZXNzaW9uUmVjb3JkaW5nT3B0aW9uczpyLGFjdGl2ZVBsdWdpbnM6bC5tYXAoKGU9Pm51bGw9PWU/dm9pZCAwOmUubmFtZSkpfSksdGhpcy5fdHJ5QWRkQ3VzdG9tRXZlbnQoXCIkcG9zdGhvZ19jb25maWdcIix7Y29uZmlnOnRoaXMuaW5zdGFuY2UuY29uZmlnfSl9ZWxzZSBjcy5lcnJvcihcIm9uU2NyaXB0TG9hZGVkIHdhcyBjYWxsZWQgYnV0IHJyd2ViUmVjb3JkIGlzIG5vdCBhdmFpbGFibGUuIFRoaXMgaW5kaWNhdGVzIHNvbWV0aGluZyBoYXMgZ29uZSB3cm9uZy5cIil9X3NjaGVkdWxlRnVsbFNuYXBzaG90KCl7aWYodGhpcy5fZnVsbFNuYXBzaG90VGltZXImJmNsZWFySW50ZXJ2YWwodGhpcy5fZnVsbFNuYXBzaG90VGltZXIpLCF0aGlzLmlzSWRsZSl7dmFyIGU9dGhpcy5mdWxsU25hcHNob3RJbnRlcnZhbE1pbGxpcztlJiYodGhpcy5fZnVsbFNuYXBzaG90VGltZXI9c2V0SW50ZXJ2YWwoKCgpPT57dGhpcy5fdHJ5VGFrZUZ1bGxTbmFwc2hvdCgpfSksZSkpfX1fZ2F0aGVyUlJXZWJQbHVnaW5zKCl7dmFyIGUsdCxpLHMscj1bXSxuPW51bGw9PT0oZT1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fHZvaWQgMD09PWV8fG51bGw9PT0odD1lLnJyd2ViUGx1Z2lucyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0UmVjb3JkQ29uc29sZVBsdWdpbjtuJiZ0aGlzLmlzQ29uc29sZUxvZ0NhcHR1cmVFbmFibGVkJiZyLnB1c2gobigpKTt2YXIgbz1udWxsPT09KGk9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHx2b2lkIDA9PT1pfHxudWxsPT09KHM9aS5ycndlYlBsdWdpbnMpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLmdldFJlY29yZE5ldHdvcmtQbHVnaW47dGhpcy5uZXR3b3JrUGF5bG9hZENhcHR1cmUmJkkobykmJighd3QuaW5jbHVkZXMobG9jYXRpb24uaG9zdG5hbWUpfHx0aGlzLl9mb3JjZUFsbG93TG9jYWxob3N0TmV0d29ya0NhcHR1cmU/ci5wdXNoKG8oYmkodGhpcy5pbnN0YW5jZS5jb25maWcsdGhpcy5uZXR3b3JrUGF5bG9hZENhcHR1cmUpKSk6Y3MuaW5mbyhcIk5ldHdvcmtDYXB0dXJlIG5vdCBzdGFydGVkIGJlY2F1c2Ugd2UgYXJlIG9uIGxvY2FsaG9zdC5cIikpO3JldHVybiByfW9uUlJ3ZWJFbWl0KGUpe3ZhciB0O2lmKHRoaXMuX3Byb2Nlc3NRdWV1ZWRFdmVudHMoKSxlJiZQKGUpKXtpZihlLnR5cGU9PT11aS5NZXRhKXt2YXIgaT10aGlzLl9tYXNrVXJsKGUuZGF0YS5ocmVmKTtpZih0aGlzLl9sYXN0SHJlZj1pLCFpKXJldHVybjtlLmRhdGEuaHJlZj1pfWVsc2UgdGhpcy5fcGFnZVZpZXdGYWxsQmFjaygpO2lmKHRoaXMuX2NoZWNrVXJsVHJpZ2dlckNvbmRpdGlvbnMoKSwhdGhpcy5fdXJsQmxvY2tlZHx8ZnVuY3Rpb24oZSl7cmV0dXJuIGUudHlwZT09PXVpLkN1c3RvbSYmXCJyZWNvcmRpbmcgcGF1c2VkXCI9PT1lLmRhdGEudGFnfShlKSl7ZS50eXBlPT09dWkuRnVsbFNuYXBzaG90JiZ0aGlzLl9zY2hlZHVsZUZ1bGxTbmFwc2hvdCgpLGUudHlwZT09PXVpLkZ1bGxTbmFwc2hvdCYmXCJ0cmlnZ2VyX3BlbmRpbmdcIj09PXRoaXMudHJpZ2dlclN0YXR1cyYmdGhpcy5jbGVhckJ1ZmZlcigpO3ZhciBzPXRoaXMubXV0YXRpb25SYXRlTGltaXRlcj90aGlzLm11dGF0aW9uUmF0ZUxpbWl0ZXIudGhyb3R0bGVNdXRhdGlvbnMoZSk6ZTtpZihzKXt2YXIgcj1mdW5jdGlvbihlKXt2YXIgdD1lO2lmKHQmJlAodCkmJjY9PT10LnR5cGUmJlAodC5kYXRhKSYmXCJycndlYi9jb25zb2xlQDFcIj09PXQuZGF0YS5wbHVnaW4pe3QuZGF0YS5wYXlsb2FkLnBheWxvYWQubGVuZ3RoPjEwJiYodC5kYXRhLnBheWxvYWQucGF5bG9hZD10LmRhdGEucGF5bG9hZC5wYXlsb2FkLnNsaWNlKDAsMTApLHQuZGF0YS5wYXlsb2FkLnBheWxvYWQucHVzaChcIi4uLlt0cnVuY2F0ZWRdXCIpKTtmb3IodmFyIGk9W10scz0wO3M8dC5kYXRhLnBheWxvYWQucGF5bG9hZC5sZW5ndGg7cysrKXQuZGF0YS5wYXlsb2FkLnBheWxvYWRbc10mJnQuZGF0YS5wYXlsb2FkLnBheWxvYWRbc10ubGVuZ3RoPjJlMz9pLnB1c2godC5kYXRhLnBheWxvYWQucGF5bG9hZFtzXS5zbGljZSgwLDJlMykrXCIuLi5bdHJ1bmNhdGVkXVwiKTppLnB1c2godC5kYXRhLnBheWxvYWQucGF5bG9hZFtzXSk7cmV0dXJuIHQuZGF0YS5wYXlsb2FkLnBheWxvYWQ9aSxlfXJldHVybiBlfShzKTtpZih0aGlzLl91cGRhdGVXaW5kb3dBbmRTZXNzaW9uSWRzKHIpLCF0aGlzLmlzSWRsZXx8cHMocikpe2lmKHBzKHIpKXt2YXIgbj1yLmRhdGEucGF5bG9hZDtpZihuKXt2YXIgbz1uLmxhc3RBY3Rpdml0eVRpbWVzdGFtcCxhPW4udGhyZXNob2xkO3IudGltZXN0YW1wPW8rYX19dmFyIGw9bnVsbD09PSh0PXRoaXMuaW5zdGFuY2UuY29uZmlnLnNlc3Npb25fcmVjb3JkaW5nLmNvbXByZXNzX2V2ZW50cyl8fHZvaWQgMD09PXR8fHQ/ZnVuY3Rpb24oZSl7aWYobGkoZSk8MTAyNClyZXR1cm4gZTt0cnl7aWYoZS50eXBlPT09dWkuRnVsbFNuYXBzaG90KXJldHVybiBXKFcoe30sZSkse30se2RhdGE6X3MoZS5kYXRhKSxjdjpcIjIwMjQtMTBcIn0pO2lmKGUudHlwZT09PXVpLkluY3JlbWVudGFsU25hcHNob3QmJmUuZGF0YS5zb3VyY2U9PT1kaS5NdXRhdGlvbilyZXR1cm4gVyhXKHt9LGUpLHt9LHtjdjpcIjIwMjQtMTBcIixkYXRhOlcoVyh7fSxlLmRhdGEpLHt9LHt0ZXh0czpfcyhlLmRhdGEudGV4dHMpLGF0dHJpYnV0ZXM6X3MoZS5kYXRhLmF0dHJpYnV0ZXMpLHJlbW92ZXM6X3MoZS5kYXRhLnJlbW92ZXMpLGFkZHM6X3MoZS5kYXRhLmFkZHMpfSl9KTtpZihlLnR5cGU9PT11aS5JbmNyZW1lbnRhbFNuYXBzaG90JiZlLmRhdGEuc291cmNlPT09ZGkuU3R5bGVTaGVldFJ1bGUpcmV0dXJuIFcoVyh7fSxlKSx7fSx7Y3Y6XCIyMDI0LTEwXCIsZGF0YTpXKFcoe30sZS5kYXRhKSx7fSx7YWRkczplLmRhdGEuYWRkcz9fcyhlLmRhdGEuYWRkcyk6dm9pZCAwLHJlbW92ZXM6ZS5kYXRhLnJlbW92ZXM/X3MoZS5kYXRhLnJlbW92ZXMpOnZvaWQgMH0pfSl9Y2F0Y2goZSl7Y3MuZXJyb3IoXCJjb3VsZCBub3QgY29tcHJlc3MgZXZlbnQgLSB3aWxsIHVzZSB1bmNvbXByZXNzZWQgZXZlbnRcIixlKX1yZXR1cm4gZX0ocik6cixjPXskc25hcHNob3RfYnl0ZXM6bGkobCksJHNuYXBzaG90X2RhdGE6bCwkc2Vzc2lvbl9pZDp0aGlzLnNlc3Npb25JZCwkd2luZG93X2lkOnRoaXMud2luZG93SWR9O1wiZGlzYWJsZWRcIiE9PXRoaXMuc3RhdHVzP3RoaXMuX2NhcHR1cmVTbmFwc2hvdEJ1ZmZlcmVkKGMpOnRoaXMuY2xlYXJCdWZmZXIoKX19fX19X3BhZ2VWaWV3RmFsbEJhY2soKXtpZighdGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wYWdldmlldyYmdCl7dmFyIGU9dGhpcy5fbWFza1VybCh0LmxvY2F0aW9uLmhyZWYpO3RoaXMuX2xhc3RIcmVmIT09ZSYmKHRoaXMuX3RyeUFkZEN1c3RvbUV2ZW50KFwiJHVybF9jaGFuZ2VkXCIse2hyZWY6ZX0pLHRoaXMuX2xhc3RIcmVmPWUpfX1fcHJvY2Vzc1F1ZXVlZEV2ZW50cygpe2lmKHRoaXMucXVldWVkUlJXZWJFdmVudHMubGVuZ3RoKXt2YXIgZT1bLi4udGhpcy5xdWV1ZWRSUldlYkV2ZW50c107dGhpcy5xdWV1ZWRSUldlYkV2ZW50cz1bXSxlLmZvckVhY2goKGU9PntEYXRlLm5vdygpLWUuZW5xdWV1ZWRBdDw9MmUzJiZ0aGlzLl90cnlSUldlYk1ldGhvZChlKX0pKX19X21hc2tVcmwoZSl7dmFyIHQ9dGhpcy5pbnN0YW5jZS5jb25maWcuc2Vzc2lvbl9yZWNvcmRpbmc7aWYodC5tYXNrTmV0d29ya1JlcXVlc3RGbil7dmFyIGkscz17dXJsOmV9O3JldHVybiBudWxsPT09KGk9cz10Lm1hc2tOZXR3b3JrUmVxdWVzdEZuKHMpKXx8dm9pZCAwPT09aT92b2lkIDA6aS51cmx9cmV0dXJuIGV9Y2xlYXJCdWZmZXIoKXtyZXR1cm4gdGhpcy5idWZmZXI9e3NpemU6MCxkYXRhOltdLHNlc3Npb25JZDp0aGlzLnNlc3Npb25JZCx3aW5kb3dJZDp0aGlzLndpbmRvd0lkfSx0aGlzLmJ1ZmZlcn1fZmx1c2hCdWZmZXIoKXt0aGlzLmZsdXNoQnVmZmVyVGltZXImJihjbGVhclRpbWVvdXQodGhpcy5mbHVzaEJ1ZmZlclRpbWVyKSx0aGlzLmZsdXNoQnVmZmVyVGltZXI9dm9pZCAwKTt2YXIgZT10aGlzLm1pbmltdW1EdXJhdGlvbix0PXRoaXMuc2Vzc2lvbkR1cmF0aW9uLGk9Tyh0KSYmdD49MCxzPU8oZSkmJmkmJnQ8ZTtpZihcImJ1ZmZlcmluZ1wiPT09dGhpcy5zdGF0dXN8fFwicGF1c2VkXCI9PT10aGlzLnN0YXR1c3x8XCJkaXNhYmxlZFwiPT09dGhpcy5zdGF0dXN8fHMpcmV0dXJuIHRoaXMuZmx1c2hCdWZmZXJUaW1lcj1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuX2ZsdXNoQnVmZmVyKCl9KSwyZTMpLHRoaXMuYnVmZmVyO3RoaXMuYnVmZmVyLmRhdGEubGVuZ3RoPjAmJmNpKHRoaXMuYnVmZmVyKS5mb3JFYWNoKChlPT57dGhpcy5fY2FwdHVyZVNuYXBzaG90KHskc25hcHNob3RfYnl0ZXM6ZS5zaXplLCRzbmFwc2hvdF9kYXRhOmUuZGF0YSwkc2Vzc2lvbl9pZDplLnNlc3Npb25JZCwkd2luZG93X2lkOmUud2luZG93SWQsJGxpYjpcIndlYlwiLCRsaWJfdmVyc2lvbjpwLkxJQl9WRVJTSU9OfSl9KSk7cmV0dXJuIHRoaXMuY2xlYXJCdWZmZXIoKX1fY2FwdHVyZVNuYXBzaG90QnVmZmVyZWQoZSl7dmFyIHQsaT0yKygobnVsbD09PSh0PXRoaXMuYnVmZmVyKXx8dm9pZCAwPT09dD92b2lkIDA6dC5kYXRhLmxlbmd0aCl8fDApOyF0aGlzLmlzSWRsZSYmKHRoaXMuYnVmZmVyLnNpemUrZS4kc25hcHNob3RfYnl0ZXMraT45NDM3MTguNHx8dGhpcy5idWZmZXIuc2Vzc2lvbklkIT09dGhpcy5zZXNzaW9uSWQpJiYodGhpcy5idWZmZXI9dGhpcy5fZmx1c2hCdWZmZXIoKSksdGhpcy5idWZmZXIuc2l6ZSs9ZS4kc25hcHNob3RfYnl0ZXMsdGhpcy5idWZmZXIuZGF0YS5wdXNoKGUuJHNuYXBzaG90X2RhdGEpLHRoaXMuZmx1c2hCdWZmZXJUaW1lcnx8dGhpcy5pc0lkbGV8fCh0aGlzLmZsdXNoQnVmZmVyVGltZXI9c2V0VGltZW91dCgoKCk9Pnt0aGlzLl9mbHVzaEJ1ZmZlcigpfSksMmUzKSl9X2NhcHR1cmVTbmFwc2hvdChlKXt0aGlzLmluc3RhbmNlLmNhcHR1cmUoXCIkc25hcHNob3RcIixlLHtfdXJsOnRoaXMuaW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLHRoaXMuX2VuZHBvaW50KSxfbm9UcnVuY2F0ZTohMCxfYmF0Y2hLZXk6XCJyZWNvcmRpbmdzXCIsc2tpcF9jbGllbnRfcmF0ZV9saW1pdGluZzohMH0pfV9jaGVja1VybFRyaWdnZXJDb25kaXRpb25zKCl7aWYodm9pZCAwIT09dCYmdC5sb2NhdGlvbi5ocmVmKXt2YXIgZT10LmxvY2F0aW9uLmhyZWYsaT10aGlzLl91cmxCbG9ja2VkLHM9Z3MoZSx0aGlzLl91cmxCbG9ja2xpc3QpO3MmJiFpP3RoaXMuX3BhdXNlUmVjb3JkaW5nKCk6IXMmJmkmJnRoaXMuX3Jlc3VtZVJlY29yZGluZygpLGdzKGUsdGhpcy5fdXJsVHJpZ2dlcnMpJiZ0aGlzLl9hY3RpdmF0ZVRyaWdnZXIoXCJ1cmxcIil9fV9hY3RpdmF0ZVRyaWdnZXIoZSl7dmFyIHQsaTtcInRyaWdnZXJfcGVuZGluZ1wiPT09dGhpcy50cmlnZ2VyU3RhdHVzJiYobnVsbD09PSh0PXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT10fHxudWxsPT09KGk9dC5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWl8fGkucmVnaXN0ZXIoe1tcInVybFwiPT09ZT9QZTpDZV06dGhpcy5zZXNzaW9uSWR9KSx0aGlzLl9mbHVzaEJ1ZmZlcigpLHRoaXMuX3JlcG9ydFN0YXJ0ZWQoZStcIl90cmlnZ2VyX21hdGNoZWRcIikpfV9wYXVzZVJlY29yZGluZygpe3RoaXMuX3VybEJsb2NrZWR8fCh0aGlzLl91cmxCbG9ja2VkPSEwLGNsZWFySW50ZXJ2YWwodGhpcy5fZnVsbFNuYXBzaG90VGltZXIpLGNzLmluZm8oXCJyZWNvcmRpbmcgcGF1c2VkIGR1ZSB0byBVUkwgYmxvY2tlclwiKSx0aGlzLl90cnlBZGRDdXN0b21FdmVudChcInJlY29yZGluZyBwYXVzZWRcIix7cmVhc29uOlwidXJsIGJsb2NrZXJcIn0pKX1fcmVzdW1lUmVjb3JkaW5nKCl7dGhpcy5fdXJsQmxvY2tlZCYmKHRoaXMuX3VybEJsb2NrZWQ9ITEsdGhpcy5fdHJ5VGFrZUZ1bGxTbmFwc2hvdCgpLHRoaXMuX3NjaGVkdWxlRnVsbFNuYXBzaG90KCksdGhpcy5fdHJ5QWRkQ3VzdG9tRXZlbnQoXCJyZWNvcmRpbmcgcmVzdW1lZFwiLHtyZWFzb246XCJsZWZ0IGJsb2NrZWQgdXJsXCJ9KSxjcy5pbmZvKFwicmVjb3JkaW5nIHJlc3VtZWRcIikpfV9hZGRFdmVudFRyaWdnZXJMaXN0ZW5lcigpezAhPT10aGlzLl9ldmVudFRyaWdnZXJzLmxlbmd0aCYmQSh0aGlzLl9yZW1vdmVFdmVudFRyaWdnZXJDYXB0dXJlSG9vaykmJih0aGlzLl9yZW1vdmVFdmVudFRyaWdnZXJDYXB0dXJlSG9vaz10aGlzLmluc3RhbmNlLm9uKFwiZXZlbnRDYXB0dXJlZFwiLChlPT57dHJ5e3RoaXMuX2V2ZW50VHJpZ2dlcnMuaW5jbHVkZXMoZS5ldmVudCkmJnRoaXMuX2FjdGl2YXRlVHJpZ2dlcihcImV2ZW50XCIpfWNhdGNoKGUpe2NzLmVycm9yKFwiQ291bGQgbm90IGFjdGl2YXRlIGV2ZW50IHRyaWdnZXJcIixlKX19KSkpfW92ZXJyaWRlTGlua2VkRmxhZygpe3RoaXMuX2xpbmtlZEZsYWdTZWVuPSEwLHRoaXMuX3RyeVRha2VGdWxsU25hcHNob3QoKSx0aGlzLl9yZXBvcnRTdGFydGVkKFwibGlua2VkX2ZsYWdfb3ZlcnJpZGRlblwiKX1vdmVycmlkZVNhbXBsaW5nKCl7dmFyIGU7bnVsbD09PShlPXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1lfHxlLnJlZ2lzdGVyKHtbSWVdOiEwfSksdGhpcy5fdHJ5VGFrZUZ1bGxTbmFwc2hvdCgpLHRoaXMuX3JlcG9ydFN0YXJ0ZWQoXCJzYW1wbGluZ19vdmVycmlkZGVuXCIpfW92ZXJyaWRlVHJpZ2dlcihlKXt0aGlzLl9hY3RpdmF0ZVRyaWdnZXIoZSl9X3JlcG9ydFN0YXJ0ZWQoZSx0KXt0aGlzLmluc3RhbmNlLnJlZ2lzdGVyX2Zvcl9zZXNzaW9uKHskc2Vzc2lvbl9yZWNvcmRpbmdfc3RhcnRfcmVhc29uOmV9KSxjcy5pbmZvKGUucmVwbGFjZShcIl9cIixcIiBcIiksdCksbShbXCJyZWNvcmRpbmdfaW5pdGlhbGl6ZWRcIixcInNlc3Npb25faWRfY2hhbmdlZFwiXSxlKXx8dGhpcy5fdHJ5QWRkQ3VzdG9tRXZlbnQoZSx0KX19dmFyIGZzPUgoXCJbU2VnbWVudEludGVncmF0aW9uXVwiKTtmdW5jdGlvbiBtcyhlLHQpe3ZhciBpPWUuY29uZmlnLnNlZ21lbnQ7aWYoIWkpcmV0dXJuIHQoKTshZnVuY3Rpb24oZSx0KXt2YXIgaT1lLmNvbmZpZy5zZWdtZW50O2lmKCFpKXJldHVybiB0KCk7dmFyIHM9aT0+e3ZhciBzPSgpPT5pLmFub255bW91c0lkKCl8fE50KCk7ZS5jb25maWcuZ2V0X2RldmljZV9pZD1zLGkuaWQoKSYmKGUucmVnaXN0ZXIoe2Rpc3RpbmN0X2lkOmkuaWQoKSwkZGV2aWNlX2lkOnMoKX0pLGUucGVyc2lzdGVuY2Uuc2V0X3Byb3BlcnR5KExlLFwiaWRlbnRpZmllZFwiKSksdCgpfSxyPWkudXNlcigpO1widGhlblwiaW4gciYmSShyLnRoZW4pP3IudGhlbigoZT0+cyhlKSkpOnMocil9KGUsKCgpPT57aS5yZWdpc3RlcigoZT0+e1Byb21pc2UmJlByb21pc2UucmVzb2x2ZXx8ZnMud2FybihcIlRoaXMgYnJvd3NlciBkb2VzIG5vdCBoYXZlIFByb21pc2Ugc3VwcG9ydCwgYW5kIGNhbiBub3QgdXNlIHRoZSBzZWdtZW50IGludGVncmF0aW9uXCIpO3ZhciB0PSh0LGkpPT57dmFyIHM7aWYoIWkpcmV0dXJuIHQ7dC5ldmVudC51c2VySWR8fHQuZXZlbnQuYW5vbnltb3VzSWQ9PT1lLmdldF9kaXN0aW5jdF9pZCgpfHwoZnMuaW5mbyhcIk5vIHVzZXJJZCBzZXQsIHJlc2V0dGluZyBQb3N0SG9nXCIpLGUucmVzZXQoKSksdC5ldmVudC51c2VySWQmJnQuZXZlbnQudXNlcklkIT09ZS5nZXRfZGlzdGluY3RfaWQoKSYmKGZzLmluZm8oXCJVc2VySWQgc2V0LCBpZGVudGlmeWluZyB3aXRoIFBvc3RIb2dcIiksZS5pZGVudGlmeSh0LmV2ZW50LnVzZXJJZCkpO3ZhciByPWUuX2NhbGN1bGF0ZV9ldmVudF9wcm9wZXJ0aWVzKGksbnVsbCE9PShzPXQuZXZlbnQucHJvcGVydGllcykmJnZvaWQgMCE9PXM/czp7fSxuZXcgRGF0ZSk7cmV0dXJuIHQuZXZlbnQucHJvcGVydGllcz1PYmplY3QuYXNzaWduKHt9LHIsdC5ldmVudC5wcm9wZXJ0aWVzKSx0fTtyZXR1cm57bmFtZTpcIlBvc3RIb2cgSlNcIix0eXBlOlwiZW5yaWNobWVudFwiLHZlcnNpb246XCIxLjAuMFwiLGlzTG9hZGVkOigpPT4hMCxsb2FkOigpPT5Qcm9taXNlLnJlc29sdmUoKSx0cmFjazplPT50KGUsZS5ldmVudC5ldmVudCkscGFnZTplPT50KGUsXCIkcGFnZXZpZXdcIiksaWRlbnRpZnk6ZT0+dChlLFwiJGlkZW50aWZ5XCIpLHNjcmVlbjplPT50KGUsXCIkc2NyZWVuXCIpfX0pKGUpKS50aGVuKCgoKT0+e3QoKX0pKX0pKX12YXIgeXM9XCJwb3N0aG9nLWpzXCI7ZnVuY3Rpb24gYnMoZSl7dmFye29yZ2FuaXphdGlvbjp0LHByb2plY3RJZDppLHByZWZpeDpzLHNldmVyaXR5QWxsb3dMaXN0OnI9W1wiZXJyb3JcIl19PWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTp7fTtyZXR1cm4gbj0+e3ZhciBvLGEsbCxjLHU7aWYoIShcIipcIj09PXJ8fHIuaW5jbHVkZXMobi5sZXZlbCkpfHwhZS5fX2xvYWRlZClyZXR1cm4gbjtuLnRhZ3N8fChuLnRhZ3M9e30pO3ZhciBkPWUucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcInVpXCIsXCIvcHJvamVjdC9cIi5jb25jYXQoZS5jb25maWcudG9rZW4sXCIvcGVyc29uL1wiKS5jb25jYXQoZS5nZXRfZGlzdGluY3RfaWQoKSkpO24udGFnc1tcIlBvc3RIb2cgUGVyc29uIFVSTFwiXT1kLGUuc2Vzc2lvblJlY29yZGluZ1N0YXJ0ZWQoKSYmKG4udGFnc1tcIlBvc3RIb2cgUmVjb3JkaW5nIFVSTFwiXT1lLmdldF9zZXNzaW9uX3JlcGxheV91cmwoe3dpdGhUaW1lc3RhbXA6ITB9KSk7dmFyIGg9KG51bGw9PT0obz1uLmV4Y2VwdGlvbil8fHZvaWQgMD09PW8/dm9pZCAwOm8udmFsdWVzKXx8W10sXz1oLm1hcCgoZT0+VyhXKHt9LGUpLHt9LHtzdGFja3RyYWNlOmUuc3RhY2t0cmFjZT9XKFcoe30sZS5zdGFja3RyYWNlKSx7fSx7dHlwZTpcInJhd1wiLGZyYW1lczooZS5zdGFja3RyYWNlLmZyYW1lc3x8W10pLm1hcCgoZT0+VyhXKHt9LGUpLHt9LHtwbGF0Zm9ybTpcIndlYjpqYXZhc2NyaXB0XCJ9KSkpfSk6dm9pZCAwfSkpKSxwPXskZXhjZXB0aW9uX21lc3NhZ2U6KG51bGw9PT0oYT1oWzBdKXx8dm9pZCAwPT09YT92b2lkIDA6YS52YWx1ZSl8fG4ubWVzc2FnZSwkZXhjZXB0aW9uX3R5cGU6bnVsbD09PShsPWhbMF0pfHx2b2lkIDA9PT1sP3ZvaWQgMDpsLnR5cGUsJGV4Y2VwdGlvbl9wZXJzb25VUkw6ZCwkZXhjZXB0aW9uX2xldmVsOm4ubGV2ZWwsJGV4Y2VwdGlvbl9saXN0Ol8sJHNlbnRyeV9ldmVudF9pZDpuLmV2ZW50X2lkLCRzZW50cnlfZXhjZXB0aW9uOm4uZXhjZXB0aW9uLCRzZW50cnlfZXhjZXB0aW9uX21lc3NhZ2U6KG51bGw9PT0oYz1oWzBdKXx8dm9pZCAwPT09Yz92b2lkIDA6Yy52YWx1ZSl8fG4ubWVzc2FnZSwkc2VudHJ5X2V4Y2VwdGlvbl90eXBlOm51bGw9PT0odT1oWzBdKXx8dm9pZCAwPT09dT92b2lkIDA6dS50eXBlLCRzZW50cnlfdGFnczpuLnRhZ3N9O3JldHVybiB0JiZpJiYocC4kc2VudHJ5X3VybD0oc3x8XCJodHRwczovL3NlbnRyeS5pby9vcmdhbml6YXRpb25zL1wiKSt0K1wiL2lzc3Vlcy8/cHJvamVjdD1cIitpK1wiJnF1ZXJ5PVwiK24uZXZlbnRfaWQpLGUuZXhjZXB0aW9ucy5zZW5kRXhjZXB0aW9uRXZlbnQocCksbn19Y2xhc3Mgd3N7Y29uc3RydWN0b3IoZSx0LGkscyxyKXt0aGlzLm5hbWU9eXMsdGhpcy5zZXR1cE9uY2U9ZnVuY3Rpb24obil7bihicyhlLHtvcmdhbml6YXRpb246dCxwcm9qZWN0SWQ6aSxwcmVmaXg6cyxzZXZlcml0eUFsbG93TGlzdDpyfSkpfX19dmFyIFNzLGtzPW51bGwhPXQmJnQubG9jYXRpb24/SXQodC5sb2NhdGlvbi5oYXNoLFwiX19wb3N0aG9nXCIpfHxJdChsb2NhdGlvbi5oYXNoLFwic3RhdGVcIik6bnVsbCxFcz1cIl9wb3N0SG9nVG9vbGJhclBhcmFtc1wiLHhzPUgoXCJbVG9vbGJhcl1cIik7IWZ1bmN0aW9uKGUpe2VbZS5VTklOSVRJQUxJWkVEPTBdPVwiVU5JTklUSUFMSVpFRFwiLGVbZS5MT0FESU5HPTFdPVwiTE9BRElOR1wiLGVbZS5MT0FERUQ9Ml09XCJMT0FERURcIn0oU3N8fChTcz17fSkpO2NsYXNzIElze2NvbnN0cnVjdG9yKGUpe3RoaXMuaW5zdGFuY2U9ZX1zZXRUb29sYmFyU3RhdGUoZSl7Xy5waF90b29sYmFyX3N0YXRlPWV9Z2V0VG9vbGJhclN0YXRlKCl7dmFyIGU7cmV0dXJuIG51bGwhPT0oZT1fLnBoX3Rvb2xiYXJfc3RhdGUpJiZ2b2lkIDAhPT1lP2U6U3MuVU5JTklUSUFMSVpFRH1tYXliZUxvYWRUb29sYmFyKCl7dmFyIGUsaSxzPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp2b2lkIDAscj1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dm9pZCAwLG49YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnZvaWQgMDtpZighdHx8IWEpcmV0dXJuITE7cz1udWxsIT09KGU9cykmJnZvaWQgMCE9PWU/ZTp0LmxvY2F0aW9uLG49bnVsbCE9PShpPW4pJiZ2b2lkIDAhPT1pP2k6dC5oaXN0b3J5O3RyeXtpZighcil7dHJ5e3QubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJ0ZXN0XCIsXCJ0ZXN0XCIpLHQubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJ0ZXN0XCIpfWNhdGNoKGUpe3JldHVybiExfXI9bnVsbD09dD92b2lkIDA6dC5sb2NhbFN0b3JhZ2V9dmFyIG8sbD1rc3x8SXQocy5oYXNoLFwiX19wb3N0aG9nXCIpfHxJdChzLmhhc2gsXCJzdGF0ZVwiKSxjPWw/ZWUoKCgpPT5KU09OLnBhcnNlKGF0b2IoZGVjb2RlVVJJQ29tcG9uZW50KGwpKSkpKXx8ZWUoKCgpPT5KU09OLnBhcnNlKGRlY29kZVVSSUNvbXBvbmVudChsKSkpKTpudWxsO3JldHVybiBjJiZcInBoX2F1dGhvcml6ZVwiPT09Yy5hY3Rpb24/KChvPWMpLnNvdXJjZT1cInVybFwiLG8mJk9iamVjdC5rZXlzKG8pLmxlbmd0aD4wJiYoYy5kZXNpcmVkSGFzaD9zLmhhc2g9Yy5kZXNpcmVkSGFzaDpuP24ucmVwbGFjZVN0YXRlKG4uc3RhdGUsXCJcIixzLnBhdGhuYW1lK3Muc2VhcmNoKTpzLmhhc2g9XCJcIikpOigobz1KU09OLnBhcnNlKHIuZ2V0SXRlbShFcyl8fFwie31cIikpLnNvdXJjZT1cImxvY2Fsc3RvcmFnZVwiLGRlbGV0ZSBvLnVzZXJJbnRlbnQpLCEoIW8udG9rZW58fHRoaXMuaW5zdGFuY2UuY29uZmlnLnRva2VuIT09by50b2tlbikmJih0aGlzLmxvYWRUb29sYmFyKG8pLCEwKX1jYXRjaChlKXtyZXR1cm4hMX19X2NhbGxMb2FkVG9vbGJhcihlKXt2YXIgdD1fLnBoX2xvYWRfdG9vbGJhcnx8Xy5waF9sb2FkX2VkaXRvcjshQSh0KSYmSSh0KT90KGUsdGhpcy5pbnN0YW5jZSk6eHMud2FybihcIk5vIHRvb2xiYXIgbG9hZCBmdW5jdGlvbiBmb3VuZFwiKX1sb2FkVG9vbGJhcihlKXt2YXIgaT0hKG51bGw9PWF8fCFhLmdldEVsZW1lbnRCeUlkKHplKSk7aWYoIXR8fGkpcmV0dXJuITE7dmFyIHM9XCJjdXN0b21cIj09PXRoaXMuaW5zdGFuY2UucmVxdWVzdFJvdXRlci5yZWdpb24mJnRoaXMuaW5zdGFuY2UuY29uZmlnLmFkdmFuY2VkX2Rpc2FibGVfdG9vbGJhcl9tZXRyaWNzLHI9VyhXKHt0b2tlbjp0aGlzLmluc3RhbmNlLmNvbmZpZy50b2tlbn0sZSkse30se2FwaVVSTDp0aGlzLmluc3RhbmNlLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJ1aVwiKX0scz97aW5zdHJ1bWVudDohMX06e30pO2lmKHQubG9jYWxTdG9yYWdlLnNldEl0ZW0oRXMsSlNPTi5zdHJpbmdpZnkoVyhXKHt9LHIpLHt9LHtzb3VyY2U6dm9pZCAwfSkpKSx0aGlzLmdldFRvb2xiYXJTdGF0ZSgpPT09U3MuTE9BREVEKXRoaXMuX2NhbGxMb2FkVG9vbGJhcihyKTtlbHNlIGlmKHRoaXMuZ2V0VG9vbGJhclN0YXRlKCk9PT1Tcy5VTklOSVRJQUxJWkVEKXt2YXIgbixvO3RoaXMuc2V0VG9vbGJhclN0YXRlKFNzLkxPQURJTkcpLG51bGw9PT0obj1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fHZvaWQgMD09PW58fG51bGw9PT0obz1uLmxvYWRFeHRlcm5hbERlcGVuZGVuY3kpfHx2b2lkIDA9PT1vfHxvLmNhbGwobix0aGlzLmluc3RhbmNlLFwidG9vbGJhclwiLChlPT57aWYoZSlyZXR1cm4geHMuZXJyb3IoXCJbVG9vbGJhcl0gRmFpbGVkIHRvIGxvYWRcIixlKSx2b2lkIHRoaXMuc2V0VG9vbGJhclN0YXRlKFNzLlVOSU5JVElBTElaRUQpO3RoaXMuc2V0VG9vbGJhclN0YXRlKFNzLkxPQURFRCksdGhpcy5fY2FsbExvYWRUb29sYmFyKHIpfSkpLGFlKHQsXCJ0dXJib2xpbmtzOmxvYWRcIiwoKCk9Pnt0aGlzLnNldFRvb2xiYXJTdGF0ZShTcy5VTklOSVRJQUxJWkVEKSx0aGlzLmxvYWRUb29sYmFyKHIpfSkpfXJldHVybiEwfV9sb2FkRWRpdG9yKGUpe3JldHVybiB0aGlzLmxvYWRUb29sYmFyKGUpfW1heWJlTG9hZEVkaXRvcigpe3ZhciBlPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp2b2lkIDAsdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06dm9pZCAwLGk9YXJndW1lbnRzLmxlbmd0aD4yJiZ2b2lkIDAhPT1hcmd1bWVudHNbMl0/YXJndW1lbnRzWzJdOnZvaWQgMDtyZXR1cm4gdGhpcy5tYXliZUxvYWRUb29sYmFyKGUsdCxpKX19dmFyIFBzPUgoXCJbVHJhY2luZ0hlYWRlcnNdXCIpO2NsYXNzIENze2NvbnN0cnVjdG9yKGUpe1YodGhpcyxcIl9yZXN0b3JlWEhSUGF0Y2hcIix2b2lkIDApLFYodGhpcyxcIl9yZXN0b3JlRmV0Y2hQYXRjaFwiLHZvaWQgMCksVih0aGlzLFwiX3N0YXJ0Q2FwdHVyaW5nXCIsKCgpPT57dmFyIGUsdCxpLHM7Rih0aGlzLl9yZXN0b3JlWEhSUGF0Y2gpJiYobnVsbD09PShlPV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09ZXx8bnVsbD09PSh0PWUudHJhY2luZ0hlYWRlcnNQYXRjaEZucyl8fHZvaWQgMD09PXR8fHQuX3BhdGNoWEhSKHRoaXMuaW5zdGFuY2Uuc2Vzc2lvbk1hbmFnZXIpKTtGKHRoaXMuX3Jlc3RvcmVGZXRjaFBhdGNoKSYmKG51bGw9PT0oaT1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fHZvaWQgMD09PWl8fG51bGw9PT0ocz1pLnRyYWNpbmdIZWFkZXJzUGF0Y2hGbnMpfHx2b2lkIDA9PT1zfHxzLl9wYXRjaEZldGNoKHRoaXMuaW5zdGFuY2Uuc2Vzc2lvbk1hbmFnZXIpKX0pKSx0aGlzLmluc3RhbmNlPWV9X2xvYWRTY3JpcHQoZSl7dmFyIHQsaSxzO251bGwhPT0odD1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJnZvaWQgMCE9PXQmJnQudHJhY2luZ0hlYWRlcnNQYXRjaEZucyYmZSgpLG51bGw9PT0oaT1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fHZvaWQgMD09PWl8fG51bGw9PT0ocz1pLmxvYWRFeHRlcm5hbERlcGVuZGVuY3kpfHx2b2lkIDA9PT1zfHxzLmNhbGwoaSx0aGlzLmluc3RhbmNlLFwidHJhY2luZy1oZWFkZXJzXCIsKHQ9PntpZih0KXJldHVybiBQcy5lcnJvcihcImZhaWxlZCB0byBsb2FkIHNjcmlwdFwiLHQpO2UoKX0pKX1zdGFydElmRW5hYmxlZE9yU3RvcCgpe3ZhciBlLHQ7dGhpcy5pbnN0YW5jZS5jb25maWcuX19hZGRfdHJhY2luZ19oZWFkZXJzP3RoaXMuX2xvYWRTY3JpcHQodGhpcy5fc3RhcnRDYXB0dXJpbmcpOihudWxsPT09KGU9dGhpcy5fcmVzdG9yZVhIUlBhdGNoKXx8dm9pZCAwPT09ZXx8ZS5jYWxsKHRoaXMpLG51bGw9PT0odD10aGlzLl9yZXN0b3JlRmV0Y2hQYXRjaCl8fHZvaWQgMD09PXR8fHQuY2FsbCh0aGlzKSx0aGlzLl9yZXN0b3JlWEhSUGF0Y2g9dm9pZCAwLHRoaXMuX3Jlc3RvcmVGZXRjaFBhdGNoPXZvaWQgMCl9fXZhciBGcz1IKFwiW1dlYiBWaXRhbHNdXCIpLFJzPTllNTtjbGFzcyBUc3tjb25zdHJ1Y3RvcihlKXt2YXIgdDtWKHRoaXMsXCJfZW5hYmxlZFNlcnZlclNpZGVcIiwhMSksVih0aGlzLFwiX2luaXRpYWxpemVkXCIsITEpLFYodGhpcyxcImJ1ZmZlclwiLHt1cmw6dm9pZCAwLG1ldHJpY3M6W10sZmlyc3RNZXRyaWNUaW1lc3RhbXA6dm9pZCAwfSksVih0aGlzLFwiX2ZsdXNoVG9DYXB0dXJlXCIsKCgpPT57Y2xlYXJUaW1lb3V0KHRoaXMuX2RlbGF5ZWRGbHVzaFRpbWVyKSwwIT09dGhpcy5idWZmZXIubWV0cmljcy5sZW5ndGgmJih0aGlzLmluc3RhbmNlLmNhcHR1cmUoXCIkd2ViX3ZpdGFsc1wiLHRoaXMuYnVmZmVyLm1ldHJpY3MucmVkdWNlKCgoZSx0KT0+VyhXKHt9LGUpLHt9LHtbXCIkd2ViX3ZpdGFsc19cIi5jb25jYXQodC5uYW1lLFwiX2V2ZW50XCIpXTpXKHt9LHQpLFtcIiR3ZWJfdml0YWxzX1wiLmNvbmNhdCh0Lm5hbWUsXCJfdmFsdWVcIildOnQudmFsdWV9KSkse30pKSx0aGlzLmJ1ZmZlcj17dXJsOnZvaWQgMCxtZXRyaWNzOltdLGZpcnN0TWV0cmljVGltZXN0YW1wOnZvaWQgMH0pfSkpLFYodGhpcyxcIl9hZGRUb0J1ZmZlclwiLChlPT57dmFyIHQsaT1udWxsPT09KHQ9dGhpcy5pbnN0YW5jZS5zZXNzaW9uTWFuYWdlcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuY2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQoITApO2lmKEYoaSkpRnMuZXJyb3IoXCJDb3VsZCBub3QgcmVhZCBzZXNzaW9uIElELiBEcm9wcGluZyBtZXRyaWNzIVwiKTtlbHNle3RoaXMuYnVmZmVyPXRoaXMuYnVmZmVyfHx7dXJsOnZvaWQgMCxtZXRyaWNzOltdLGZpcnN0TWV0cmljVGltZXN0YW1wOnZvaWQgMH07dmFyIHM9dGhpcy5fY3VycmVudFVSTCgpO2lmKCFGKHMpKWlmKEEobnVsbD09ZT92b2lkIDA6ZS5uYW1lKXx8QShudWxsPT1lP3ZvaWQgMDplLnZhbHVlKSlGcy5lcnJvcihcIkludmFsaWQgbWV0cmljIHJlY2VpdmVkXCIsZSk7ZWxzZSBpZih0aGlzLl9tYXhBbGxvd2VkVmFsdWUmJmUudmFsdWU+PXRoaXMuX21heEFsbG93ZWRWYWx1ZSlGcy5lcnJvcihcIklnbm9yaW5nIG1ldHJpYyB3aXRoIHZhbHVlID49IFwiK3RoaXMuX21heEFsbG93ZWRWYWx1ZSxlKTtlbHNlIHRoaXMuYnVmZmVyLnVybCE9PXMmJih0aGlzLl9mbHVzaFRvQ2FwdHVyZSgpLHRoaXMuX2RlbGF5ZWRGbHVzaFRpbWVyPXNldFRpbWVvdXQodGhpcy5fZmx1c2hUb0NhcHR1cmUsdGhpcy5mbHVzaFRvQ2FwdHVyZVRpbWVvdXRNcykpLEYodGhpcy5idWZmZXIudXJsKSYmKHRoaXMuYnVmZmVyLnVybD1zKSx0aGlzLmJ1ZmZlci5maXJzdE1ldHJpY1RpbWVzdGFtcD1GKHRoaXMuYnVmZmVyLmZpcnN0TWV0cmljVGltZXN0YW1wKT9EYXRlLm5vdygpOnRoaXMuYnVmZmVyLmZpcnN0TWV0cmljVGltZXN0YW1wLGUuYXR0cmlidXRpb24mJmUuYXR0cmlidXRpb24uaW50ZXJhY3Rpb25UYXJnZXRFbGVtZW50JiYoZS5hdHRyaWJ1dGlvbi5pbnRlcmFjdGlvblRhcmdldEVsZW1lbnQ9dm9pZCAwKSx0aGlzLmJ1ZmZlci5tZXRyaWNzLnB1c2goVyhXKHt9LGUpLHt9LHskY3VycmVudF91cmw6cywkc2Vzc2lvbl9pZDppLnNlc3Npb25JZCwkd2luZG93X2lkOmkud2luZG93SWQsdGltZXN0YW1wOkRhdGUubm93KCl9KSksdGhpcy5idWZmZXIubWV0cmljcy5sZW5ndGg9PT10aGlzLmFsbG93ZWRNZXRyaWNzLmxlbmd0aCYmdGhpcy5fZmx1c2hUb0NhcHR1cmUoKX19KSksVih0aGlzLFwiX3N0YXJ0Q2FwdHVyaW5nXCIsKCgpPT57dmFyIGUsdCxpLHMscj1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXztGKHIpfHxGKHIucG9zdEhvZ1dlYlZpdGFsc0NhbGxiYWNrcyl8fCh7b25MQ1A6ZSxvbkNMUzp0LG9uRkNQOmksb25JTlA6c309ci5wb3N0SG9nV2ViVml0YWxzQ2FsbGJhY2tzKSxlJiZ0JiZpJiZzPyh0aGlzLmFsbG93ZWRNZXRyaWNzLmluZGV4T2YoXCJMQ1BcIik+LTEmJmUodGhpcy5fYWRkVG9CdWZmZXIuYmluZCh0aGlzKSksdGhpcy5hbGxvd2VkTWV0cmljcy5pbmRleE9mKFwiQ0xTXCIpPi0xJiZ0KHRoaXMuX2FkZFRvQnVmZmVyLmJpbmQodGhpcykpLHRoaXMuYWxsb3dlZE1ldHJpY3MuaW5kZXhPZihcIkZDUFwiKT4tMSYmaSh0aGlzLl9hZGRUb0J1ZmZlci5iaW5kKHRoaXMpKSx0aGlzLmFsbG93ZWRNZXRyaWNzLmluZGV4T2YoXCJJTlBcIik+LTEmJnModGhpcy5fYWRkVG9CdWZmZXIuYmluZCh0aGlzKSksdGhpcy5faW5pdGlhbGl6ZWQ9ITApOkZzLmVycm9yKFwid2ViIHZpdGFscyBjYWxsYmFja3Mgbm90IGxvYWRlZCAtIG5vdCBzdGFydGluZ1wiKX0pKSx0aGlzLmluc3RhbmNlPWUsdGhpcy5fZW5hYmxlZFNlcnZlclNpZGU9IShudWxsPT09KHQ9dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PXR8fCF0LnByb3BzW3BlXSksdGhpcy5zdGFydElmRW5hYmxlZCgpfWdldCBhbGxvd2VkTWV0cmljcygpe3ZhciBlLHQsaT1QKHRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UpP251bGw9PT0oZT10aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS53ZWJfdml0YWxzX2FsbG93ZWRfbWV0cmljczp2b2lkIDA7cmV0dXJuIEYoaSk/KG51bGw9PT0odD10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5wcm9wc1t2ZV0pfHxbXCJDTFNcIixcIkZDUFwiLFwiSU5QXCIsXCJMQ1BcIl06aX1nZXQgZmx1c2hUb0NhcHR1cmVUaW1lb3V0TXMoKXtyZXR1cm4oUCh0aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlKT90aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX3BlcmZvcm1hbmNlLndlYl92aXRhbHNfZGVsYXllZF9mbHVzaF9tczp2b2lkIDApfHw1ZTN9Z2V0IF9tYXhBbGxvd2VkVmFsdWUoKXt2YXIgZT1QKHRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UpJiZPKHRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UuX193ZWJfdml0YWxzX21heF92YWx1ZSk/dGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9wZXJmb3JtYW5jZS5fX3dlYl92aXRhbHNfbWF4X3ZhbHVlOlJzO3JldHVybiAwPGUmJmU8PTZlND9SczplfWdldCBpc0VuYWJsZWQoKXt2YXIgZT1QKHRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2UpP3RoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfcGVyZm9ybWFuY2Uud2ViX3ZpdGFsczp2b2lkIDA7cmV0dXJuIE0oZSk/ZTp0aGlzLl9lbmFibGVkU2VydmVyU2lkZX1zdGFydElmRW5hYmxlZCgpe3RoaXMuaXNFbmFibGVkJiYhdGhpcy5faW5pdGlhbGl6ZWQmJihGcy5pbmZvKFwiZW5hYmxlZCwgc3RhcnRpbmcuLi5cIiksdGhpcy5sb2FkU2NyaXB0KHRoaXMuX3N0YXJ0Q2FwdHVyaW5nKSl9b25SZW1vdGVDb25maWcoZSl7dmFyIHQ9UChlLmNhcHR1cmVQZXJmb3JtYW5jZSkmJiEhZS5jYXB0dXJlUGVyZm9ybWFuY2Uud2ViX3ZpdGFscyxpPVAoZS5jYXB0dXJlUGVyZm9ybWFuY2UpP2UuY2FwdHVyZVBlcmZvcm1hbmNlLndlYl92aXRhbHNfYWxsb3dlZF9tZXRyaWNzOnZvaWQgMDt0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlJiYodGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W3BlXTp0fSksdGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W3ZlXTppfSkpLHRoaXMuX2VuYWJsZWRTZXJ2ZXJTaWRlPXQsdGhpcy5zdGFydElmRW5hYmxlZCgpfWxvYWRTY3JpcHQoZSl7dmFyIHQsaSxzO251bGwhPT0odD1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXykmJnZvaWQgMCE9PXQmJnQucG9zdEhvZ1dlYlZpdGFsc0NhbGxiYWNrcyYmZSgpLG51bGw9PT0oaT1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fHZvaWQgMD09PWl8fG51bGw9PT0ocz1pLmxvYWRFeHRlcm5hbERlcGVuZGVuY3kpfHx2b2lkIDA9PT1zfHxzLmNhbGwoaSx0aGlzLmluc3RhbmNlLFwid2ViLXZpdGFsc1wiLCh0PT57dD9Gcy5lcnJvcihcImZhaWxlZCB0byBsb2FkIHNjcmlwdFwiLHQpOmUoKX0pKX1fY3VycmVudFVSTCgpe3ZhciBlPXQ/dC5sb2NhdGlvbi5ocmVmOnZvaWQgMDtyZXR1cm4gZXx8RnMuZXJyb3IoXCJDb3VsZCBub3QgZGV0ZXJtaW5lIGN1cnJlbnQgVVJMXCIpLGV9fXZhciAkcz1IKFwiW0hlYXRtYXBzXVwiKTtmdW5jdGlvbiBBcyhlKXtyZXR1cm4gUChlKSYmXCJjbGllbnRYXCJpbiBlJiZcImNsaWVudFlcImluIGUmJk8oZS5jbGllbnRYKSYmTyhlLmNsaWVudFkpfWNsYXNzIE9ze2NvbnN0cnVjdG9yKGUpe3ZhciB0O1YodGhpcyxcInJhZ2VjbGlja3NcIixuZXcgYnQpLFYodGhpcyxcIl9lbmFibGVkU2VydmVyU2lkZVwiLCExKSxWKHRoaXMsXCJfaW5pdGlhbGl6ZWRcIiwhMSksVih0aGlzLFwiX2ZsdXNoSW50ZXJ2YWxcIixudWxsKSx0aGlzLmluc3RhbmNlPWUsdGhpcy5fZW5hYmxlZFNlcnZlclNpZGU9IShudWxsPT09KHQ9dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PXR8fCF0LnByb3BzW2hlXSl9Z2V0IGZsdXNoSW50ZXJ2YWxNaWxsaXNlY29uZHMoKXt2YXIgZT01ZTM7cmV0dXJuIFAodGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9oZWF0bWFwcykmJnRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfaGVhdG1hcHMuZmx1c2hfaW50ZXJ2YWxfbWlsbGlzZWNvbmRzJiYoZT10aGlzLmluc3RhbmNlLmNvbmZpZy5jYXB0dXJlX2hlYXRtYXBzLmZsdXNoX2ludGVydmFsX21pbGxpc2Vjb25kcyksZX1nZXQgaXNFbmFibGVkKCl7cmV0dXJuIEYodGhpcy5pbnN0YW5jZS5jb25maWcuY2FwdHVyZV9oZWF0bWFwcyk/Rih0aGlzLmluc3RhbmNlLmNvbmZpZy5lbmFibGVfaGVhdG1hcHMpP3RoaXMuX2VuYWJsZWRTZXJ2ZXJTaWRlOnRoaXMuaW5zdGFuY2UuY29uZmlnLmVuYWJsZV9oZWF0bWFwczohMSE9PXRoaXMuaW5zdGFuY2UuY29uZmlnLmNhcHR1cmVfaGVhdG1hcHN9c3RhcnRJZkVuYWJsZWQoKXtpZih0aGlzLmlzRW5hYmxlZCl7aWYodGhpcy5faW5pdGlhbGl6ZWQpcmV0dXJuOyRzLmluZm8oXCJzdGFydGluZy4uLlwiKSx0aGlzLl9zZXR1cExpc3RlbmVycygpLHRoaXMuX2ZsdXNoSW50ZXJ2YWw9c2V0SW50ZXJ2YWwodGhpcy5mbHVzaC5iaW5kKHRoaXMpLHRoaXMuZmx1c2hJbnRlcnZhbE1pbGxpc2Vjb25kcyl9ZWxzZXt2YXIgZSx0O2NsZWFySW50ZXJ2YWwobnVsbCE9PShlPXRoaXMuX2ZsdXNoSW50ZXJ2YWwpJiZ2b2lkIDAhPT1lP2U6dm9pZCAwKSxudWxsPT09KHQ9dGhpcy5kZWFkQ2xpY2tzQ2FwdHVyZSl8fHZvaWQgMD09PXR8fHQuc3RvcCgpLHRoaXMuZ2V0QW5kQ2xlYXJCdWZmZXIoKX19b25SZW1vdGVDb25maWcoZSl7dmFyIHQ9ISFlLmhlYXRtYXBzO3RoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UmJnRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1toZV06dH0pLHRoaXMuX2VuYWJsZWRTZXJ2ZXJTaWRlPXQsdGhpcy5zdGFydElmRW5hYmxlZCgpfWdldEFuZENsZWFyQnVmZmVyKCl7dmFyIGU9dGhpcy5idWZmZXI7cmV0dXJuIHRoaXMuYnVmZmVyPXZvaWQgMCxlfV9vbkRlYWRDbGljayhlKXt0aGlzLl9vbkNsaWNrKGUub3JpZ2luYWxFdmVudCxcImRlYWRjbGlja1wiKX1fc2V0dXBMaXN0ZW5lcnMoKXt0JiZhJiYoYWUodCxcImJlZm9yZXVubG9hZFwiLHRoaXMuZmx1c2guYmluZCh0aGlzKSksYWUoYSxcImNsaWNrXCIsKGU9PnRoaXMuX29uQ2xpY2soZXx8KG51bGw9PXQ/dm9pZCAwOnQuZXZlbnQpKSkse2NhcHR1cmU6ITB9KSxhZShhLFwibW91c2Vtb3ZlXCIsKGU9PnRoaXMuX29uTW91c2VNb3ZlKGV8fChudWxsPT10P3ZvaWQgMDp0LmV2ZW50KSkpLHtjYXB0dXJlOiEwfSksdGhpcy5kZWFkQ2xpY2tzQ2FwdHVyZT1uZXcgbmkodGhpcy5pbnN0YW5jZSxzaSx0aGlzLl9vbkRlYWRDbGljay5iaW5kKHRoaXMpKSx0aGlzLmRlYWRDbGlja3NDYXB0dXJlLnN0YXJ0SWZFbmFibGVkKCksdGhpcy5faW5pdGlhbGl6ZWQ9ITApfV9nZXRQcm9wZXJ0aWVzKGUsaSl7dmFyIHM9dGhpcy5pbnN0YW5jZS5zY3JvbGxNYW5hZ2VyLnNjcm9sbFkoKSxyPXRoaXMuaW5zdGFuY2Uuc2Nyb2xsTWFuYWdlci5zY3JvbGxYKCksbj10aGlzLmluc3RhbmNlLnNjcm9sbE1hbmFnZXIuc2Nyb2xsRWxlbWVudCgpLG89ZnVuY3Rpb24oZSxpLHMpe2Zvcih2YXIgcj1lO3ImJkdlKHIpJiYhSmUocixcImJvZHlcIik7KXtpZihyPT09cylyZXR1cm4hMTtpZihtKGksbnVsbD09dD92b2lkIDA6dC5nZXRDb21wdXRlZFN0eWxlKHIpLnBvc2l0aW9uKSlyZXR1cm4hMDtyPXJ0KHIpfXJldHVybiExfShpdChlKSxbXCJmaXhlZFwiLFwic3RpY2t5XCJdLG4pO3JldHVybnt4OmUuY2xpZW50WCsobz8wOnIpLHk6ZS5jbGllbnRZKyhvPzA6cyksdGFyZ2V0X2ZpeGVkOm8sdHlwZTppfX1fb25DbGljayhlKXt2YXIgdCxpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdP2FyZ3VtZW50c1sxXTpcImNsaWNrXCI7aWYoIVZlKGUudGFyZ2V0KSYmQXMoZSkpe3ZhciBzPXRoaXMuX2dldFByb3BlcnRpZXMoZSxpKTtudWxsIT09KHQ9dGhpcy5yYWdlY2xpY2tzKSYmdm9pZCAwIT09dCYmdC5pc1JhZ2VDbGljayhlLmNsaWVudFgsZS5jbGllbnRZLChuZXcgRGF0ZSkuZ2V0VGltZSgpKSYmdGhpcy5fY2FwdHVyZShXKFcoe30scykse30se3R5cGU6XCJyYWdlY2xpY2tcIn0pKSx0aGlzLl9jYXB0dXJlKHMpfX1fb25Nb3VzZU1vdmUoZSl7IVZlKGUudGFyZ2V0KSYmQXMoZSkmJihjbGVhclRpbWVvdXQodGhpcy5fbW91c2VNb3ZlVGltZW91dCksdGhpcy5fbW91c2VNb3ZlVGltZW91dD1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuX2NhcHR1cmUodGhpcy5fZ2V0UHJvcGVydGllcyhlLFwibW91c2Vtb3ZlXCIpKX0pLDUwMCkpfV9jYXB0dXJlKGUpe2lmKHQpe3ZhciBpPXQubG9jYXRpb24uaHJlZjt0aGlzLmJ1ZmZlcj10aGlzLmJ1ZmZlcnx8e30sdGhpcy5idWZmZXJbaV18fCh0aGlzLmJ1ZmZlcltpXT1bXSksdGhpcy5idWZmZXJbaV0ucHVzaChlKX19Zmx1c2goKXt0aGlzLmJ1ZmZlciYmIUModGhpcy5idWZmZXIpJiZ0aGlzLmluc3RhbmNlLmNhcHR1cmUoXCIkJGhlYXRtYXBcIix7JGhlYXRtYXBfZGF0YTp0aGlzLmdldEFuZENsZWFyQnVmZmVyKCl9KX19Y2xhc3MgTXN7Y29uc3RydWN0b3IoZSl7dGhpcy5faW5zdGFuY2U9ZX1kb1BhZ2VWaWV3KGUsaSl7dmFyIHMscj10aGlzLl9wcmV2aW91c1BhZ2VWaWV3UHJvcGVydGllcyhlLGkpO3JldHVybiB0aGlzLl9jdXJyZW50UGFnZXZpZXc9e3BhdGhuYW1lOm51bGwhPT0ocz1udWxsPT10P3ZvaWQgMDp0LmxvY2F0aW9uLnBhdGhuYW1lKSYmdm9pZCAwIT09cz9zOlwiXCIscGFnZVZpZXdJZDppLHRpbWVzdGFtcDplfSx0aGlzLl9pbnN0YW5jZS5zY3JvbGxNYW5hZ2VyLnJlc2V0Q29udGV4dCgpLHJ9ZG9QYWdlTGVhdmUoZSl7dmFyIHQ7cmV0dXJuIHRoaXMuX3ByZXZpb3VzUGFnZVZpZXdQcm9wZXJ0aWVzKGUsbnVsbD09PSh0PXRoaXMuX2N1cnJlbnRQYWdldmlldyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQucGFnZVZpZXdJZCl9ZG9FdmVudCgpe3ZhciBlO3JldHVybnskcGFnZXZpZXdfaWQ6bnVsbD09PShlPXRoaXMuX2N1cnJlbnRQYWdldmlldyl8fHZvaWQgMD09PWU/dm9pZCAwOmUucGFnZVZpZXdJZH19X3ByZXZpb3VzUGFnZVZpZXdQcm9wZXJ0aWVzKGUsdCl7dmFyIGk9dGhpcy5fY3VycmVudFBhZ2V2aWV3O2lmKCFpKXJldHVybnskcGFnZXZpZXdfaWQ6dH07dmFyIHM9eyRwYWdldmlld19pZDp0LCRwcmV2X3BhZ2V2aWV3X2lkOmkucGFnZVZpZXdJZH0scj10aGlzLl9pbnN0YW5jZS5zY3JvbGxNYW5hZ2VyLmdldENvbnRleHQoKTtpZihyJiYhdGhpcy5faW5zdGFuY2UuY29uZmlnLmRpc2FibGVfc2Nyb2xsX3Byb3BlcnRpZXMpe3ZhcnttYXhTY3JvbGxIZWlnaHQ6bixsYXN0U2Nyb2xsWTpvLG1heFNjcm9sbFk6YSxtYXhDb250ZW50SGVpZ2h0OmwsbGFzdENvbnRlbnRZOmMsbWF4Q29udGVudFk6dX09cjtpZighKEYobil8fEYobyl8fEYoYSl8fEYobCl8fEYoYyl8fEYodSkpKXtuPU1hdGguY2VpbChuKSxvPU1hdGguY2VpbChvKSxhPU1hdGguY2VpbChhKSxsPU1hdGguY2VpbChsKSxjPU1hdGguY2VpbChjKSx1PU1hdGguY2VpbCh1KTt2YXIgZD1uPD0xPzE6d2koby9uLDAsMSksaD1uPD0xPzE6d2koYS9uLDAsMSksXz1sPD0xPzE6d2koYy9sLDAsMSkscD1sPD0xPzE6d2kodS9sLDAsMSk7cz1YKHMseyRwcmV2X3BhZ2V2aWV3X2xhc3Rfc2Nyb2xsOm8sJHByZXZfcGFnZXZpZXdfbGFzdF9zY3JvbGxfcGVyY2VudGFnZTpkLCRwcmV2X3BhZ2V2aWV3X21heF9zY3JvbGw6YSwkcHJldl9wYWdldmlld19tYXhfc2Nyb2xsX3BlcmNlbnRhZ2U6aCwkcHJldl9wYWdldmlld19sYXN0X2NvbnRlbnQ6YywkcHJldl9wYWdldmlld19sYXN0X2NvbnRlbnRfcGVyY2VudGFnZTpfLCRwcmV2X3BhZ2V2aWV3X21heF9jb250ZW50OnUsJHByZXZfcGFnZXZpZXdfbWF4X2NvbnRlbnRfcGVyY2VudGFnZTpwfSl9fXJldHVybiBpLnBhdGhuYW1lJiYocy4kcHJldl9wYWdldmlld19wYXRobmFtZT1pLnBhdGhuYW1lKSxpLnRpbWVzdGFtcCYmKHMuJHByZXZfcGFnZXZpZXdfZHVyYXRpb249KGUuZ2V0VGltZSgpLWkudGltZXN0YW1wLmdldFRpbWUoKSkvMWUzKSxzfX1jbGFzcyBMc3tjb25zdHJ1Y3RvcihlKXt0aGlzLmluc3RhbmNlPWV9c2VuZEV4Y2VwdGlvbkV2ZW50KGUpe3RoaXMuaW5zdGFuY2UuY2FwdHVyZShcIiRleGNlcHRpb25cIixlLHtfbm9UcnVuY2F0ZTohMCxfYmF0Y2hLZXk6XCJleGNlcHRpb25FdmVudFwifSl9fXZhciBEcyxxcz1IKFwiW0ZlYXR1cmVGbGFnc11cIiksTnM9XCIkYWN0aXZlX2ZlYXR1cmVfZmxhZ3NcIixCcz1cIiRvdmVycmlkZV9mZWF0dXJlX2ZsYWdzXCIsSHM9XCIkZmVhdHVyZV9mbGFnX3BheWxvYWRzXCIsVXM9XCIkb3ZlcnJpZGVfZmVhdHVyZV9mbGFnX3BheWxvYWRzXCIsenM9XCIkZmVhdHVyZV9mbGFnX3JlcXVlc3RfaWRcIixqcz1lPT57dmFyIHQ9e307Zm9yKHZhcltpLHNdb2YgWihlfHx7fSkpcyYmKHRbaV09cyk7cmV0dXJuIHR9OyFmdW5jdGlvbihlKXtlLkZlYXR1cmVGbGFncz1cImZlYXR1cmVfZmxhZ3NcIixlLlJlY29yZGluZ3M9XCJyZWNvcmRpbmdzXCJ9KERzfHwoRHM9e30pKTtjbGFzcyBXc3tjb25zdHJ1Y3RvcihlKXtWKHRoaXMsXCJfb3ZlcnJpZGVfd2FybmluZ1wiLCExKSxWKHRoaXMsXCJfaGFzTG9hZGVkRmxhZ3NcIiwhMSksVih0aGlzLFwiX3JlcXVlc3RJbkZsaWdodFwiLCExKSxWKHRoaXMsXCJfcmVsb2FkaW5nRGlzYWJsZWRcIiwhMSksVih0aGlzLFwiX2FkZGl0aW9uYWxSZWxvYWRSZXF1ZXN0ZWRcIiwhMSksVih0aGlzLFwiX2RlY2lkZUNhbGxlZFwiLCExKSxWKHRoaXMsXCJfZmxhZ3NMb2FkZWRGcm9tUmVtb3RlXCIsITEpLHRoaXMuaW5zdGFuY2U9ZSx0aGlzLmZlYXR1cmVGbGFnRXZlbnRIYW5kbGVycz1bXX1kZWNpZGUoKXtpZih0aGlzLmluc3RhbmNlLmNvbmZpZy5fX3ByZXZpZXdfcmVtb3RlX2NvbmZpZyl0aGlzLl9kZWNpZGVDYWxsZWQ9ITA7ZWxzZXt2YXIgZT0hdGhpcy5fcmVsb2FkRGVib3VuY2VyJiYodGhpcy5pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV9mZWF0dXJlX2ZsYWdzfHx0aGlzLmluc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX2ZlYXR1cmVfZmxhZ3Nfb25fZmlyc3RfbG9hZCk7dGhpcy5fY2FsbERlY2lkZUVuZHBvaW50KHtkaXNhYmxlRmxhZ3M6ZX0pfX1nZXQgaGFzTG9hZGVkRmxhZ3MoKXtyZXR1cm4gdGhpcy5faGFzTG9hZGVkRmxhZ3N9Z2V0RmxhZ3MoKXtyZXR1cm4gT2JqZWN0LmtleXModGhpcy5nZXRGbGFnVmFyaWFudHMoKSl9Z2V0RmxhZ1ZhcmlhbnRzKCl7dmFyIGU9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoRmUpLHQ9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoQnMpO2lmKCF0KXJldHVybiBlfHx7fTtmb3IodmFyIGk9WCh7fSxlKSxzPU9iamVjdC5rZXlzKHQpLHI9MDtyPHMubGVuZ3RoO3IrKylpW3Nbcl1dPXRbc1tyXV07cmV0dXJuIHRoaXMuX292ZXJyaWRlX3dhcm5pbmd8fChxcy53YXJuKFwiIE92ZXJyaWRpbmcgZmVhdHVyZSBmbGFncyFcIix7ZW5hYmxlZEZsYWdzOmUsb3ZlcnJpZGRlbkZsYWdzOnQsZmluYWxGbGFnczppfSksdGhpcy5fb3ZlcnJpZGVfd2FybmluZz0hMCksaX1nZXRGbGFnUGF5bG9hZHMoKXt2YXIgZT10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShIcyksdD10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShVcyk7aWYoIXQpcmV0dXJuIGV8fHt9O2Zvcih2YXIgaT1YKHt9LGV8fHt9KSxzPU9iamVjdC5rZXlzKHQpLHI9MDtyPHMubGVuZ3RoO3IrKylpW3Nbcl1dPXRbc1tyXV07cmV0dXJuIHRoaXMuX292ZXJyaWRlX3dhcm5pbmd8fChxcy53YXJuKFwiIE92ZXJyaWRpbmcgZmVhdHVyZSBmbGFnIHBheWxvYWRzIVwiLHtmbGFnUGF5bG9hZHM6ZSxvdmVycmlkZGVuUGF5bG9hZHM6dCxmaW5hbFBheWxvYWRzOml9KSx0aGlzLl9vdmVycmlkZV93YXJuaW5nPSEwKSxpfXJlbG9hZEZlYXR1cmVGbGFncygpe3RoaXMuX3JlbG9hZGluZ0Rpc2FibGVkfHx0aGlzLmluc3RhbmNlLmNvbmZpZy5hZHZhbmNlZF9kaXNhYmxlX2ZlYXR1cmVfZmxhZ3N8fHRoaXMuX3JlbG9hZERlYm91bmNlcnx8KHRoaXMuX3JlbG9hZERlYm91bmNlcj1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuX2NhbGxEZWNpZGVFbmRwb2ludCgpfSksNSkpfWNsZWFyRGVib3VuY2VyKCl7Y2xlYXJUaW1lb3V0KHRoaXMuX3JlbG9hZERlYm91bmNlciksdGhpcy5fcmVsb2FkRGVib3VuY2VyPXZvaWQgMH1lbnN1cmVGbGFnc0xvYWRlZCgpe3RoaXMuX2hhc0xvYWRlZEZsYWdzfHx0aGlzLl9yZXF1ZXN0SW5GbGlnaHR8fHRoaXMuX3JlbG9hZERlYm91bmNlcnx8dGhpcy5yZWxvYWRGZWF0dXJlRmxhZ3MoKX1zZXRBbm9ueW1vdXNEaXN0aW5jdElkKGUpe3RoaXMuJGFub25fZGlzdGluY3RfaWQ9ZX1zZXRSZWxvYWRpbmdQYXVzZWQoZSl7dGhpcy5fcmVsb2FkaW5nRGlzYWJsZWQ9ZX1fY2FsbERlY2lkZUVuZHBvaW50KHQpe3ZhciBpO2lmKHRoaXMuY2xlYXJEZWJvdW5jZXIoKSwhdGhpcy5pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV9kZWNpZGUpaWYodGhpcy5fcmVxdWVzdEluRmxpZ2h0KXRoaXMuX2FkZGl0aW9uYWxSZWxvYWRSZXF1ZXN0ZWQ9ITA7ZWxzZXt2YXIgcz17dG9rZW46dGhpcy5pbnN0YW5jZS5jb25maWcudG9rZW4sZGlzdGluY3RfaWQ6dGhpcy5pbnN0YW5jZS5nZXRfZGlzdGluY3RfaWQoKSxncm91cHM6dGhpcy5pbnN0YW5jZS5nZXRHcm91cHMoKSwkYW5vbl9kaXN0aW5jdF9pZDp0aGlzLiRhbm9uX2Rpc3RpbmN0X2lkLHBlcnNvbl9wcm9wZXJ0aWVzOlcoVyh7fSwobnVsbD09PShpPXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmdldF9pbml0aWFsX3Byb3BzKCkpfHx7fSksdGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoVGUpfHx7fSksZ3JvdXBfcHJvcGVydGllczp0aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eSgkZSl9OyhudWxsIT10JiZ0LmRpc2FibGVGbGFnc3x8dGhpcy5pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV9mZWF0dXJlX2ZsYWdzKSYmKHMuZGlzYWJsZV9mbGFncz0hMCksdGhpcy5fcmVxdWVzdEluRmxpZ2h0PSEwLHRoaXMuaW5zdGFuY2UuX3NlbmRfcmVxdWVzdCh7bWV0aG9kOlwiUE9TVFwiLHVybDp0aGlzLmluc3RhbmNlLnJlcXVlc3RSb3V0ZXIuZW5kcG9pbnRGb3IoXCJhcGlcIixcIi9kZWNpZGUvP3Y9M1wiKSxkYXRhOnMsY29tcHJlc3Npb246dGhpcy5pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9jb21wcmVzc2lvbj92b2lkIDA6ZS5CYXNlNjQsdGltZW91dDp0aGlzLmluc3RhbmNlLmNvbmZpZy5mZWF0dXJlX2ZsYWdfcmVxdWVzdF90aW1lb3V0X21zLGNhbGxiYWNrOmU9Pnt2YXIgdCxpLHIsbj0hMDsoMjAwPT09ZS5zdGF0dXNDb2RlJiYodGhpcy5fYWRkaXRpb25hbFJlbG9hZFJlcXVlc3RlZHx8KHRoaXMuJGFub25fZGlzdGluY3RfaWQ9dm9pZCAwKSxuPSExKSx0aGlzLl9yZXF1ZXN0SW5GbGlnaHQ9ITEsdGhpcy5fZGVjaWRlQ2FsbGVkKXx8KHRoaXMuX2RlY2lkZUNhbGxlZD0hMCx0aGlzLmluc3RhbmNlLl9vblJlbW90ZUNvbmZpZyhudWxsIT09KHI9ZS5qc29uKSYmdm9pZCAwIT09cj9yOnt9KSk7cy5kaXNhYmxlX2ZsYWdzJiYhdGhpcy5fYWRkaXRpb25hbFJlbG9hZFJlcXVlc3RlZHx8KHRoaXMuX2ZsYWdzTG9hZGVkRnJvbVJlbW90ZT0hbixlLmpzb24mJm51bGwhPT0odD1lLmpzb24ucXVvdGFMaW1pdGVkKSYmdm9pZCAwIT09dCYmdC5pbmNsdWRlcyhEcy5GZWF0dXJlRmxhZ3MpP3FzLndhcm4oXCJZb3UgaGF2ZSBoaXQgeW91ciBmZWF0dXJlIGZsYWdzIHF1b3RhIGxpbWl0LCBhbmQgd2lsbCBub3QgYmUgYWJsZSB0byBsb2FkIGZlYXR1cmUgZmxhZ3MgdW50aWwgdGhlIHF1b3RhIGlzIHJlc2V0LiAgUGxlYXNlIHZpc2l0IGh0dHBzOi8vcG9zdGhvZy5jb20vZG9jcy9iaWxsaW5nL2xpbWl0cy1hbGVydHMgdG8gbGVhcm4gbW9yZS5cIik6KHRoaXMucmVjZWl2ZWRGZWF0dXJlRmxhZ3MobnVsbCE9PShpPWUuanNvbikmJnZvaWQgMCE9PWk/aTp7fSxuKSx0aGlzLl9hZGRpdGlvbmFsUmVsb2FkUmVxdWVzdGVkJiYodGhpcy5fYWRkaXRpb25hbFJlbG9hZFJlcXVlc3RlZD0hMSx0aGlzLl9jYWxsRGVjaWRlRW5kcG9pbnQoKSkpKX19KX19Z2V0RmVhdHVyZUZsYWcoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9O2lmKHRoaXMuX2hhc0xvYWRlZEZsYWdzfHx0aGlzLmdldEZsYWdzKCkmJnRoaXMuZ2V0RmxhZ3MoKS5sZW5ndGg+MCl7dmFyIGkscyxyLG4sbyxhPXRoaXMuZ2V0RmxhZ1ZhcmlhbnRzKClbZV0sbD1cIlwiLmNvbmNhdChhKSxjPXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KHpzKXx8dm9pZCAwLHU9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoTWUpfHx7fTtpZih0LnNlbmRfZXZlbnR8fCEoXCJzZW5kX2V2ZW50XCJpbiB0KSlpZighKGUgaW4gdSl8fCF1W2VdLmluY2x1ZGVzKGwpKXgodVtlXSk/dVtlXS5wdXNoKGwpOnVbZV09W2xdLG51bGw9PT0oaT10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09aXx8aS5yZWdpc3Rlcih7W01lXTp1fSksdGhpcy5pbnN0YW5jZS5jYXB0dXJlKFwiJGZlYXR1cmVfZmxhZ19jYWxsZWRcIix7JGZlYXR1cmVfZmxhZzplLCRmZWF0dXJlX2ZsYWdfcmVzcG9uc2U6YSwkZmVhdHVyZV9mbGFnX3BheWxvYWQ6dGhpcy5nZXRGZWF0dXJlRmxhZ1BheWxvYWQoZSl8fG51bGwsJGZlYXR1cmVfZmxhZ19yZXF1ZXN0X2lkOmMsJGZlYXR1cmVfZmxhZ19ib290c3RyYXBwZWRfcmVzcG9uc2U6KG51bGw9PT0ocz10aGlzLmluc3RhbmNlLmNvbmZpZy5ib290c3RyYXApfHx2b2lkIDA9PT1zfHxudWxsPT09KHI9cy5mZWF0dXJlRmxhZ3MpfHx2b2lkIDA9PT1yP3ZvaWQgMDpyW2VdKXx8bnVsbCwkZmVhdHVyZV9mbGFnX2Jvb3RzdHJhcHBlZF9wYXlsb2FkOihudWxsPT09KG49dGhpcy5pbnN0YW5jZS5jb25maWcuYm9vdHN0cmFwKXx8dm9pZCAwPT09bnx8bnVsbD09PShvPW4uZmVhdHVyZUZsYWdQYXlsb2Fkcyl8fHZvaWQgMD09PW8/dm9pZCAwOm9bZV0pfHxudWxsLCR1c2VkX2Jvb3RzdHJhcF92YWx1ZTohdGhpcy5fZmxhZ3NMb2FkZWRGcm9tUmVtb3RlfSk7cmV0dXJuIGF9cXMud2FybignZ2V0RmVhdHVyZUZsYWcgZm9yIGtleSBcIicrZStcIlxcXCIgZmFpbGVkLiBGZWF0dXJlIGZsYWdzIGRpZG4ndCBsb2FkIGluIHRpbWUuXCIpfWdldEZlYXR1cmVGbGFnUGF5bG9hZChlKXtyZXR1cm4gdGhpcy5nZXRGbGFnUGF5bG9hZHMoKVtlXX1nZXRSZW1vdGVDb25maWdQYXlsb2FkKHQsaSl7dmFyIHM9dGhpcy5pbnN0YW5jZS5jb25maWcudG9rZW47dGhpcy5pbnN0YW5jZS5fc2VuZF9yZXF1ZXN0KHttZXRob2Q6XCJQT1NUXCIsdXJsOnRoaXMuaW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLFwiL2RlY2lkZS8/dj0zXCIpLGRhdGE6e2Rpc3RpbmN0X2lkOnRoaXMuaW5zdGFuY2UuZ2V0X2Rpc3RpbmN0X2lkKCksdG9rZW46c30sY29tcHJlc3Npb246dGhpcy5pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9jb21wcmVzc2lvbj92b2lkIDA6ZS5CYXNlNjQsdGltZW91dDp0aGlzLmluc3RhbmNlLmNvbmZpZy5mZWF0dXJlX2ZsYWdfcmVxdWVzdF90aW1lb3V0X21zLGNhbGxiYWNrOmU9Pnt2YXIgcyxyPW51bGw9PT0ocz1lLmpzb24pfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLmZlYXR1cmVGbGFnUGF5bG9hZHM7aSgobnVsbD09cj92b2lkIDA6clt0XSl8fHZvaWQgMCl9fSl9aXNGZWF0dXJlRW5hYmxlZChlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06e307aWYodGhpcy5faGFzTG9hZGVkRmxhZ3N8fHRoaXMuZ2V0RmxhZ3MoKSYmdGhpcy5nZXRGbGFncygpLmxlbmd0aD4wKXJldHVybiEhdGhpcy5nZXRGZWF0dXJlRmxhZyhlLHQpO3FzLndhcm4oJ2lzRmVhdHVyZUVuYWJsZWQgZm9yIGtleSBcIicrZStcIlxcXCIgZmFpbGVkLiBGZWF0dXJlIGZsYWdzIGRpZG4ndCBsb2FkIGluIHRpbWUuXCIpfWFkZEZlYXR1cmVGbGFnc0hhbmRsZXIoZSl7dGhpcy5mZWF0dXJlRmxhZ0V2ZW50SGFuZGxlcnMucHVzaChlKX1yZW1vdmVGZWF0dXJlRmxhZ3NIYW5kbGVyKGUpe3RoaXMuZmVhdHVyZUZsYWdFdmVudEhhbmRsZXJzPXRoaXMuZmVhdHVyZUZsYWdFdmVudEhhbmRsZXJzLmZpbHRlcigodD0+dCE9PWUpKX1yZWNlaXZlZEZlYXR1cmVGbGFncyhlLHQpe2lmKHRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2Upe3RoaXMuX2hhc0xvYWRlZEZsYWdzPSEwO3ZhciBpPXRoaXMuZ2V0RmxhZ1ZhcmlhbnRzKCkscz10aGlzLmdldEZsYWdQYXlsb2FkcygpOyFmdW5jdGlvbihlLHQpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MiYmdm9pZCAwIT09YXJndW1lbnRzWzJdP2FyZ3VtZW50c1syXTp7fSxzPWFyZ3VtZW50cy5sZW5ndGg+MyYmdm9pZCAwIT09YXJndW1lbnRzWzNdP2FyZ3VtZW50c1szXTp7fSxyPWUuZmVhdHVyZUZsYWdzLG49ZS5mZWF0dXJlRmxhZ1BheWxvYWRzLG89ZS5yZXF1ZXN0SWQ7aWYocilpZih4KHIpKXt2YXIgYT17fTtpZihyKWZvcih2YXIgbD0wO2w8ci5sZW5ndGg7bCsrKWFbcltsXV09ITA7dCYmdC5yZWdpc3Rlcih7W05zXTpyLFtGZV06YX0pfWVsc2V7dmFyIGM9cix1PW47ZS5lcnJvcnNXaGlsZUNvbXB1dGluZ0ZsYWdzJiYoYz1XKFcoe30saSksYyksdT1XKFcoe30scyksdSkpLHQmJnQucmVnaXN0ZXIoVyh7W05zXTpPYmplY3Qua2V5cyhqcyhjKSksW0ZlXTpjfHx7fSxbSHNdOnV8fHt9fSxvP3tbenNdOm99Ont9KSl9fShlLHRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UsaSxzKSx0aGlzLl9maXJlRmVhdHVyZUZsYWdzQ2FsbGJhY2tzKHQpfX1vdmVycmlkZShlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO3FzLndhcm4oXCJvdmVycmlkZSBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlIG92ZXJyaWRlRmVhdHVyZUZsYWdzIGluc3RlYWQuXCIpLHRoaXMub3ZlcnJpZGVGZWF0dXJlRmxhZ3Moe2ZsYWdzOmUsc3VwcHJlc3NXYXJuaW5nOnR9KX1vdmVycmlkZUZlYXR1cmVGbGFncyhlKXtpZighdGhpcy5pbnN0YW5jZS5fX2xvYWRlZHx8IXRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UpcmV0dXJuIHFzLnVuaW5pdGlhbGl6ZWRXYXJuaW5nKFwicG9zdGhvZy5mZWF0dXJlX2ZsYWdzLm92ZXJyaWRlRmVhdHVyZUZsYWdzXCIpO2lmKCExPT09ZSlyZXR1cm4gdGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZS51bnJlZ2lzdGVyKEJzKSx0aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLnVucmVnaXN0ZXIoVXMpLHZvaWQgdGhpcy5fZmlyZUZlYXR1cmVGbGFnc0NhbGxiYWNrcygpO2lmKGUmJlwib2JqZWN0XCI9PXR5cGVvZiBlJiYoXCJmbGFnc1wiaW4gZXx8XCJwYXlsb2Fkc1wiaW4gZSkpe3ZhciB0LGk9ZTtpZih0aGlzLl9vdmVycmlkZV93YXJuaW5nPUJvb2xlYW4obnVsbCE9PSh0PWkuc3VwcHJlc3NXYXJuaW5nKSYmdm9pZCAwIT09dCYmdCksXCJmbGFnc1wiaW4gaSlpZighMT09PWkuZmxhZ3MpdGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZS51bnJlZ2lzdGVyKEJzKTtlbHNlIGlmKGkuZmxhZ3MpaWYoeChpLmZsYWdzKSl7Zm9yKHZhciBzPXt9LHI9MDtyPGkuZmxhZ3MubGVuZ3RoO3IrKylzW2kuZmxhZ3Nbcl1dPSEwO3RoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tCc106c30pfWVsc2UgdGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W0JzXTppLmZsYWdzfSk7cmV0dXJuXCJwYXlsb2Fkc1wiaW4gaSYmKCExPT09aS5wYXlsb2Fkcz90aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlLnVucmVnaXN0ZXIoVXMpOmkucGF5bG9hZHMmJnRoaXMuaW5zdGFuY2UucGVyc2lzdGVuY2UucmVnaXN0ZXIoe1tVc106aS5wYXlsb2Fkc30pKSx2b2lkIHRoaXMuX2ZpcmVGZWF0dXJlRmxhZ3NDYWxsYmFja3MoKX10aGlzLl9maXJlRmVhdHVyZUZsYWdzQ2FsbGJhY2tzKCl9b25GZWF0dXJlRmxhZ3MoZSl7aWYodGhpcy5hZGRGZWF0dXJlRmxhZ3NIYW5kbGVyKGUpLHRoaXMuX2hhc0xvYWRlZEZsYWdzKXt2YXJ7ZmxhZ3M6dCxmbGFnVmFyaWFudHM6aX09dGhpcy5fcHJlcGFyZUZlYXR1cmVGbGFnc0ZvckNhbGxiYWNrcygpO2UodCxpKX1yZXR1cm4oKT0+dGhpcy5yZW1vdmVGZWF0dXJlRmxhZ3NIYW5kbGVyKGUpfXVwZGF0ZUVhcmx5QWNjZXNzRmVhdHVyZUVucm9sbG1lbnQoZSx0KXt2YXIgaSxzPSh0aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShSZSl8fFtdKS5maW5kKCh0PT50LmZsYWdLZXk9PT1lKSkscj17W1wiJGZlYXR1cmVfZW5yb2xsbWVudC9cIi5jb25jYXQoZSldOnR9LG49eyRmZWF0dXJlX2ZsYWc6ZSwkZmVhdHVyZV9lbnJvbGxtZW50OnQsJHNldDpyfTtzJiYobi4kZWFybHlfYWNjZXNzX2ZlYXR1cmVfbmFtZT1zLm5hbWUpLHRoaXMuaW5zdGFuY2UuY2FwdHVyZShcIiRmZWF0dXJlX2Vucm9sbG1lbnRfdXBkYXRlXCIsbiksdGhpcy5zZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3MociwhMSk7dmFyIG89VyhXKHt9LHRoaXMuZ2V0RmxhZ1ZhcmlhbnRzKCkpLHt9LHtbZV06dH0pO251bGw9PT0oaT10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09aXx8aS5yZWdpc3Rlcih7W05zXTpPYmplY3Qua2V5cyhqcyhvKSksW0ZlXTpvfSksdGhpcy5fZmlyZUZlYXR1cmVGbGFnc0NhbGxiYWNrcygpfWdldEVhcmx5QWNjZXNzRmVhdHVyZXMoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXSxpPWFyZ3VtZW50cy5sZW5ndGg+Mj9hcmd1bWVudHNbMl06dm9pZCAwLHM9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoUmUpLHI9aT9cIiZcIi5jb25jYXQoaS5tYXAoKGU9Plwic3RhZ2U9XCIuY29uY2F0KGUpKSkuam9pbihcIiZcIikpOlwiXCI7aWYocyYmIXQpcmV0dXJuIGUocyk7dGhpcy5pbnN0YW5jZS5fc2VuZF9yZXF1ZXN0KHt1cmw6dGhpcy5pbnN0YW5jZS5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwiYXBpXCIsXCIvYXBpL2Vhcmx5X2FjY2Vzc19mZWF0dXJlcy8/dG9rZW49XCIuY29uY2F0KHRoaXMuaW5zdGFuY2UuY29uZmlnLnRva2VuKS5jb25jYXQocikpLG1ldGhvZDpcIkdFVFwiLGNhbGxiYWNrOnQ9Pnt2YXIgaTtpZih0Lmpzb24pe3ZhciBzPXQuanNvbi5lYXJseUFjY2Vzc0ZlYXR1cmVzO3JldHVybiBudWxsPT09KGk9dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWl8fGkucmVnaXN0ZXIoe1tSZV06c30pLGUocyl9fX0pfV9wcmVwYXJlRmVhdHVyZUZsYWdzRm9yQ2FsbGJhY2tzKCl7dmFyIGU9dGhpcy5nZXRGbGFncygpLHQ9dGhpcy5nZXRGbGFnVmFyaWFudHMoKTtyZXR1cm57ZmxhZ3M6ZS5maWx0ZXIoKGU9PnRbZV0pKSxmbGFnVmFyaWFudHM6T2JqZWN0LmtleXModCkuZmlsdGVyKChlPT50W2VdKSkucmVkdWNlKCgoZSxpKT0+KGVbaV09dFtpXSxlKSkse30pfX1fZmlyZUZlYXR1cmVGbGFnc0NhbGxiYWNrcyhlKXt2YXJ7ZmxhZ3M6dCxmbGFnVmFyaWFudHM6aX09dGhpcy5fcHJlcGFyZUZlYXR1cmVGbGFnc0ZvckNhbGxiYWNrcygpO3RoaXMuZmVhdHVyZUZsYWdFdmVudEhhbmRsZXJzLmZvckVhY2goKHM9PnModCxpLHtlcnJvcnNMb2FkaW5nOmV9KSkpfXNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncyhlKXt2YXIgdD0hKGFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdKXx8YXJndW1lbnRzWzFdLGk9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoVGUpfHx7fTt0aGlzLmluc3RhbmNlLnJlZ2lzdGVyKHtbVGVdOlcoVyh7fSxpKSxlKX0pLHQmJnRoaXMuaW5zdGFuY2UucmVsb2FkRmVhdHVyZUZsYWdzKCl9cmVzZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3MoKXt0aGlzLmluc3RhbmNlLnVucmVnaXN0ZXIoVGUpfXNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKGUpe3ZhciB0PSEoYXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0pfHxhcmd1bWVudHNbMV0saT10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eSgkZSl8fHt9OzAhPT1PYmplY3Qua2V5cyhpKS5sZW5ndGgmJk9iamVjdC5rZXlzKGkpLmZvckVhY2goKHQ9PntpW3RdPVcoVyh7fSxpW3RdKSxlW3RdKSxkZWxldGUgZVt0XX0pKSx0aGlzLmluc3RhbmNlLnJlZ2lzdGVyKHtbJGVdOlcoVyh7fSxpKSxlKX0pLHQmJnRoaXMuaW5zdGFuY2UucmVsb2FkRmVhdHVyZUZsYWdzKCl9cmVzZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyhlKXtpZihlKXt2YXIgdD10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eSgkZSl8fHt9O3RoaXMuaW5zdGFuY2UucmVnaXN0ZXIoe1skZV06VyhXKHt9LHQpLHt9LHtbZV06e319KX0pfWVsc2UgdGhpcy5pbnN0YW5jZS51bnJlZ2lzdGVyKCRlKX19dmFyIFZzPVwiTW9iaWxlXCIsR3M9XCJpT1NcIixKcz1cIkFuZHJvaWRcIixZcz1cIlRhYmxldFwiLEtzPUpzK1wiIFwiK1lzLFhzPVwiaVBhZFwiLFFzPVwiQXBwbGVcIixacz1RcytcIiBXYXRjaFwiLGVyPVwiU2FmYXJpXCIsdHI9XCJCbGFja0JlcnJ5XCIsaXI9XCJTYW1zdW5nXCIsc3I9aXIrXCJCcm93c2VyXCIscnI9aXIrXCIgSW50ZXJuZXRcIixucj1cIkNocm9tZVwiLG9yPW5yK1wiIE9TXCIsYXI9bnIrXCIgXCIrR3MsbHI9XCJJbnRlcm5ldCBFeHBsb3JlclwiLGNyPWxyK1wiIFwiK1ZzLHVyPVwiT3BlcmFcIixkcj11citcIiBNaW5pXCIsaHI9XCJFZGdlXCIsX3I9XCJNaWNyb3NvZnQgXCIraHIscHI9XCJGaXJlZm94XCIsZ3I9cHIrXCIgXCIrR3MsdnI9XCJOaW50ZW5kb1wiLGZyPVwiUGxheVN0YXRpb25cIixtcj1cIlhib3hcIix5cj1KcytcIiBcIitWcyxicj1WcytcIiBcIitlcix3cj1cIldpbmRvd3NcIixTcj13citcIiBQaG9uZVwiLGtyPVwiTm9raWFcIixFcj1cIk91eWFcIix4cj1cIkdlbmVyaWNcIixJcj14citcIiBcIitWcy50b0xvd2VyQ2FzZSgpLFByPXhyK1wiIFwiK1lzLnRvTG93ZXJDYXNlKCksQ3I9XCJLb25xdWVyb3JcIixGcj1cIihcXFxcZCsoXFxcXC5cXFxcZCspPylcIixScj1uZXcgUmVnRXhwKFwiVmVyc2lvbi9cIitGciksVHI9bmV3IFJlZ0V4cChtcixcImlcIiksJHI9bmV3IFJlZ0V4cChmcitcIiBcXFxcdytcIixcImlcIiksQXI9bmV3IFJlZ0V4cCh2citcIiBcXFxcdytcIixcImlcIiksT3I9bmV3IFJlZ0V4cCh0citcInxQbGF5Qm9va3xCQjEwXCIsXCJpXCIpLE1yPXtcIk5UMy41MVwiOlwiTlQgMy4xMVwiLFwiTlQ0LjBcIjpcIk5UIDQuMFwiLFwiNS4wXCI6XCIyMDAwXCIsNS4xOlwiWFBcIiw1LjI6XCJYUFwiLFwiNi4wXCI6XCJWaXN0YVwiLDYuMTpcIjdcIiw2LjI6XCI4XCIsNi4zOlwiOC4xXCIsNi40OlwiMTBcIixcIjEwLjBcIjpcIjEwXCJ9O3ZhciBMcj0oZSx0KT0+dCYmbSh0LFFzKXx8ZnVuY3Rpb24oZSl7cmV0dXJuIG0oZSxlcikmJiFtKGUsbnIpJiYhbShlLEpzKX0oZSksRHI9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHxcIlwiLG0oZSxcIiBPUFIvXCIpJiZtKGUsXCJNaW5pXCIpP2RyOm0oZSxcIiBPUFIvXCIpP3VyOk9yLnRlc3QoZSk/dHI6bShlLFwiSUVcIitWcyl8fG0oZSxcIldQRGVza3RvcFwiKT9jcjptKGUsc3IpP3JyOm0oZSxocil8fG0oZSxcIkVkZy9cIik/X3I6bShlLFwiRkJJT1NcIik/XCJGYWNlYm9vayBcIitWczptKGUsXCJVQ1dFQlwiKXx8bShlLFwiVUNCcm93c2VyXCIpP1wiVUMgQnJvd3NlclwiOm0oZSxcIkNyaU9TXCIpP2FyOm0oZSxcIkNyTW9cIil8fG0oZSxucik/bnI6bShlLEpzKSYmbShlLGVyKT95cjptKGUsXCJGeGlPU1wiKT9ncjptKGUudG9Mb3dlckNhc2UoKSxDci50b0xvd2VyQ2FzZSgpKT9DcjpMcihlLHQpP20oZSxWcyk/YnI6ZXI6bShlLHByKT9wcjptKGUsXCJNU0lFXCIpfHxtKGUsXCJUcmlkZW50L1wiKT9scjptKGUsXCJHZWNrb1wiKT9wcjpcIlwifSxxcj17W2NyXTpbbmV3IFJlZ0V4cChcInJ2OlwiK0ZyKV0sW19yXTpbbmV3IFJlZ0V4cChocitcIj9cXFxcL1wiK0ZyKV0sW25yXTpbbmV3IFJlZ0V4cChcIihcIitucitcInxDck1vKVxcXFwvXCIrRnIpXSxbYXJdOltuZXcgUmVnRXhwKFwiQ3JpT1NcXFxcL1wiK0ZyKV0sXCJVQyBCcm93c2VyXCI6W25ldyBSZWdFeHAoXCIoVUNCcm93c2VyfFVDV0VCKVxcXFwvXCIrRnIpXSxbZXJdOltScl0sW2JyXTpbUnJdLFt1cl06W25ldyBSZWdFeHAoXCIoT3BlcmF8T1BSKVxcXFwvXCIrRnIpXSxbcHJdOltuZXcgUmVnRXhwKHByK1wiXFxcXC9cIitGcildLFtncl06W25ldyBSZWdFeHAoXCJGeGlPU1xcXFwvXCIrRnIpXSxbQ3JdOltuZXcgUmVnRXhwKFwiS29ucXVlcm9yWzovXT9cIitGcixcImlcIildLFt0cl06W25ldyBSZWdFeHAodHIrXCIgXCIrRnIpLFJyXSxbeXJdOltuZXcgUmVnRXhwKFwiYW5kcm9pZFxcXFxzXCIrRnIsXCJpXCIpXSxbcnJdOltuZXcgUmVnRXhwKHNyK1wiXFxcXC9cIitGcildLFtscl06W25ldyBSZWdFeHAoXCIocnY6fE1TSUUgKVwiK0ZyKV0sTW96aWxsYTpbbmV3IFJlZ0V4cChcInJ2OlwiK0ZyKV19LE5yPVtbbmV3IFJlZ0V4cChtcitcIjsgXCIrbXIrXCIgKC4qPylbKTtdXCIsXCJpXCIpLGU9PlttcixlJiZlWzFdfHxcIlwiXV0sW25ldyBSZWdFeHAodnIsXCJpXCIpLFt2cixcIlwiXV0sW25ldyBSZWdFeHAoZnIsXCJpXCIpLFtmcixcIlwiXV0sW09yLFt0cixcIlwiXV0sW25ldyBSZWdFeHAod3IsXCJpXCIpLChlLHQpPT57aWYoL1Bob25lLy50ZXN0KHQpfHwvV1BEZXNrdG9wLy50ZXN0KHQpKXJldHVybltTcixcIlwiXTtpZihuZXcgUmVnRXhwKFZzKS50ZXN0KHQpJiYhL0lFTW9iaWxlXFxiLy50ZXN0KHQpKXJldHVyblt3citcIiBcIitWcyxcIlwiXTt2YXIgaT0vV2luZG93cyBOVCAoWzAtOS5dKykvaS5leGVjKHQpO2lmKGkmJmlbMV0pe3ZhciBzPWlbMV0scj1NcltzXXx8XCJcIjtyZXR1cm4vYXJtL2kudGVzdCh0KSYmKHI9XCJSVFwiKSxbd3Iscl19cmV0dXJuW3dyLFwiXCJdfV0sWy8oKGlQaG9uZXxpUGFkfGlQb2QpLio/T1MgKFxcZCspXyhcXGQrKV8/KFxcZCspP3xpUGhvbmUpLyxlPT57aWYoZSYmZVszXSl7dmFyIHQ9W2VbM10sZVs0XSxlWzVdfHxcIjBcIl07cmV0dXJuW0dzLHQuam9pbihcIi5cIildfXJldHVybltHcyxcIlwiXX1dLFsvKHdhdGNoLipcXC8oXFxkK1xcLlxcZCtcXC5cXGQrKXx3YXRjaCBvcywoXFxkK1xcLlxcZCspLCkvaSxlPT57dmFyIHQ9XCJcIjtyZXR1cm4gZSYmZS5sZW5ndGg+PTMmJih0PUYoZVsyXSk/ZVszXTplWzJdKSxbXCJ3YXRjaE9TXCIsdF19XSxbbmV3IFJlZ0V4cChcIihcIitKcytcIiAoXFxcXGQrKVxcXFwuKFxcXFxkKylcXFxcLj8oXFxcXGQrKT98XCIrSnMrXCIpXCIsXCJpXCIpLGU9PntpZihlJiZlWzJdKXt2YXIgdD1bZVsyXSxlWzNdLGVbNF18fFwiMFwiXTtyZXR1cm5bSnMsdC5qb2luKFwiLlwiKV19cmV0dXJuW0pzLFwiXCJdfV0sWy9NYWMgT1MgWCAoXFxkKylbXy5dKFxcZCspW18uXT8oXFxkKyk/L2ksZT0+e3ZhciB0PVtcIk1hYyBPUyBYXCIsXCJcIl07aWYoZSYmZVsxXSl7dmFyIGk9W2VbMV0sZVsyXSxlWzNdfHxcIjBcIl07dFsxXT1pLmpvaW4oXCIuXCIpfXJldHVybiB0fV0sWy9NYWMvaSxbXCJNYWMgT1MgWFwiLFwiXCJdXSxbL0NyT1MvLFtvcixcIlwiXV0sWy9MaW51eHxkZWJpYW4vaSxbXCJMaW51eFwiLFwiXCJdXV0sQnI9ZnVuY3Rpb24oZSl7cmV0dXJuIEFyLnRlc3QoZSk/dnI6JHIudGVzdChlKT9mcjpUci50ZXN0KGUpP21yOm5ldyBSZWdFeHAoRXIsXCJpXCIpLnRlc3QoZSk/RXI6bmV3IFJlZ0V4cChcIihcIitTcitcInxXUERlc2t0b3ApXCIsXCJpXCIpLnRlc3QoZSk/U3I6L2lQYWQvLnRlc3QoZSk/WHM6L2lQb2QvLnRlc3QoZSk/XCJpUG9kIFRvdWNoXCI6L2lQaG9uZS8udGVzdChlKT9cImlQaG9uZVwiOi8od2F0Y2gpKD86ID9vc1ssL118XFxkLFxcZFxcLylbXFxkLl0rL2kudGVzdChlKT9aczpPci50ZXN0KGUpP3RyOi8oa29ibylcXHMoZXJlYWRlcnx0b3VjaCkvaS50ZXN0KGUpP1wiS29ib1wiOm5ldyBSZWdFeHAoa3IsXCJpXCIpLnRlc3QoZSk/a3I6LyhrZlthLXpdezJ9d2l8YWVvW2Mtcl17Mn0pKCBidWl8XFwpKS9pLnRlc3QoZSl8fC8oa2ZbYS16XSspKCBidWl8XFwpKS4rc2lsa1xcLy9pLnRlc3QoZSk/XCJLaW5kbGUgRmlyZVwiOi8oQW5kcm9pZHxaVEUpL2kudGVzdChlKT8hbmV3IFJlZ0V4cChWcykudGVzdChlKXx8Lyg5MTM4QnxUQjc4MkJ8TmV4dXMgWzk3XXxwaXhlbCBjfEhVQVdFSVNIVHxCVFZ8bm9ibGUgbm9va3xzbWFydCB1bHRyYSA2KS9pLnRlc3QoZSk/L3BpeGVsW1xcZGF4bCBdezEsNn0vaS50ZXN0KGUpJiYhL3BpeGVsIGMvaS50ZXN0KGUpfHwvKGh1YXdlaW1lZC1hbDAwfHRhaC18QVBBfFNNLUc5MnxpOTgwfHp0ZXxVMzA0QUEpL2kudGVzdChlKXx8L2xteTQ3di9pLnRlc3QoZSkmJiEvUVRBUVozL2kudGVzdChlKT9KczpLczpKczpuZXcgUmVnRXhwKFwiKHBkYXxcIitWcytcIilcIixcImlcIikudGVzdChlKT9JcjpuZXcgUmVnRXhwKFlzLFwiaVwiKS50ZXN0KGUpJiYhbmV3IFJlZ0V4cChZcytcIiBwY1wiLFwiaVwiKS50ZXN0KGUpP1ByOlwiXCJ9LEhyPVwiaHR0cHM/Oi8vKC4qKVwiLFVyPVtcImdjbGlkXCIsXCJnY2xzcmNcIixcImRjbGlkXCIsXCJnYnJhaWRcIixcIndicmFpZFwiLFwiZmJjbGlkXCIsXCJtc2Nsa2lkXCIsXCJ0d2NsaWRcIixcImxpX2ZhdF9pZFwiLFwiaWdzaGlkXCIsXCJ0dGNsaWRcIixcInJkdF9jaWRcIixcImlyY2xpZFwiLFwiX2t4XCJdLHpyPVEoW1widXRtX3NvdXJjZVwiLFwidXRtX21lZGl1bVwiLFwidXRtX2NhbXBhaWduXCIsXCJ1dG1fY29udGVudFwiLFwidXRtX3Rlcm1cIixcImdhZF9zb3VyY2VcIixcIm1jX2NpZFwiXSxVciksanI9XCI8bWFza2VkPlwiLFdyPXtjYW1wYWlnblBhcmFtczpmdW5jdGlvbigpe3ZhcntjdXN0b21UcmFja2VkUGFyYW1zOmUsbWFza1BlcnNvbmFsRGF0YVByb3BlcnRpZXM6dCxjdXN0b21QZXJzb25hbERhdGFQcm9wZXJ0aWVzOml9PWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdP2FyZ3VtZW50c1swXTp7fTtpZighYSlyZXR1cm57fTt2YXIgcz10P1EoW10sVXIsaXx8W10pOltdO3JldHVybiB0aGlzLl9jYW1wYWlnblBhcmFtc0Zyb21VcmwoeHQoYS5VUkwscyxqciksZSl9LF9jYW1wYWlnblBhcmFtc0Zyb21Vcmw6ZnVuY3Rpb24oZSx0KXt2YXIgaT16ci5jb25jYXQodHx8W10pLHM9e307cmV0dXJuIEsoaSwoZnVuY3Rpb24odCl7dmFyIGk9RXQoZSx0KTtzW3RdPWl8fG51bGx9KSksc30sX3NlYXJjaEVuZ2luZTpmdW5jdGlvbihlKXtyZXR1cm4gZT8wPT09ZS5zZWFyY2goSHIrXCJnb29nbGUuKFteLz9dKilcIik/XCJnb29nbGVcIjowPT09ZS5zZWFyY2goSHIrXCJiaW5nLmNvbVwiKT9cImJpbmdcIjowPT09ZS5zZWFyY2goSHIrXCJ5YWhvby5jb21cIik/XCJ5YWhvb1wiOjA9PT1lLnNlYXJjaChIcitcImR1Y2tkdWNrZ28uY29tXCIpP1wiZHVja2R1Y2tnb1wiOm51bGw6bnVsbH0sX3NlYXJjaEluZm9Gcm9tUmVmZXJyZXI6ZnVuY3Rpb24oZSl7dmFyIHQ9V3IuX3NlYXJjaEVuZ2luZShlKSxpPVwieWFob29cIiE9dD9cInFcIjpcInBcIixzPXt9O2lmKCEkKHQpKXtzLiRzZWFyY2hfZW5naW5lPXQ7dmFyIHI9YT9FdChhLnJlZmVycmVyLGkpOlwiXCI7ci5sZW5ndGgmJihzLnBoX2tleXdvcmQ9cil9cmV0dXJuIHN9LHNlYXJjaEluZm86ZnVuY3Rpb24oKXt2YXIgZT1udWxsPT1hP3ZvaWQgMDphLnJlZmVycmVyO3JldHVybiBlP3RoaXMuX3NlYXJjaEluZm9Gcm9tUmVmZXJyZXIoZSk6e319LGJyb3dzZXI6RHIsYnJvd3NlclZlcnNpb246ZnVuY3Rpb24oZSx0KXt2YXIgaT1EcihlLHQpLHM9cXJbaV07aWYoRihzKSlyZXR1cm4gbnVsbDtmb3IodmFyIHI9MDtyPHMubGVuZ3RoO3IrKyl7dmFyIG49c1tyXSxvPWUubWF0Y2gobik7aWYobylyZXR1cm4gcGFyc2VGbG9hdChvW28ubGVuZ3RoLTJdKX1yZXR1cm4gbnVsbH0sYnJvd3Nlckxhbmd1YWdlOmZ1bmN0aW9uKCl7cmV0dXJuIG5hdmlnYXRvci5sYW5ndWFnZXx8bmF2aWdhdG9yLnVzZXJMYW5ndWFnZX0sYnJvd3Nlckxhbmd1YWdlUHJlZml4OmZ1bmN0aW9uKCl7dmFyIGU9dGhpcy5icm93c2VyTGFuZ3VhZ2UoKTtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgZT9lLnNwbGl0KFwiLVwiKVswXTp2b2lkIDB9LG9zOmZ1bmN0aW9uKGUpe2Zvcih2YXIgdD0wO3Q8TnIubGVuZ3RoO3QrKyl7dmFyW2ksc109TnJbdF0scj1pLmV4ZWMoZSksbj1yJiYoSShzKT9zKHIsZSk6cyk7aWYobilyZXR1cm4gbn1yZXR1cm5bXCJcIixcIlwiXX0sZGV2aWNlOkJyLGRldmljZVR5cGU6ZnVuY3Rpb24oZSl7dmFyIHQ9QnIoZSk7cmV0dXJuIHQ9PT1Yc3x8dD09PUtzfHxcIktvYm9cIj09PXR8fFwiS2luZGxlIEZpcmVcIj09PXR8fHQ9PT1Qcj9Zczp0PT09dnJ8fHQ9PT1tcnx8dD09PWZyfHx0PT09RXI/XCJDb25zb2xlXCI6dD09PVpzP1wiV2VhcmFibGVcIjp0P1ZzOlwiRGVza3RvcFwifSxyZWZlcnJlcjpmdW5jdGlvbigpe3JldHVybihudWxsPT1hP3ZvaWQgMDphLnJlZmVycmVyKXx8XCIkZGlyZWN0XCJ9LHJlZmVycmluZ0RvbWFpbjpmdW5jdGlvbigpe3ZhciBlO3JldHVybiBudWxsIT1hJiZhLnJlZmVycmVyJiYobnVsbD09PShlPVN0KGEucmVmZXJyZXIpKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5ob3N0KXx8XCIkZGlyZWN0XCJ9LHJlZmVycmVySW5mbzpmdW5jdGlvbigpe3JldHVybnskcmVmZXJyZXI6dGhpcy5yZWZlcnJlcigpLCRyZWZlcnJpbmdfZG9tYWluOnRoaXMucmVmZXJyaW5nRG9tYWluKCl9fSxwZXJzb25JbmZvOmZ1bmN0aW9uKCl7dmFye21hc2tQZXJzb25hbERhdGFQcm9wZXJ0aWVzOmUsY3VzdG9tUGVyc29uYWxEYXRhUHJvcGVydGllczp0fT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXT9hcmd1bWVudHNbMF06e30saT1lP1EoW10sVXIsdHx8W10pOltdLHM9bnVsbD09bD92b2lkIDA6bC5ocmVmLnN1YnN0cmluZygwLDFlMyk7cmV0dXJue3I6dGhpcy5yZWZlcnJlcigpLnN1YnN0cmluZygwLDFlMyksdTpzP3h0KHMsaSxqcik6dm9pZCAwfX0scGVyc29uUHJvcHNGcm9tSW5mbzpmdW5jdGlvbihlKXt2YXIgdCx7cjppLHU6c309ZSxyPXskcmVmZXJyZXI6aSwkcmVmZXJyaW5nX2RvbWFpbjpudWxsPT1pP3ZvaWQgMDpcIiRkaXJlY3RcIj09aT9cIiRkaXJlY3RcIjpudWxsPT09KHQ9U3QoaSkpfHx2b2lkIDA9PT10P3ZvaWQgMDp0Lmhvc3R9O2lmKHMpe3IuJGN1cnJlbnRfdXJsPXM7dmFyIG49U3Qocyk7ci4kaG9zdD1udWxsPT1uP3ZvaWQgMDpuLmhvc3Qsci4kcGF0aG5hbWU9bnVsbD09bj92b2lkIDA6bi5wYXRobmFtZTt2YXIgbz10aGlzLl9jYW1wYWlnblBhcmFtc0Zyb21Vcmwocyk7WChyLG8pfWlmKGkpe3ZhciBhPXRoaXMuX3NlYXJjaEluZm9Gcm9tUmVmZXJyZXIoaSk7WChyLGEpfXJldHVybiByfSxpbml0aWFsUGVyc29uUHJvcHNGcm9tSW5mbzpmdW5jdGlvbihlKXt2YXIgdD10aGlzLnBlcnNvblByb3BzRnJvbUluZm8oZSksaT17fTtyZXR1cm4gSyh0LChmdW5jdGlvbihlLHQpe2lbXCIkaW5pdGlhbF9cIi5jb25jYXQoYih0KSldPWV9KSksaX0sdGltZXpvbmU6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIEludGwuRGF0ZVRpbWVGb3JtYXQoKS5yZXNvbHZlZE9wdGlvbnMoKS50aW1lWm9uZX1jYXRjaChlKXtyZXR1cm59fSx0aW1lem9uZU9mZnNldDpmdW5jdGlvbigpe3RyeXtyZXR1cm4obmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCl9Y2F0Y2goZSl7cmV0dXJufX0scHJvcGVydGllczpmdW5jdGlvbigpe3ZhcnttYXNrUGVyc29uYWxEYXRhUHJvcGVydGllczplLGN1c3RvbVBlcnNvbmFsRGF0YVByb3BlcnRpZXM6aX09YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0/YXJndW1lbnRzWzBdOnt9O2lmKCFoKXJldHVybnt9O3ZhciBzPWU/UShbXSxVcixpfHxbXSk6W10sW3Isbl09V3Iub3MoaCk7cmV0dXJuIFgoaWUoeyRvczpyLCRvc192ZXJzaW9uOm4sJGJyb3dzZXI6V3IuYnJvd3NlcihoLG5hdmlnYXRvci52ZW5kb3IpLCRkZXZpY2U6V3IuZGV2aWNlKGgpLCRkZXZpY2VfdHlwZTpXci5kZXZpY2VUeXBlKGgpLCR0aW1lem9uZTpXci50aW1lem9uZSgpLCR0aW1lem9uZV9vZmZzZXQ6V3IudGltZXpvbmVPZmZzZXQoKX0pLHskY3VycmVudF91cmw6eHQobnVsbD09bD92b2lkIDA6bC5ocmVmLHMsanIpLCRob3N0Om51bGw9PWw/dm9pZCAwOmwuaG9zdCwkcGF0aG5hbWU6bnVsbD09bD92b2lkIDA6bC5wYXRobmFtZSwkcmF3X3VzZXJfYWdlbnQ6aC5sZW5ndGg+MWUzP2guc3Vic3RyaW5nKDAsOTk3KStcIi4uLlwiOmgsJGJyb3dzZXJfdmVyc2lvbjpXci5icm93c2VyVmVyc2lvbihoLG5hdmlnYXRvci52ZW5kb3IpLCRicm93c2VyX2xhbmd1YWdlOldyLmJyb3dzZXJMYW5ndWFnZSgpLCRicm93c2VyX2xhbmd1YWdlX3ByZWZpeDpXci5icm93c2VyTGFuZ3VhZ2VQcmVmaXgoKSwkc2NyZWVuX2hlaWdodDpudWxsPT10P3ZvaWQgMDp0LnNjcmVlbi5oZWlnaHQsJHNjcmVlbl93aWR0aDpudWxsPT10P3ZvaWQgMDp0LnNjcmVlbi53aWR0aCwkdmlld3BvcnRfaGVpZ2h0Om51bGw9PXQ/dm9pZCAwOnQuaW5uZXJIZWlnaHQsJHZpZXdwb3J0X3dpZHRoOm51bGw9PXQ/dm9pZCAwOnQuaW5uZXJXaWR0aCwkbGliOlwid2ViXCIsJGxpYl92ZXJzaW9uOnAuTElCX1ZFUlNJT04sJGluc2VydF9pZDpNYXRoLnJhbmRvbSgpLnRvU3RyaW5nKDM2KS5zdWJzdHJpbmcoMiwxMCkrTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc3Vic3RyaW5nKDIsMTApLCR0aW1lOkRhdGUubm93KCkvMWUzfSl9LHBlb3BsZV9wcm9wZXJ0aWVzOmZ1bmN0aW9uKCl7aWYoIWgpcmV0dXJue307dmFyW2UsdF09V3Iub3MoaCk7cmV0dXJuIFgoaWUoeyRvczplLCRvc192ZXJzaW9uOnQsJGJyb3dzZXI6V3IuYnJvd3NlcihoLG5hdmlnYXRvci52ZW5kb3IpfSkseyRicm93c2VyX3ZlcnNpb246V3IuYnJvd3NlclZlcnNpb24oaCxuYXZpZ2F0b3IudmVuZG9yKX0pfX0sVnI9W1wiY29va2llXCIsXCJsb2NhbHN0b3JhZ2VcIixcImxvY2Fsc3RvcmFnZStjb29raWVcIixcInNlc3Npb25zdG9yYWdlXCIsXCJtZW1vcnlcIl07Y2xhc3MgR3J7Y29uc3RydWN0b3IoZSl7dGhpcy5jb25maWc9ZSx0aGlzLnByb3BzPXt9LHRoaXMuY2FtcGFpZ25fcGFyYW1zX3NhdmVkPSExLHRoaXMubmFtZT0oZT0+e3ZhciB0PVwiXCI7cmV0dXJuIGUudG9rZW4mJih0PWUudG9rZW4ucmVwbGFjZSgvXFwrL2csXCJQTFwiKS5yZXBsYWNlKC9cXC8vZyxcIlNMXCIpLnJlcGxhY2UoLz0vZyxcIkVRXCIpKSxlLnBlcnNpc3RlbmNlX25hbWU/XCJwaF9cIitlLnBlcnNpc3RlbmNlX25hbWU6XCJwaF9cIit0K1wiX3Bvc3Rob2dcIn0pKGUpLHRoaXMuc3RvcmFnZT10aGlzLmJ1aWxkU3RvcmFnZShlKSx0aGlzLmxvYWQoKSxlLmRlYnVnJiZCLmluZm8oXCJQZXJzaXN0ZW5jZSBsb2FkZWRcIixlLnBlcnNpc3RlbmNlLFcoe30sdGhpcy5wcm9wcykpLHRoaXMudXBkYXRlX2NvbmZpZyhlLGUpLHRoaXMuc2F2ZSgpfWJ1aWxkU3RvcmFnZShlKXstMT09PVZyLmluZGV4T2YoZS5wZXJzaXN0ZW5jZS50b0xvd2VyQ2FzZSgpKSYmKEIuY3JpdGljYWwoXCJVbmtub3duIHBlcnNpc3RlbmNlIHR5cGUgXCIrZS5wZXJzaXN0ZW5jZStcIjsgZmFsbGluZyBiYWNrIHRvIGxvY2FsU3RvcmFnZStjb29raWVcIiksZS5wZXJzaXN0ZW5jZT1cImxvY2FsU3RvcmFnZStjb29raWVcIik7dmFyIHQ9ZS5wZXJzaXN0ZW5jZS50b0xvd2VyQ2FzZSgpO3JldHVyblwibG9jYWxzdG9yYWdlXCI9PT10JiZKdC5pc19zdXBwb3J0ZWQoKT9KdDpcImxvY2Fsc3RvcmFnZStjb29raWVcIj09PXQmJkt0LmlzX3N1cHBvcnRlZCgpP0t0Olwic2Vzc2lvbnN0b3JhZ2VcIj09PXQmJmVpLmlzX3N1cHBvcnRlZCgpP2VpOlwibWVtb3J5XCI9PT10P1F0OlwiY29va2llXCI9PT10P1Z0Okt0LmlzX3N1cHBvcnRlZCgpP0t0OlZ0fXByb3BlcnRpZXMoKXt2YXIgZT17fTtyZXR1cm4gSyh0aGlzLnByb3BzLChmdW5jdGlvbih0LGkpe2lmKGk9PT1GZSYmUCh0KSlmb3IodmFyIHM9T2JqZWN0LmtleXModCkscj0wO3I8cy5sZW5ndGg7cisrKWVbXCIkZmVhdHVyZS9cIi5jb25jYXQoc1tyXSldPXRbc1tyXV07ZWxzZSBhPWksbD0hMSwoJChvPVdlKT9sOm4mJm8uaW5kZXhPZj09PW4/LTEhPW8uaW5kZXhPZihhKTooSyhvLChmdW5jdGlvbihlKXtpZihsfHwobD1lPT09YSkpcmV0dXJuIEp9KSksbCkpfHwoZVtpXT10KTt2YXIgbyxhLGx9KSksZX1sb2FkKCl7aWYoIXRoaXMuZGlzYWJsZWQpe3ZhciBlPXRoaXMuc3RvcmFnZS5wYXJzZSh0aGlzLm5hbWUpO2UmJih0aGlzLnByb3BzPVgoe30sZSkpfX1zYXZlKCl7dGhpcy5kaXNhYmxlZHx8dGhpcy5zdG9yYWdlLnNldCh0aGlzLm5hbWUsdGhpcy5wcm9wcyx0aGlzLmV4cGlyZV9kYXlzLHRoaXMuY3Jvc3Nfc3ViZG9tYWluLHRoaXMuc2VjdXJlLHRoaXMuY29uZmlnLmRlYnVnKX1yZW1vdmUoKXt0aGlzLnN0b3JhZ2UucmVtb3ZlKHRoaXMubmFtZSwhMSksdGhpcy5zdG9yYWdlLnJlbW92ZSh0aGlzLm5hbWUsITApfWNsZWFyKCl7dGhpcy5yZW1vdmUoKSx0aGlzLnByb3BzPXt9fXJlZ2lzdGVyX29uY2UoZSx0LGkpe2lmKFAoZSkpe0YodCkmJih0PVwiTm9uZVwiKSx0aGlzLmV4cGlyZV9kYXlzPUYoaSk/dGhpcy5kZWZhdWx0X2V4cGlyeTppO3ZhciBzPSExO2lmKEsoZSwoKGUsaSk9Pnt0aGlzLnByb3BzLmhhc093blByb3BlcnR5KGkpJiZ0aGlzLnByb3BzW2ldIT09dHx8KHRoaXMucHJvcHNbaV09ZSxzPSEwKX0pKSxzKXJldHVybiB0aGlzLnNhdmUoKSwhMH1yZXR1cm4hMX1yZWdpc3RlcihlLHQpe2lmKFAoZSkpe3RoaXMuZXhwaXJlX2RheXM9Rih0KT90aGlzLmRlZmF1bHRfZXhwaXJ5OnQ7dmFyIGk9ITE7aWYoSyhlLCgodCxzKT0+e2UuaGFzT3duUHJvcGVydHkocykmJnRoaXMucHJvcHNbc10hPT10JiYodGhpcy5wcm9wc1tzXT10LGk9ITApfSkpLGkpcmV0dXJuIHRoaXMuc2F2ZSgpLCEwfXJldHVybiExfXVucmVnaXN0ZXIoZSl7ZSBpbiB0aGlzLnByb3BzJiYoZGVsZXRlIHRoaXMucHJvcHNbZV0sdGhpcy5zYXZlKCkpfXVwZGF0ZV9jYW1wYWlnbl9wYXJhbXMoKXtpZighdGhpcy5jYW1wYWlnbl9wYXJhbXNfc2F2ZWQpe3ZhciBlPVdyLmNhbXBhaWduUGFyYW1zKHtjdXN0b21UcmFja2VkUGFyYW1zOnRoaXMuY29uZmlnLmN1c3RvbV9jYW1wYWlnbl9wYXJhbXMsbWFza1BlcnNvbmFsRGF0YVByb3BlcnRpZXM6dGhpcy5jb25maWcubWFza19wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMsY3VzdG9tUGVyc29uYWxEYXRhUHJvcGVydGllczp0aGlzLmNvbmZpZy5jdXN0b21fcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzfSk7QyhpZShlKSl8fHRoaXMucmVnaXN0ZXIoZSksdGhpcy5jYW1wYWlnbl9wYXJhbXNfc2F2ZWQ9ITB9fXVwZGF0ZV9zZWFyY2hfa2V5d29yZCgpe3RoaXMucmVnaXN0ZXIoV3Iuc2VhcmNoSW5mbygpKX11cGRhdGVfcmVmZXJyZXJfaW5mbygpe3RoaXMucmVnaXN0ZXJfb25jZShXci5yZWZlcnJlckluZm8oKSx2b2lkIDApfXNldF9pbml0aWFsX3BlcnNvbl9pbmZvKCl7dGhpcy5wcm9wc1tOZV18fHRoaXMucHJvcHNbQmVdfHx0aGlzLnJlZ2lzdGVyX29uY2Uoe1tIZV06V3IucGVyc29uSW5mbyh7bWFza1BlcnNvbmFsRGF0YVByb3BlcnRpZXM6dGhpcy5jb25maWcubWFza19wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMsY3VzdG9tUGVyc29uYWxEYXRhUHJvcGVydGllczp0aGlzLmNvbmZpZy5jdXN0b21fcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzfSl9LHZvaWQgMCl9Z2V0X3JlZmVycmVyX2luZm8oKXtyZXR1cm4gaWUoeyRyZWZlcnJlcjp0aGlzLnByb3BzLiRyZWZlcnJlciwkcmVmZXJyaW5nX2RvbWFpbjp0aGlzLnByb3BzLiRyZWZlcnJpbmdfZG9tYWlufSl9Z2V0X2luaXRpYWxfcHJvcHMoKXt2YXIgZT17fTtLKFtCZSxOZV0sKHQ9Pnt2YXIgaT10aGlzLnByb3BzW3RdO2kmJksoaSwoZnVuY3Rpb24odCxpKXtlW1wiJGluaXRpYWxfXCIrYihpKV09dH0pKX0pKTt2YXIgdD10aGlzLnByb3BzW0hlXTtpZih0KXt2YXIgaT1Xci5pbml0aWFsUGVyc29uUHJvcHNGcm9tSW5mbyh0KTtYKGUsaSl9cmV0dXJuIGV9c2FmZV9tZXJnZShlKXtyZXR1cm4gSyh0aGlzLnByb3BzLChmdW5jdGlvbih0LGkpe2kgaW4gZXx8KGVbaV09dCl9KSksZX11cGRhdGVfY29uZmlnKGUsdCl7aWYodGhpcy5kZWZhdWx0X2V4cGlyeT10aGlzLmV4cGlyZV9kYXlzPWUuY29va2llX2V4cGlyYXRpb24sdGhpcy5zZXRfZGlzYWJsZWQoZS5kaXNhYmxlX3BlcnNpc3RlbmNlKSx0aGlzLnNldF9jcm9zc19zdWJkb21haW4oZS5jcm9zc19zdWJkb21haW5fY29va2llKSx0aGlzLnNldF9zZWN1cmUoZS5zZWN1cmVfY29va2llKSxlLnBlcnNpc3RlbmNlIT09dC5wZXJzaXN0ZW5jZSl7dmFyIGk9dGhpcy5idWlsZFN0b3JhZ2UoZSkscz10aGlzLnByb3BzO3RoaXMuY2xlYXIoKSx0aGlzLnN0b3JhZ2U9aSx0aGlzLnByb3BzPXMsdGhpcy5zYXZlKCl9fXNldF9kaXNhYmxlZChlKXt0aGlzLmRpc2FibGVkPWUsdGhpcy5kaXNhYmxlZD90aGlzLnJlbW92ZSgpOnRoaXMuc2F2ZSgpfXNldF9jcm9zc19zdWJkb21haW4oZSl7ZSE9PXRoaXMuY3Jvc3Nfc3ViZG9tYWluJiYodGhpcy5jcm9zc19zdWJkb21haW49ZSx0aGlzLnJlbW92ZSgpLHRoaXMuc2F2ZSgpKX1nZXRfY3Jvc3Nfc3ViZG9tYWluKCl7cmV0dXJuISF0aGlzLmNyb3NzX3N1YmRvbWFpbn1zZXRfc2VjdXJlKGUpe2UhPT10aGlzLnNlY3VyZSYmKHRoaXMuc2VjdXJlPWUsdGhpcy5yZW1vdmUoKSx0aGlzLnNhdmUoKSl9c2V0X2V2ZW50X3RpbWVyKGUsdCl7dmFyIGk9dGhpcy5wcm9wc1t1ZV18fHt9O2lbZV09dCx0aGlzLnByb3BzW3VlXT1pLHRoaXMuc2F2ZSgpfXJlbW92ZV9ldmVudF90aW1lcihlKXt2YXIgdD0odGhpcy5wcm9wc1t1ZV18fHt9KVtlXTtyZXR1cm4gRih0KXx8KGRlbGV0ZSB0aGlzLnByb3BzW3VlXVtlXSx0aGlzLnNhdmUoKSksdH1nZXRfcHJvcGVydHkoZSl7cmV0dXJuIHRoaXMucHJvcHNbZV19c2V0X3Byb3BlcnR5KGUsdCl7dGhpcy5wcm9wc1tlXT10LHRoaXMuc2F2ZSgpfX12YXIgSnIsWXIsS3IsWHIsUXIsWnIsZW4sdG4sc24scm4sbm4sb24sYW49e30sbG49W10sY249L2FjaXR8ZXgoPzpzfGd8bnxwfCQpfHJwaHxncmlkfG93c3xtbmN8bnR3fGluZVtjaF18em9vfF5vcmR8aXRlcmEvaSx1bj1BcnJheS5pc0FycmF5O2Z1bmN0aW9uIGRuKGUsdCl7Zm9yKHZhciBpIGluIHQpZVtpXT10W2ldO3JldHVybiBlfWZ1bmN0aW9uIGhuKGUpe3ZhciB0PWUucGFyZW50Tm9kZTt0JiZ0LnJlbW92ZUNoaWxkKGUpfWZ1bmN0aW9uIF9uKGUsdCxpLHMscil7dmFyIG49e3R5cGU6ZSxwcm9wczp0LGtleTppLHJlZjpzLF9fazpudWxsLF9fOm51bGwsX19iOjAsX19lOm51bGwsX19kOnZvaWQgMCxfX2M6bnVsbCxjb25zdHJ1Y3Rvcjp2b2lkIDAsX192Om51bGw9PXI/KytLcjpyLF9faTotMSxfX3U6MH07cmV0dXJuIG51bGw9PXImJm51bGwhPVlyLnZub2RlJiZZci52bm9kZShuKSxufWZ1bmN0aW9uIHBuKGUpe3JldHVybiBlLmNoaWxkcmVufWZ1bmN0aW9uIGduKGUsdCl7dGhpcy5wcm9wcz1lLHRoaXMuY29udGV4dD10fWZ1bmN0aW9uIHZuKGUsdCl7aWYobnVsbD09dClyZXR1cm4gZS5fXz92bihlLl9fLGUuX19pKzEpOm51bGw7Zm9yKHZhciBpO3Q8ZS5fX2subGVuZ3RoO3QrKylpZihudWxsIT0oaT1lLl9fa1t0XSkmJm51bGwhPWkuX19lKXJldHVybiBpLl9fZTtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnR5cGU/dm4oZSk6bnVsbH1mdW5jdGlvbiBmbihlKXt2YXIgdCxpO2lmKG51bGwhPShlPWUuX18pJiZudWxsIT1lLl9fYyl7Zm9yKGUuX19lPWUuX19jLmJhc2U9bnVsbCx0PTA7dDxlLl9fay5sZW5ndGg7dCsrKWlmKG51bGwhPShpPWUuX19rW3RdKSYmbnVsbCE9aS5fX2Upe2UuX19lPWUuX19jLmJhc2U9aS5fX2U7YnJlYWt9cmV0dXJuIGZuKGUpfX1mdW5jdGlvbiBtbihlKXsoIWUuX19kJiYoZS5fX2Q9ITApJiZYci5wdXNoKGUpJiYheW4uX19yKyt8fFFyIT09WXIuZGVib3VuY2VSZW5kZXJpbmcpJiYoKFFyPVlyLmRlYm91bmNlUmVuZGVyaW5nKXx8WnIpKHluKX1mdW5jdGlvbiB5bigpe3ZhciBlLHQsaSxzLHIsbixvLGEsbDtmb3IoWHIuc29ydChlbik7ZT1Yci5zaGlmdCgpOyllLl9fZCYmKHQ9WHIubGVuZ3RoLHM9dm9pZCAwLG49KHI9KGk9ZSkuX192KS5fX2UsYT1bXSxsPVtdLChvPWkuX19QKSYmKChzPWRuKHt9LHIpKS5fX3Y9ci5fX3YrMSxZci52bm9kZSYmWXIudm5vZGUocyksQ24obyxzLHIsaS5fX24sdm9pZCAwIT09by5vd25lclNWR0VsZW1lbnQsMzImci5fX3U/W25dOm51bGwsYSxudWxsPT1uP3ZuKHIpOm4sISEoMzImci5fX3UpLGwpLHMuX18uX19rW3MuX19pXT1zLEZuKGEscyxsKSxzLl9fZSE9biYmZm4ocykpLFhyLmxlbmd0aD50JiZYci5zb3J0KGVuKSk7eW4uX19yPTB9ZnVuY3Rpb24gYm4oZSx0LGkscyxyLG4sbyxhLGwsYyx1KXt2YXIgZCxoLF8scCxnLHY9cyYmcy5fX2t8fGxuLGY9dC5sZW5ndGg7Zm9yKGkuX19kPWwsd24oaSx0LHYpLGw9aS5fX2QsZD0wO2Q8ZjtkKyspbnVsbCE9KF89aS5fX2tbZF0pJiZcImJvb2xlYW5cIiE9dHlwZW9mIF8mJlwiZnVuY3Rpb25cIiE9dHlwZW9mIF8mJihoPS0xPT09Xy5fX2k/YW46dltfLl9faV18fGFuLF8uX19pPWQsQ24oZSxfLGgscixuLG8sYSxsLGMsdSkscD1fLl9fZSxfLnJlZiYmaC5yZWYhPV8ucmVmJiYoaC5yZWYmJlRuKGgucmVmLG51bGwsXyksdS5wdXNoKF8ucmVmLF8uX19jfHxwLF8pKSxudWxsPT1nJiZudWxsIT1wJiYoZz1wKSw2NTUzNiZfLl9fdXx8aC5fX2s9PT1fLl9faz9sPVNuKF8sbCxlKTpcImZ1bmN0aW9uXCI9PXR5cGVvZiBfLnR5cGUmJnZvaWQgMCE9PV8uX19kP2w9Xy5fX2Q6cCYmKGw9cC5uZXh0U2libGluZyksXy5fX2Q9dm9pZCAwLF8uX191Jj0tMTk2NjA5KTtpLl9fZD1sLGkuX19lPWd9ZnVuY3Rpb24gd24oZSx0LGkpe3ZhciBzLHIsbixvLGEsbD10Lmxlbmd0aCxjPWkubGVuZ3RoLHU9YyxkPTA7Zm9yKGUuX19rPVtdLHM9MDtzPGw7cysrKW51bGwhPShyPWUuX19rW3NdPW51bGw9PShyPXRbc10pfHxcImJvb2xlYW5cIj09dHlwZW9mIHJ8fFwiZnVuY3Rpb25cIj09dHlwZW9mIHI/bnVsbDpcInN0cmluZ1wiPT10eXBlb2Ygcnx8XCJudW1iZXJcIj09dHlwZW9mIHJ8fFwiYmlnaW50XCI9PXR5cGVvZiByfHxyLmNvbnN0cnVjdG9yPT1TdHJpbmc/X24obnVsbCxyLG51bGwsbnVsbCxyKTp1bihyKT9fbihwbix7Y2hpbGRyZW46cn0sbnVsbCxudWxsLG51bGwpOnZvaWQgMD09PXIuY29uc3RydWN0b3ImJnIuX19iPjA/X24oci50eXBlLHIucHJvcHMsci5rZXksci5yZWY/ci5yZWY6bnVsbCxyLl9fdik6cik/KHIuX189ZSxyLl9fYj1lLl9fYisxLGE9a24ocixpLG89cytkLHUpLHIuX19pPWEsbj1udWxsLC0xIT09YSYmKHUtLSwobj1pW2FdKSYmKG4uX191fD0xMzEwNzIpKSxudWxsPT1ufHxudWxsPT09bi5fX3Y/KC0xPT1hJiZkLS0sXCJmdW5jdGlvblwiIT10eXBlb2Ygci50eXBlJiYoci5fX3V8PTY1NTM2KSk6YSE9PW8mJihhPT09bysxP2QrKzphPm8/dT5sLW8/ZCs9YS1vOmQtLTpkPWE8byYmYT09by0xP2EtbzowLGEhPT1zK2QmJihyLl9fdXw9NjU1MzYpKSk6KG49aVtzXSkmJm51bGw9PW4ua2V5JiZuLl9fZSYmKG4uX19lPT1lLl9fZCYmKGUuX19kPXZuKG4pKSwkbihuLG4sITEpLGlbc109bnVsbCx1LS0pO2lmKHUpZm9yKHM9MDtzPGM7cysrKW51bGwhPShuPWlbc10pJiYwPT0oMTMxMDcyJm4uX191KSYmKG4uX19lPT1lLl9fZCYmKGUuX19kPXZuKG4pKSwkbihuLG4pKX1mdW5jdGlvbiBTbihlLHQsaSl7dmFyIHMscjtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlLnR5cGUpe2ZvcihzPWUuX19rLHI9MDtzJiZyPHMubGVuZ3RoO3IrKylzW3JdJiYoc1tyXS5fXz1lLHQ9U24oc1tyXSx0LGkpKTtyZXR1cm4gdH1yZXR1cm4gZS5fX2UhPXQmJihpLmluc2VydEJlZm9yZShlLl9fZSx0fHxudWxsKSx0PWUuX19lKSx0JiZ0Lm5leHRTaWJsaW5nfWZ1bmN0aW9uIGtuKGUsdCxpLHMpe3ZhciByPWUua2V5LG49ZS50eXBlLG89aS0xLGE9aSsxLGw9dFtpXTtpZihudWxsPT09bHx8bCYmcj09bC5rZXkmJm49PT1sLnR5cGUpcmV0dXJuIGk7aWYocz4obnVsbCE9bCYmMD09KDEzMTA3MiZsLl9fdSk/MTowKSlmb3IoO28+PTB8fGE8dC5sZW5ndGg7KXtpZihvPj0wKXtpZigobD10W29dKSYmMD09KDEzMTA3MiZsLl9fdSkmJnI9PWwua2V5JiZuPT09bC50eXBlKXJldHVybiBvO28tLX1pZihhPHQubGVuZ3RoKXtpZigobD10W2FdKSYmMD09KDEzMTA3MiZsLl9fdSkmJnI9PWwua2V5JiZuPT09bC50eXBlKXJldHVybiBhO2ErK319cmV0dXJuLTF9ZnVuY3Rpb24gRW4oZSx0LGkpe1wiLVwiPT09dFswXT9lLnNldFByb3BlcnR5KHQsbnVsbD09aT9cIlwiOmkpOmVbdF09bnVsbD09aT9cIlwiOlwibnVtYmVyXCIhPXR5cGVvZiBpfHxjbi50ZXN0KHQpP2k6aStcInB4XCJ9ZnVuY3Rpb24geG4oZSx0LGkscyxyKXt2YXIgbjtlOmlmKFwic3R5bGVcIj09PXQpaWYoXCJzdHJpbmdcIj09dHlwZW9mIGkpZS5zdHlsZS5jc3NUZXh0PWk7ZWxzZXtpZihcInN0cmluZ1wiPT10eXBlb2YgcyYmKGUuc3R5bGUuY3NzVGV4dD1zPVwiXCIpLHMpZm9yKHQgaW4gcylpJiZ0IGluIGl8fEVuKGUuc3R5bGUsdCxcIlwiKTtpZihpKWZvcih0IGluIGkpcyYmaVt0XT09PXNbdF18fEVuKGUuc3R5bGUsdCxpW3RdKX1lbHNlIGlmKFwib1wiPT09dFswXSYmXCJuXCI9PT10WzFdKW49dCE9PSh0PXQucmVwbGFjZSgvKFBvaW50ZXJDYXB0dXJlKSR8Q2FwdHVyZSQvLFwiJDFcIikpLHQ9dC50b0xvd2VyQ2FzZSgpaW4gZT90LnRvTG93ZXJDYXNlKCkuc2xpY2UoMik6dC5zbGljZSgyKSxlLmx8fChlLmw9e30pLGUubFt0K25dPWksaT9zP2kudT1zLnU6KGkudT1EYXRlLm5vdygpLGUuYWRkRXZlbnRMaXN0ZW5lcih0LG4/UG46SW4sbikpOmUucmVtb3ZlRXZlbnRMaXN0ZW5lcih0LG4/UG46SW4sbik7ZWxzZXtpZihyKXQ9dC5yZXBsYWNlKC94bGluayhIfDpoKS8sXCJoXCIpLnJlcGxhY2UoL3NOYW1lJC8sXCJzXCIpO2Vsc2UgaWYoXCJ3aWR0aFwiIT09dCYmXCJoZWlnaHRcIiE9PXQmJlwiaHJlZlwiIT09dCYmXCJsaXN0XCIhPT10JiZcImZvcm1cIiE9PXQmJlwidGFiSW5kZXhcIiE9PXQmJlwiZG93bmxvYWRcIiE9PXQmJlwicm93U3BhblwiIT09dCYmXCJjb2xTcGFuXCIhPT10JiZcInJvbGVcIiE9PXQmJnQgaW4gZSl0cnl7ZVt0XT1udWxsPT1pP1wiXCI6aTticmVhayBlfWNhdGNoKGUpe31cImZ1bmN0aW9uXCI9PXR5cGVvZiBpfHwobnVsbD09aXx8ITE9PT1pJiZcIi1cIiE9PXRbNF0/ZS5yZW1vdmVBdHRyaWJ1dGUodCk6ZS5zZXRBdHRyaWJ1dGUodCxpKSl9fWZ1bmN0aW9uIEluKGUpe3ZhciB0PXRoaXMubFtlLnR5cGUrITFdO2lmKGUudCl7aWYoZS50PD10LnUpcmV0dXJufWVsc2UgZS50PURhdGUubm93KCk7cmV0dXJuIHQoWXIuZXZlbnQ/WXIuZXZlbnQoZSk6ZSl9ZnVuY3Rpb24gUG4oZSl7cmV0dXJuIHRoaXMubFtlLnR5cGUrITBdKFlyLmV2ZW50P1lyLmV2ZW50KGUpOmUpfWZ1bmN0aW9uIENuKGUsdCxpLHMscixuLG8sYSxsLGMpe3ZhciB1LGQsaCxfLHAsZyx2LGYsbSx5LGIsdyxTLGssRSx4PXQudHlwZTtpZih2b2lkIDAhPT10LmNvbnN0cnVjdG9yKXJldHVybiBudWxsOzEyOCZpLl9fdSYmKGw9ISEoMzImaS5fX3UpLG49W2E9dC5fX2U9aS5fX2VdKSwodT1Zci5fX2IpJiZ1KHQpO2U6aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgeCl0cnl7aWYoZj10LnByb3BzLG09KHU9eC5jb250ZXh0VHlwZSkmJnNbdS5fX2NdLHk9dT9tP20ucHJvcHMudmFsdWU6dS5fXzpzLGkuX19jP3Y9KGQ9dC5fX2M9aS5fX2MpLl9fPWQuX19FOihcInByb3RvdHlwZVwiaW4geCYmeC5wcm90b3R5cGUucmVuZGVyP3QuX19jPWQ9bmV3IHgoZix5KToodC5fX2M9ZD1uZXcgZ24oZix5KSxkLmNvbnN0cnVjdG9yPXgsZC5yZW5kZXI9QW4pLG0mJm0uc3ViKGQpLGQucHJvcHM9ZixkLnN0YXRlfHwoZC5zdGF0ZT17fSksZC5jb250ZXh0PXksZC5fX249cyxoPWQuX19kPSEwLGQuX19oPVtdLGQuX3NiPVtdKSxudWxsPT1kLl9fcyYmKGQuX19zPWQuc3RhdGUpLG51bGwhPXguZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzJiYoZC5fX3M9PWQuc3RhdGUmJihkLl9fcz1kbih7fSxkLl9fcykpLGRuKGQuX19zLHguZ2V0RGVyaXZlZFN0YXRlRnJvbVByb3BzKGYsZC5fX3MpKSksXz1kLnByb3BzLHA9ZC5zdGF0ZSxkLl9fdj10LGgpbnVsbD09eC5nZXREZXJpdmVkU3RhdGVGcm9tUHJvcHMmJm51bGwhPWQuY29tcG9uZW50V2lsbE1vdW50JiZkLmNvbXBvbmVudFdpbGxNb3VudCgpLG51bGwhPWQuY29tcG9uZW50RGlkTW91bnQmJmQuX19oLnB1c2goZC5jb21wb25lbnREaWRNb3VudCk7ZWxzZXtpZihudWxsPT14LmdldERlcml2ZWRTdGF0ZUZyb21Qcm9wcyYmZiE9PV8mJm51bGwhPWQuY29tcG9uZW50V2lsbFJlY2VpdmVQcm9wcyYmZC5jb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzKGYseSksIWQuX19lJiYobnVsbCE9ZC5zaG91bGRDb21wb25lbnRVcGRhdGUmJiExPT09ZC5zaG91bGRDb21wb25lbnRVcGRhdGUoZixkLl9fcyx5KXx8dC5fX3Y9PT1pLl9fdikpe2Zvcih0Ll9fdiE9PWkuX192JiYoZC5wcm9wcz1mLGQuc3RhdGU9ZC5fX3MsZC5fX2Q9ITEpLHQuX19lPWkuX19lLHQuX19rPWkuX19rLHQuX19rLmZvckVhY2goKGZ1bmN0aW9uKGUpe2UmJihlLl9fPXQpfSkpLGI9MDtiPGQuX3NiLmxlbmd0aDtiKyspZC5fX2gucHVzaChkLl9zYltiXSk7ZC5fc2I9W10sZC5fX2gubGVuZ3RoJiZvLnB1c2goZCk7YnJlYWsgZX1udWxsIT1kLmNvbXBvbmVudFdpbGxVcGRhdGUmJmQuY29tcG9uZW50V2lsbFVwZGF0ZShmLGQuX19zLHkpLG51bGwhPWQuY29tcG9uZW50RGlkVXBkYXRlJiZkLl9faC5wdXNoKChmdW5jdGlvbigpe2QuY29tcG9uZW50RGlkVXBkYXRlKF8scCxnKX0pKX1pZihkLmNvbnRleHQ9eSxkLnByb3BzPWYsZC5fX1A9ZSxkLl9fZT0hMSx3PVlyLl9fcixTPTAsXCJwcm90b3R5cGVcImluIHgmJngucHJvdG90eXBlLnJlbmRlcil7Zm9yKGQuc3RhdGU9ZC5fX3MsZC5fX2Q9ITEsdyYmdyh0KSx1PWQucmVuZGVyKGQucHJvcHMsZC5zdGF0ZSxkLmNvbnRleHQpLGs9MDtrPGQuX3NiLmxlbmd0aDtrKyspZC5fX2gucHVzaChkLl9zYltrXSk7ZC5fc2I9W119ZWxzZSBkb3tkLl9fZD0hMSx3JiZ3KHQpLHU9ZC5yZW5kZXIoZC5wcm9wcyxkLnN0YXRlLGQuY29udGV4dCksZC5zdGF0ZT1kLl9fc313aGlsZShkLl9fZCYmKytTPDI1KTtkLnN0YXRlPWQuX19zLG51bGwhPWQuZ2V0Q2hpbGRDb250ZXh0JiYocz1kbihkbih7fSxzKSxkLmdldENoaWxkQ29udGV4dCgpKSksaHx8bnVsbD09ZC5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZXx8KGc9ZC5nZXRTbmFwc2hvdEJlZm9yZVVwZGF0ZShfLHApKSxibihlLHVuKEU9bnVsbCE9dSYmdS50eXBlPT09cG4mJm51bGw9PXUua2V5P3UucHJvcHMuY2hpbGRyZW46dSk/RTpbRV0sdCxpLHMscixuLG8sYSxsLGMpLGQuYmFzZT10Ll9fZSx0Ll9fdSY9LTE2MSxkLl9faC5sZW5ndGgmJm8ucHVzaChkKSx2JiYoZC5fX0U9ZC5fXz1udWxsKX1jYXRjaChlKXt0Ll9fdj1udWxsLGx8fG51bGwhPW4/KHQuX19lPWEsdC5fX3V8PWw/MTYwOjMyLG5bbi5pbmRleE9mKGEpXT1udWxsKToodC5fX2U9aS5fX2UsdC5fX2s9aS5fX2spLFlyLl9fZShlLHQsaSl9ZWxzZSBudWxsPT1uJiZ0Ll9fdj09PWkuX192Pyh0Ll9faz1pLl9fayx0Ll9fZT1pLl9fZSk6dC5fX2U9Um4oaS5fX2UsdCxpLHMscixuLG8sbCxjKTsodT1Zci5kaWZmZWQpJiZ1KHQpfWZ1bmN0aW9uIEZuKGUsdCxpKXt0Ll9fZD12b2lkIDA7Zm9yKHZhciBzPTA7czxpLmxlbmd0aDtzKyspVG4oaVtzXSxpWysrc10saVsrK3NdKTtZci5fX2MmJllyLl9fYyh0LGUpLGUuc29tZSgoZnVuY3Rpb24odCl7dHJ5e2U9dC5fX2gsdC5fX2g9W10sZS5zb21lKChmdW5jdGlvbihlKXtlLmNhbGwodCl9KSl9Y2F0Y2goZSl7WXIuX19lKGUsdC5fX3YpfX0pKX1mdW5jdGlvbiBSbihlLHQsaSxzLHIsbixvLGEsbCl7dmFyIGMsdSxkLGgsXyxwLGcsdj1pLnByb3BzLGY9dC5wcm9wcyxtPXQudHlwZTtpZihcInN2Z1wiPT09bSYmKHI9ITApLG51bGwhPW4pZm9yKGM9MDtjPG4ubGVuZ3RoO2MrKylpZigoXz1uW2NdKSYmXCJzZXRBdHRyaWJ1dGVcImluIF89PSEhbSYmKG0/Xy5sb2NhbE5hbWU9PT1tOjM9PT1fLm5vZGVUeXBlKSl7ZT1fLG5bY109bnVsbDticmVha31pZihudWxsPT1lKXtpZihudWxsPT09bSlyZXR1cm4gZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZik7ZT1yP2RvY3VtZW50LmNyZWF0ZUVsZW1lbnROUyhcImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIsbSk6ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChtLGYuaXMmJmYpLG49bnVsbCxhPSExfWlmKG51bGw9PT1tKXY9PT1mfHxhJiZlLmRhdGE9PT1mfHwoZS5kYXRhPWYpO2Vsc2V7aWYobj1uJiZKci5jYWxsKGUuY2hpbGROb2Rlcyksdj1pLnByb3BzfHxhbiwhYSYmbnVsbCE9bilmb3Iodj17fSxjPTA7YzxlLmF0dHJpYnV0ZXMubGVuZ3RoO2MrKyl2WyhfPWUuYXR0cmlidXRlc1tjXSkubmFtZV09Xy52YWx1ZTtmb3IoYyBpbiB2KV89dltjXSxcImNoaWxkcmVuXCI9PWN8fChcImRhbmdlcm91c2x5U2V0SW5uZXJIVE1MXCI9PWM/ZD1fOlwia2V5XCI9PT1jfHxjIGluIGZ8fHhuKGUsYyxudWxsLF8scikpO2ZvcihjIGluIGYpXz1mW2NdLFwiY2hpbGRyZW5cIj09Yz9oPV86XCJkYW5nZXJvdXNseVNldElubmVySFRNTFwiPT1jP3U9XzpcInZhbHVlXCI9PWM/cD1fOlwiY2hlY2tlZFwiPT1jP2c9XzpcImtleVwiPT09Y3x8YSYmXCJmdW5jdGlvblwiIT10eXBlb2YgX3x8dltjXT09PV98fHhuKGUsYyxfLHZbY10scik7aWYodSlhfHxkJiYodS5fX2h0bWw9PT1kLl9faHRtbHx8dS5fX2h0bWw9PT1lLmlubmVySFRNTCl8fChlLmlubmVySFRNTD11Ll9faHRtbCksdC5fX2s9W107ZWxzZSBpZihkJiYoZS5pbm5lckhUTUw9XCJcIiksYm4oZSx1bihoKT9oOltoXSx0LGkscyxyJiZcImZvcmVpZ25PYmplY3RcIiE9PW0sbixvLG4/blswXTppLl9fayYmdm4oaSwwKSxhLGwpLG51bGwhPW4pZm9yKGM9bi5sZW5ndGg7Yy0tOyludWxsIT1uW2NdJiZobihuW2NdKTthfHwoYz1cInZhbHVlXCIsdm9pZCAwIT09cCYmKHAhPT1lW2NdfHxcInByb2dyZXNzXCI9PT1tJiYhcHx8XCJvcHRpb25cIj09PW0mJnAhPT12W2NdKSYmeG4oZSxjLHAsdltjXSwhMSksYz1cImNoZWNrZWRcIix2b2lkIDAhPT1nJiZnIT09ZVtjXSYmeG4oZSxjLGcsdltjXSwhMSkpfXJldHVybiBlfWZ1bmN0aW9uIFRuKGUsdCxpKXt0cnl7XCJmdW5jdGlvblwiPT10eXBlb2YgZT9lKHQpOmUuY3VycmVudD10fWNhdGNoKGUpe1lyLl9fZShlLGkpfX1mdW5jdGlvbiAkbihlLHQsaSl7dmFyIHMscjtpZihZci51bm1vdW50JiZZci51bm1vdW50KGUpLChzPWUucmVmKSYmKHMuY3VycmVudCYmcy5jdXJyZW50IT09ZS5fX2V8fFRuKHMsbnVsbCx0KSksbnVsbCE9KHM9ZS5fX2MpKXtpZihzLmNvbXBvbmVudFdpbGxVbm1vdW50KXRyeXtzLmNvbXBvbmVudFdpbGxVbm1vdW50KCl9Y2F0Y2goZSl7WXIuX19lKGUsdCl9cy5iYXNlPXMuX19QPW51bGwsZS5fX2M9dm9pZCAwfWlmKHM9ZS5fX2spZm9yKHI9MDtyPHMubGVuZ3RoO3IrKylzW3JdJiYkbihzW3JdLHQsaXx8XCJmdW5jdGlvblwiIT10eXBlb2YgZS50eXBlKTtpfHxudWxsPT1lLl9fZXx8aG4oZS5fX2UpLGUuX189ZS5fX2U9ZS5fX2Q9dm9pZCAwfWZ1bmN0aW9uIEFuKGUsdCxpKXtyZXR1cm4gdGhpcy5jb25zdHJ1Y3RvcihlLGkpfUpyPWxuLnNsaWNlLFlyPXtfX2U6ZnVuY3Rpb24oZSx0LGkscyl7Zm9yKHZhciByLG4sbzt0PXQuX187KWlmKChyPXQuX19jKSYmIXIuX18pdHJ5e2lmKChuPXIuY29uc3RydWN0b3IpJiZudWxsIT1uLmdldERlcml2ZWRTdGF0ZUZyb21FcnJvciYmKHIuc2V0U3RhdGUobi5nZXREZXJpdmVkU3RhdGVGcm9tRXJyb3IoZSkpLG89ci5fX2QpLG51bGwhPXIuY29tcG9uZW50RGlkQ2F0Y2gmJihyLmNvbXBvbmVudERpZENhdGNoKGUsc3x8e30pLG89ci5fX2QpLG8pcmV0dXJuIHIuX19FPXJ9Y2F0Y2godCl7ZT10fXRocm93IGV9fSxLcj0wLGduLnByb3RvdHlwZS5zZXRTdGF0ZT1mdW5jdGlvbihlLHQpe3ZhciBpO2k9bnVsbCE9dGhpcy5fX3MmJnRoaXMuX19zIT09dGhpcy5zdGF0ZT90aGlzLl9fczp0aGlzLl9fcz1kbih7fSx0aGlzLnN0YXRlKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlJiYoZT1lKGRuKHt9LGkpLHRoaXMucHJvcHMpKSxlJiZkbihpLGUpLG51bGwhPWUmJnRoaXMuX192JiYodCYmdGhpcy5fc2IucHVzaCh0KSxtbih0aGlzKSl9LGduLnByb3RvdHlwZS5mb3JjZVVwZGF0ZT1mdW5jdGlvbihlKXt0aGlzLl9fdiYmKHRoaXMuX19lPSEwLGUmJnRoaXMuX19oLnB1c2goZSksbW4odGhpcykpfSxnbi5wcm90b3R5cGUucmVuZGVyPXBuLFhyPVtdLFpyPVwiZnVuY3Rpb25cIj09dHlwZW9mIFByb21pc2U/UHJvbWlzZS5wcm90b3R5cGUudGhlbi5iaW5kKFByb21pc2UucmVzb2x2ZSgpKTpzZXRUaW1lb3V0LGVuPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuX192Ll9fYi10Ll9fdi5fX2J9LHluLl9fcj0wLHRuPTAsZnVuY3Rpb24oZSl7ZS5Qb3BvdmVyPVwicG9wb3ZlclwiLGUuQVBJPVwiYXBpXCIsZS5XaWRnZXQ9XCJ3aWRnZXRcIn0oc258fChzbj17fSkpLGZ1bmN0aW9uKGUpe2UuT3Blbj1cIm9wZW5cIixlLk11bHRpcGxlQ2hvaWNlPVwibXVsdGlwbGVfY2hvaWNlXCIsZS5TaW5nbGVDaG9pY2U9XCJzaW5nbGVfY2hvaWNlXCIsZS5SYXRpbmc9XCJyYXRpbmdcIixlLkxpbms9XCJsaW5rXCJ9KHJufHwocm49e30pKSxmdW5jdGlvbihlKXtlLk5leHRRdWVzdGlvbj1cIm5leHRfcXVlc3Rpb25cIixlLkVuZD1cImVuZFwiLGUuUmVzcG9uc2VCYXNlZD1cInJlc3BvbnNlX2Jhc2VkXCIsZS5TcGVjaWZpY1F1ZXN0aW9uPVwic3BlY2lmaWNfcXVlc3Rpb25cIn0obm58fChubj17fSkpLGZ1bmN0aW9uKGUpe2UuT25jZT1cIm9uY2VcIixlLlJlY3VycmluZz1cInJlY3VycmluZ1wiLGUuQWx3YXlzPVwiYWx3YXlzXCJ9KG9ufHwob249e30pKTshZnVuY3Rpb24oZSx0KXt2YXIgaT17X19jOnQ9XCJfX2NDXCIrdG4rKyxfXzplLENvbnN1bWVyOmZ1bmN0aW9uKGUsdCl7cmV0dXJuIGUuY2hpbGRyZW4odCl9LFByb3ZpZGVyOmZ1bmN0aW9uKGUpe3ZhciBpLHM7cmV0dXJuIHRoaXMuZ2V0Q2hpbGRDb250ZXh0fHwoaT1bXSwocz17fSlbdF09dGhpcyx0aGlzLmdldENoaWxkQ29udGV4dD1mdW5jdGlvbigpe3JldHVybiBzfSx0aGlzLnNob3VsZENvbXBvbmVudFVwZGF0ZT1mdW5jdGlvbihlKXt0aGlzLnByb3BzLnZhbHVlIT09ZS52YWx1ZSYmaS5zb21lKChmdW5jdGlvbihlKXtlLl9fZT0hMCxtbihlKX0pKX0sdGhpcy5zdWI9ZnVuY3Rpb24oZSl7aS5wdXNoKGUpO3ZhciB0PWUuY29tcG9uZW50V2lsbFVubW91bnQ7ZS5jb21wb25lbnRXaWxsVW5tb3VudD1mdW5jdGlvbigpe2kuc3BsaWNlKGkuaW5kZXhPZihlKSwxKSx0JiZ0LmNhbGwoZSl9fSksZS5jaGlsZHJlbn19O2kuUHJvdmlkZXIuX189aS5Db25zdW1lci5jb250ZXh0VHlwZT1pfSh7aXNQcmV2aWV3TW9kZTohMSxwcmV2aWV3UGFnZUluZGV4OjAsb25Qb3B1cFN1cnZleURpc21pc3NlZDooKT0+e30saXNQb3B1cDohMCxvblByZXZpZXdTdWJtaXQ6KCk9Pnt9LG9uUG9wdXBTdXJ2ZXlTZW50OigpPT57fX0pO3ZhciBPbj1mdW5jdGlvbihlLHQpe2lmKCFmdW5jdGlvbihlKXt0cnl7bmV3IFJlZ0V4cChlKX1jYXRjaChlKXtyZXR1cm4hMX1yZXR1cm4hMH0odCkpcmV0dXJuITE7dHJ5e3JldHVybiBuZXcgUmVnRXhwKHQpLnRlc3QoZSl9Y2F0Y2goZSl7cmV0dXJuITF9fTtjbGFzcyBNbntjb25zdHJ1Y3Rvcigpe1YodGhpcyxcImV2ZW50c1wiLHt9KSx0aGlzLmV2ZW50cz17fX1vbihlLHQpe3JldHVybiB0aGlzLmV2ZW50c1tlXXx8KHRoaXMuZXZlbnRzW2VdPVtdKSx0aGlzLmV2ZW50c1tlXS5wdXNoKHQpLCgpPT57dGhpcy5ldmVudHNbZV09dGhpcy5ldmVudHNbZV0uZmlsdGVyKChlPT5lIT09dCkpfX1lbWl0KGUsdCl7Zm9yKHZhciBpIG9mIHRoaXMuZXZlbnRzW2VdfHxbXSlpKHQpO2Zvcih2YXIgcyBvZiB0aGlzLmV2ZW50c1tcIipcIl18fFtdKXMoZSx0KX19Y2xhc3MgTG57Y29uc3RydWN0b3IoZSl7Vih0aGlzLFwiX2RlYnVnRXZlbnRFbWl0dGVyXCIsbmV3IE1uKSxWKHRoaXMsXCJjaGVja1N0ZXBcIiwoKGUsdCk9PnRoaXMuY2hlY2tTdGVwRXZlbnQoZSx0KSYmdGhpcy5jaGVja1N0ZXBVcmwoZSx0KSYmdGhpcy5jaGVja1N0ZXBFbGVtZW50KGUsdCkpKSxWKHRoaXMsXCJjaGVja1N0ZXBFdmVudFwiLCgoZSx0KT0+bnVsbD09dHx8IXQuZXZlbnR8fChudWxsPT1lP3ZvaWQgMDplLmV2ZW50KT09PShudWxsPT10P3ZvaWQgMDp0LmV2ZW50KSkpLHRoaXMuaW5zdGFuY2U9ZSx0aGlzLmFjdGlvbkV2ZW50cz1uZXcgU2V0LHRoaXMuYWN0aW9uUmVnaXN0cnk9bmV3IFNldH1pbml0KCl7dmFyIGU7aWYoIUYobnVsbD09PShlPXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLl9hZGRDYXB0dXJlSG9vaykpe3ZhciB0O251bGw9PT0odD10aGlzLmluc3RhbmNlKXx8dm9pZCAwPT09dHx8dC5fYWRkQ2FwdHVyZUhvb2soKChlLHQpPT57dGhpcy5vbihlLHQpfSkpfX1yZWdpc3RlcihlKXt2YXIgdCxpO2lmKCFGKG51bGw9PT0odD10aGlzLmluc3RhbmNlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5fYWRkQ2FwdHVyZUhvb2spJiYoZS5mb3JFYWNoKChlPT57dmFyIHQsaTtudWxsPT09KHQ9dGhpcy5hY3Rpb25SZWdpc3RyeSl8fHZvaWQgMD09PXR8fHQuYWRkKGUpLG51bGw9PT0oaT1lLnN0ZXBzKXx8dm9pZCAwPT09aXx8aS5mb3JFYWNoKChlPT57dmFyIHQ7bnVsbD09PSh0PXRoaXMuYWN0aW9uRXZlbnRzKXx8dm9pZCAwPT09dHx8dC5hZGQoKG51bGw9PWU/dm9pZCAwOmUuZXZlbnQpfHxcIlwiKX0pKX0pKSxudWxsIT09KGk9dGhpcy5pbnN0YW5jZSkmJnZvaWQgMCE9PWkmJmkuYXV0b2NhcHR1cmUpKXt2YXIgcyxyPW5ldyBTZXQ7ZS5mb3JFYWNoKChlPT57dmFyIHQ7bnVsbD09PSh0PWUuc3RlcHMpfHx2b2lkIDA9PT10fHx0LmZvckVhY2goKGU9PntudWxsIT1lJiZlLnNlbGVjdG9yJiZyLmFkZChudWxsPT1lP3ZvaWQgMDplLnNlbGVjdG9yKX0pKX0pKSxudWxsPT09KHM9dGhpcy5pbnN0YW5jZSl8fHZvaWQgMD09PXN8fHMuYXV0b2NhcHR1cmUuc2V0RWxlbWVudFNlbGVjdG9ycyhyKX19b24oZSx0KXt2YXIgaTtudWxsIT10JiYwIT1lLmxlbmd0aCYmKHRoaXMuYWN0aW9uRXZlbnRzLmhhcyhlKXx8dGhpcy5hY3Rpb25FdmVudHMuaGFzKG51bGw9PXQ/dm9pZCAwOnQuZXZlbnQpKSYmdGhpcy5hY3Rpb25SZWdpc3RyeSYmKG51bGw9PT0oaT10aGlzLmFjdGlvblJlZ2lzdHJ5KXx8dm9pZCAwPT09aT92b2lkIDA6aS5zaXplKT4wJiZ0aGlzLmFjdGlvblJlZ2lzdHJ5LmZvckVhY2goKGU9Pnt0aGlzLmNoZWNrQWN0aW9uKHQsZSkmJnRoaXMuX2RlYnVnRXZlbnRFbWl0dGVyLmVtaXQoXCJhY3Rpb25DYXB0dXJlZFwiLGUubmFtZSl9KSl9X2FkZEFjdGlvbkhvb2soZSl7dGhpcy5vbkFjdGlvbihcImFjdGlvbkNhcHR1cmVkXCIsKHQ9PmUodCkpKX1jaGVja0FjdGlvbihlLHQpe2lmKG51bGw9PShudWxsPT10P3ZvaWQgMDp0LnN0ZXBzKSlyZXR1cm4hMTtmb3IodmFyIGkgb2YgdC5zdGVwcylpZih0aGlzLmNoZWNrU3RlcChlLGkpKXJldHVybiEwO3JldHVybiExfW9uQWN0aW9uKGUsdCl7cmV0dXJuIHRoaXMuX2RlYnVnRXZlbnRFbWl0dGVyLm9uKGUsdCl9Y2hlY2tTdGVwVXJsKGUsdCl7aWYobnVsbCE9dCYmdC51cmwpe3ZhciBpLHM9bnVsbD09ZXx8bnVsbD09PShpPWUucHJvcGVydGllcyl8fHZvaWQgMD09PWk/dm9pZCAwOmkuJGN1cnJlbnRfdXJsO2lmKCFzfHxcInN0cmluZ1wiIT10eXBlb2YgcylyZXR1cm4hMTtpZighTG4ubWF0Y2hTdHJpbmcocyxudWxsPT10P3ZvaWQgMDp0LnVybCwobnVsbD09dD92b2lkIDA6dC51cmxfbWF0Y2hpbmcpfHxcImNvbnRhaW5zXCIpKXJldHVybiExfXJldHVybiEwfXN0YXRpYyBtYXRjaFN0cmluZyhlLGkscyl7c3dpdGNoKHMpe2Nhc2VcInJlZ2V4XCI6cmV0dXJuISF0JiZPbihlLGkpO2Nhc2VcImV4YWN0XCI6cmV0dXJuIGk9PT1lO2Nhc2VcImNvbnRhaW5zXCI6dmFyIHI9TG4uZXNjYXBlU3RyaW5nUmVnZXhwKGkpLnJlcGxhY2UoL18vZyxcIi5cIikucmVwbGFjZSgvJS9nLFwiLipcIik7cmV0dXJuIE9uKGUscik7ZGVmYXVsdDpyZXR1cm4hMX19c3RhdGljIGVzY2FwZVN0cmluZ1JlZ2V4cChlKXtyZXR1cm4gZS5yZXBsYWNlKC9bfFxcXFx7fSgpW1xcXV4kKyo/Ll0vZyxcIlxcXFwkJlwiKS5yZXBsYWNlKC8tL2csXCJcXFxceDJkXCIpfWNoZWNrU3RlcEVsZW1lbnQoZSx0KXtpZigobnVsbCE9dCYmdC5ocmVmfHxudWxsIT10JiZ0LnRhZ19uYW1lfHxudWxsIT10JiZ0LnRleHQpJiYhdGhpcy5nZXRFbGVtZW50c0xpc3QoZSkuc29tZSgoZT0+IShudWxsIT10JiZ0LmhyZWYmJiFMbi5tYXRjaFN0cmluZyhlLmhyZWZ8fFwiXCIsbnVsbD09dD92b2lkIDA6dC5ocmVmLChudWxsPT10P3ZvaWQgMDp0LmhyZWZfbWF0Y2hpbmcpfHxcImV4YWN0XCIpKSYmKChudWxsPT10fHwhdC50YWdfbmFtZXx8ZS50YWdfbmFtZT09PShudWxsPT10P3ZvaWQgMDp0LnRhZ19uYW1lKSkmJiEobnVsbCE9dCYmdC50ZXh0JiYhTG4ubWF0Y2hTdHJpbmcoZS50ZXh0fHxcIlwiLG51bGw9PXQ/dm9pZCAwOnQudGV4dCwobnVsbD09dD92b2lkIDA6dC50ZXh0X21hdGNoaW5nKXx8XCJleGFjdFwiKSYmIUxuLm1hdGNoU3RyaW5nKGUuJGVsX3RleHR8fFwiXCIsbnVsbD09dD92b2lkIDA6dC50ZXh0LChudWxsPT10P3ZvaWQgMDp0LnRleHRfbWF0Y2hpbmcpfHxcImV4YWN0XCIpKSkpKSlyZXR1cm4hMTtpZihudWxsIT10JiZ0LnNlbGVjdG9yKXt2YXIgaSxzPW51bGw9PWV8fG51bGw9PT0oaT1lLnByb3BlcnRpZXMpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLiRlbGVtZW50X3NlbGVjdG9ycztpZighcylyZXR1cm4hMTtpZighcy5pbmNsdWRlcyhudWxsPT10P3ZvaWQgMDp0LnNlbGVjdG9yKSlyZXR1cm4hMX1yZXR1cm4hMH1nZXRFbGVtZW50c0xpc3QoZSl7cmV0dXJuIG51bGw9PShudWxsPT1lP3ZvaWQgMDplLnByb3BlcnRpZXMuJGVsZW1lbnRzKT9bXTpudWxsPT1lP3ZvaWQgMDplLnByb3BlcnRpZXMuJGVsZW1lbnRzfX1jbGFzcyBEbntjb25zdHJ1Y3RvcihlKXt0aGlzLmluc3RhbmNlPWUsdGhpcy5ldmVudFRvU3VydmV5cz1uZXcgTWFwLHRoaXMuYWN0aW9uVG9TdXJ2ZXlzPW5ldyBNYXB9cmVnaXN0ZXIoZSl7dmFyIHQ7RihudWxsPT09KHQ9dGhpcy5pbnN0YW5jZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuX2FkZENhcHR1cmVIb29rKXx8KHRoaXMuc2V0dXBFdmVudEJhc2VkU3VydmV5cyhlKSx0aGlzLnNldHVwQWN0aW9uQmFzZWRTdXJ2ZXlzKGUpKX1zZXR1cEFjdGlvbkJhc2VkU3VydmV5cyhlKXt2YXIgdD1lLmZpbHRlcigoZT0+e3ZhciB0LGkscyxyO3JldHVybihudWxsPT09KHQ9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09dD92b2lkIDA6dC5hY3Rpb25zKSYmKG51bGw9PT0oaT1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1pfHxudWxsPT09KHM9aS5hY3Rpb25zKXx8dm9pZCAwPT09c3x8bnVsbD09PShyPXMudmFsdWVzKXx8dm9pZCAwPT09cj92b2lkIDA6ci5sZW5ndGgpPjB9KSk7aWYoMCE9PXQubGVuZ3RoKXtpZihudWxsPT10aGlzLmFjdGlvbk1hdGNoZXIpe3RoaXMuYWN0aW9uTWF0Y2hlcj1uZXcgTG4odGhpcy5pbnN0YW5jZSksdGhpcy5hY3Rpb25NYXRjaGVyLmluaXQoKTt0aGlzLmFjdGlvbk1hdGNoZXIuX2FkZEFjdGlvbkhvb2soKGU9Pnt0aGlzLm9uQWN0aW9uKGUpfSkpfXQuZm9yRWFjaCgoZT0+e3ZhciB0LGkscyxyLG4sbyxhLGwsYyx1O2UuY29uZGl0aW9ucyYmbnVsbCE9PSh0PWUuY29uZGl0aW9ucykmJnZvaWQgMCE9PXQmJnQuYWN0aW9ucyYmbnVsbCE9PShpPWUuY29uZGl0aW9ucykmJnZvaWQgMCE9PWkmJm51bGwhPT0ocz1pLmFjdGlvbnMpJiZ2b2lkIDAhPT1zJiZzLnZhbHVlcyYmKG51bGw9PT0ocj1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1yfHxudWxsPT09KG49ci5hY3Rpb25zKXx8dm9pZCAwPT09bnx8bnVsbD09PShvPW4udmFsdWVzKXx8dm9pZCAwPT09bz92b2lkIDA6by5sZW5ndGgpPjAmJihudWxsPT09KGE9dGhpcy5hY3Rpb25NYXRjaGVyKXx8dm9pZCAwPT09YXx8YS5yZWdpc3RlcihlLmNvbmRpdGlvbnMuYWN0aW9ucy52YWx1ZXMpLG51bGw9PT0obD1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1sfHxudWxsPT09KGM9bC5hY3Rpb25zKXx8dm9pZCAwPT09Y3x8bnVsbD09PSh1PWMudmFsdWVzKXx8dm9pZCAwPT09dXx8dS5mb3JFYWNoKCh0PT57aWYodCYmdC5uYW1lKXt2YXIgaT10aGlzLmFjdGlvblRvU3VydmV5cy5nZXQodC5uYW1lKTtpJiZpLnB1c2goZS5pZCksdGhpcy5hY3Rpb25Ub1N1cnZleXMuc2V0KHQubmFtZSxpfHxbZS5pZF0pfX0pKSl9KSl9fXNldHVwRXZlbnRCYXNlZFN1cnZleXMoZSl7dmFyIHQ7aWYoMCE9PWUuZmlsdGVyKChlPT57dmFyIHQsaSxzLHI7cmV0dXJuKG51bGw9PT0odD1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmV2ZW50cykmJihudWxsPT09KGk9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09aXx8bnVsbD09PShzPWkuZXZlbnRzKXx8dm9pZCAwPT09c3x8bnVsbD09PShyPXMudmFsdWVzKXx8dm9pZCAwPT09cj92b2lkIDA6ci5sZW5ndGgpPjB9KSkubGVuZ3RoKXtudWxsPT09KHQ9dGhpcy5pbnN0YW5jZSl8fHZvaWQgMD09PXR8fHQuX2FkZENhcHR1cmVIb29rKCgoZSx0KT0+e3RoaXMub25FdmVudChlLHQpfSkpLGUuZm9yRWFjaCgoZT0+e3ZhciB0LGkscztudWxsPT09KHQ9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09dHx8bnVsbD09PShpPXQuZXZlbnRzKXx8dm9pZCAwPT09aXx8bnVsbD09PShzPWkudmFsdWVzKXx8dm9pZCAwPT09c3x8cy5mb3JFYWNoKCh0PT57aWYodCYmdC5uYW1lKXt2YXIgaT10aGlzLmV2ZW50VG9TdXJ2ZXlzLmdldCh0Lm5hbWUpO2kmJmkucHVzaChlLmlkKSx0aGlzLmV2ZW50VG9TdXJ2ZXlzLnNldCh0Lm5hbWUsaXx8W2UuaWRdKX19KSl9KSl9fW9uRXZlbnQoZSx0KXt2YXIgaSxzLHI9KG51bGw9PT0oaT10aGlzLmluc3RhbmNlKXx8dm9pZCAwPT09aXx8bnVsbD09PShzPWkucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLnByb3BzW09lXSl8fFtdO2lmKERuLlNVUlZFWV9TSE9XTl9FVkVOVF9OQU1FPT1lJiZ0JiZyLmxlbmd0aD4wKXt2YXIgbixvPW51bGw9PXR8fG51bGw9PT0obj10LnByb3BlcnRpZXMpfHx2b2lkIDA9PT1uP3ZvaWQgMDpuLiRzdXJ2ZXlfaWQ7aWYobyl7dmFyIGE9ci5pbmRleE9mKG8pO2E+PTAmJihyLnNwbGljZShhLDEpLHRoaXMuX3VwZGF0ZUFjdGl2YXRlZFN1cnZleXMocikpfX1lbHNlIHRoaXMuZXZlbnRUb1N1cnZleXMuaGFzKGUpJiZ0aGlzLl91cGRhdGVBY3RpdmF0ZWRTdXJ2ZXlzKHIuY29uY2F0KHRoaXMuZXZlbnRUb1N1cnZleXMuZ2V0KGUpfHxbXSkpfW9uQWN0aW9uKGUpe3ZhciB0LGkscz0obnVsbD09PSh0PXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT10fHxudWxsPT09KGk9dC5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWk/dm9pZCAwOmkucHJvcHNbT2VdKXx8W107dGhpcy5hY3Rpb25Ub1N1cnZleXMuaGFzKGUpJiZ0aGlzLl91cGRhdGVBY3RpdmF0ZWRTdXJ2ZXlzKHMuY29uY2F0KHRoaXMuYWN0aW9uVG9TdXJ2ZXlzLmdldChlKXx8W10pKX1fdXBkYXRlQWN0aXZhdGVkU3VydmV5cyhlKXt2YXIgdCxpO251bGw9PT0odD10aGlzLmluc3RhbmNlKXx8dm9pZCAwPT09dHx8bnVsbD09PShpPXQucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1pfHxpLnJlZ2lzdGVyKHtbT2VdOlsuLi5uZXcgU2V0KGUpXX0pfWdldFN1cnZleXMoKXt2YXIgZSx0LGk9bnVsbD09PShlPXRoaXMuaW5zdGFuY2UpfHx2b2lkIDA9PT1lfHxudWxsPT09KHQ9ZS5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQucHJvcHNbT2VdO3JldHVybiBpfHxbXX1nZXRFdmVudFRvU3VydmV5cygpe3JldHVybiB0aGlzLmV2ZW50VG9TdXJ2ZXlzfV9nZXRBY3Rpb25NYXRjaGVyKCl7cmV0dXJuIHRoaXMuYWN0aW9uTWF0Y2hlcn19VihEbixcIlNVUlZFWV9TSE9XTl9FVkVOVF9OQU1FXCIsXCJzdXJ2ZXkgc2hvd25cIik7dmFyIHFuPUgoXCJbU3VydmV5c11cIiksTm49e2ljb250YWluczooZSx0KT0+ZS5zb21lKChlPT50LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoZS50b0xvd2VyQ2FzZSgpKSkpLG5vdF9pY29udGFpbnM6KGUsdCk9PmUuZXZlcnkoKGU9PiF0LnRvTG93ZXJDYXNlKCkuaW5jbHVkZXMoZS50b0xvd2VyQ2FzZSgpKSkpLHJlZ2V4OihlLHQpPT5lLnNvbWUoKGU9Pk9uKHQsZSkpKSxub3RfcmVnZXg6KGUsdCk9PmUuZXZlcnkoKGU9PiFPbih0LGUpKSksZXhhY3Q6KGUsdCk9PmUuc29tZSgoZT0+dD09PWUpKSxpc19ub3Q6KGUsdCk9PmUuZXZlcnkoKGU9PnQhPT1lKSl9O2Z1bmN0aW9uIEJuKGUpe3JldHVybiBudWxsIT1lP2U6XCJpY29udGFpbnNcIn1jbGFzcyBIbntjb25zdHJ1Y3RvcihlKXtWKHRoaXMsXCJfaXNGZXRjaGluZ1N1cnZleXNcIiwhMSksVih0aGlzLFwiX2lzSW5pdGlhbGl6aW5nU3VydmV5c1wiLCExKSx0aGlzLmluc3RhbmNlPWUsdGhpcy5fc3VydmV5RXZlbnRSZWNlaXZlcj1udWxsfW9uUmVtb3RlQ29uZmlnKGUpe3RoaXMuX2RlY2lkZVNlcnZlclJlc3BvbnNlPSEhZS5zdXJ2ZXlzLHFuLmluZm8oXCJkZWNpZGVTZXJ2ZXJSZXNwb25zZSBzZXQgdG8gXCIuY29uY2F0KHRoaXMuX2RlY2lkZVNlcnZlclJlc3BvbnNlKSksdGhpcy5sb2FkSWZFbmFibGVkKCl9cmVzZXQoKXtsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShcImxhc3RTZWVuU3VydmV5RGF0ZVwiKTt2YXIgZT0oKCk9Pntmb3IodmFyIGU9W10sdD0wO3Q8bG9jYWxTdG9yYWdlLmxlbmd0aDt0Kyspe3ZhciBpPWxvY2FsU3RvcmFnZS5rZXkodCk7bnVsbCE9aSYmaS5zdGFydHNXaXRoKFwic2VlblN1cnZleV9cIikmJmUucHVzaChpKX1yZXR1cm4gZX0pKCk7ZS5mb3JFYWNoKChlPT5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbShlKSkpfWxvYWRJZkVuYWJsZWQoKXtpZighdGhpcy5fc3VydmV5TWFuYWdlcilpZih0aGlzLl9pc0luaXRpYWxpemluZ1N1cnZleXMpcW4uaW5mbyhcIkFscmVhZHkgaW5pdGlhbGl6aW5nIHN1cnZleXMsIHNraXBwaW5nLi4uXCIpO2Vsc2UgaWYodGhpcy5pbnN0YW5jZS5jb25maWcuZGlzYWJsZV9zdXJ2ZXlzKXFuLmluZm8oXCJEaXNhYmxlZC4gTm90IGxvYWRpbmcgc3VydmV5cy5cIik7ZWxzZXt2YXIgZT1udWxsPT1fP3ZvaWQgMDpfLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXztpZihlKWlmKHRoaXMuX2RlY2lkZVNlcnZlclJlc3BvbnNlKXt0aGlzLl9pc0luaXRpYWxpemluZ1N1cnZleXM9ITA7dHJ5e3ZhciB0PWUuZ2VuZXJhdGVTdXJ2ZXlzO2lmKHQpdGhpcy5fc3VydmV5TWFuYWdlcj10KHRoaXMuaW5zdGFuY2UpLHRoaXMuX2lzSW5pdGlhbGl6aW5nU3VydmV5cz0hMSx0aGlzLl9zdXJ2ZXlFdmVudFJlY2VpdmVyPW5ldyBEbih0aGlzLmluc3RhbmNlKSxxbi5pbmZvKFwiU3VydmV5cyBsb2FkZWQgc3VjY2Vzc2Z1bGx5XCIpO2Vsc2V7dmFyIGk9ZS5sb2FkRXh0ZXJuYWxEZXBlbmRlbmN5O2k/aSh0aGlzLmluc3RhbmNlLFwic3VydmV5c1wiLCh0PT57aWYodHx8IWUuZ2VuZXJhdGVTdXJ2ZXlzKXJldHVybiBxbi5lcnJvcihcIkNvdWxkIG5vdCBsb2FkIHN1cnZleXMgc2NyaXB0XCIsdCksdm9pZCh0aGlzLl9pc0luaXRpYWxpemluZ1N1cnZleXM9ITEpO3RoaXMuX3N1cnZleU1hbmFnZXI9ZS5nZW5lcmF0ZVN1cnZleXModGhpcy5pbnN0YW5jZSksdGhpcy5faXNJbml0aWFsaXppbmdTdXJ2ZXlzPSExLHRoaXMuX3N1cnZleUV2ZW50UmVjZWl2ZXI9bmV3IERuKHRoaXMuaW5zdGFuY2UpLHFuLmluZm8oXCJTdXJ2ZXlzIGxvYWRlZCBzdWNjZXNzZnVsbHlcIil9KSk6KHFuLmVycm9yKFwiUG9zdEhvZyBsb2FkRXh0ZXJuYWxEZXBlbmRlbmN5IGV4dGVuc2lvbiBub3QgZm91bmQuIENhbm5vdCBsb2FkIHJlbW90ZSBjb25maWcuXCIpLHRoaXMuX2lzSW5pdGlhbGl6aW5nU3VydmV5cz0hMSl9fWNhdGNoKGUpe3Rocm93IHFuLmVycm9yKFwiRXJyb3IgaW5pdGlhbGl6aW5nIHN1cnZleXNcIixlKSx0aGlzLl9pc0luaXRpYWxpemluZ1N1cnZleXM9ITEsZX19ZWxzZSBxbi53YXJuKFwiRGVjaWRlIG5vdCBsb2FkZWQgeWV0LiBOb3QgbG9hZGluZyBzdXJ2ZXlzLlwiKTtlbHNlIHFuLmVycm9yKFwiUG9zdEhvZyBFeHRlbnNpb25zIG5vdCBmb3VuZC5cIil9fWdldFN1cnZleXMoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTtpZih0aGlzLmluc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3N1cnZleXMpcmV0dXJuIHFuLmluZm8oXCJEaXNhYmxlZC4gTm90IGxvYWRpbmcgc3VydmV5cy5cIiksZShbXSk7dmFyIGk9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoQWUpO2lmKGkmJiF0KXJldHVybiBlKGkpO2lmKHRoaXMuX2lzRmV0Y2hpbmdTdXJ2ZXlzKXJldHVybiBlKFtdKTt0cnl7dGhpcy5faXNGZXRjaGluZ1N1cnZleXM9ITAsdGhpcy5pbnN0YW5jZS5fc2VuZF9yZXF1ZXN0KHt1cmw6dGhpcy5pbnN0YW5jZS5yZXF1ZXN0Um91dGVyLmVuZHBvaW50Rm9yKFwiYXBpXCIsXCIvYXBpL3N1cnZleXMvP3Rva2VuPVwiLmNvbmNhdCh0aGlzLmluc3RhbmNlLmNvbmZpZy50b2tlbikpLG1ldGhvZDpcIkdFVFwiLHRpbWVvdXQ6dGhpcy5pbnN0YW5jZS5jb25maWcuc3VydmV5c19yZXF1ZXN0X3RpbWVvdXRfbXMsY2FsbGJhY2s6dD0+e3ZhciBpO3RoaXMuX2lzRmV0Y2hpbmdTdXJ2ZXlzPSExO3ZhciBzPXQuc3RhdHVzQ29kZTtpZigyMDAhPT1zfHwhdC5qc29uKXJldHVybiBxbi5lcnJvcihcIlN1cnZleXMgQVBJIGNvdWxkIG5vdCBiZSBsb2FkZWQsIHN0YXR1czogXCIuY29uY2F0KHMpKSxlKFtdKTt2YXIgcixuPXQuanNvbi5zdXJ2ZXlzfHxbXSxvPW4uZmlsdGVyKChlPT57dmFyIHQsaSxzLHIsbixvLGEsbCxjLHUsZCxoO3JldHVybihudWxsPT09KHQ9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09dD92b2lkIDA6dC5ldmVudHMpJiYobnVsbD09PShpPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWl8fG51bGw9PT0ocz1pLmV2ZW50cyl8fHZvaWQgMD09PXM/dm9pZCAwOnMudmFsdWVzKSYmKG51bGw9PT0ocj1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1yfHxudWxsPT09KG49ci5ldmVudHMpfHx2b2lkIDA9PT1ufHxudWxsPT09KG89bi52YWx1ZXMpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLmxlbmd0aCk+MHx8KG51bGw9PT0oYT1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLmFjdGlvbnMpJiYobnVsbD09PShsPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWx8fG51bGw9PT0oYz1sLmFjdGlvbnMpfHx2b2lkIDA9PT1jP3ZvaWQgMDpjLnZhbHVlcykmJihudWxsPT09KHU9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09dXx8bnVsbD09PShkPXUuYWN0aW9ucyl8fHZvaWQgMD09PWR8fG51bGw9PT0oaD1kLnZhbHVlcyl8fHZvaWQgMD09PWg/dm9pZCAwOmgubGVuZ3RoKT4wfSkpO28ubGVuZ3RoPjAmJihudWxsPT09KHI9dGhpcy5fc3VydmV5RXZlbnRSZWNlaXZlcil8fHZvaWQgMD09PXJ8fHIucmVnaXN0ZXIobykpO3JldHVybiBudWxsPT09KGk9dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWl8fGkucmVnaXN0ZXIoe1tBZV06bn0pLGUobil9fSl9Y2F0Y2goZSl7dGhyb3cgdGhpcy5faXNGZXRjaGluZ1N1cnZleXM9ITEsZX19aXNTdXJ2ZXlGZWF0dXJlRmxhZ0VuYWJsZWQoZSl7cmV0dXJuIWV8fHRoaXMuaW5zdGFuY2UuZmVhdHVyZUZsYWdzLmlzRmVhdHVyZUVuYWJsZWQoZSl9Z2V0QWN0aXZlTWF0Y2hpbmdTdXJ2ZXlzKGUpe3ZhciBpPWFyZ3VtZW50cy5sZW5ndGg+MSYmdm9pZCAwIT09YXJndW1lbnRzWzFdJiZhcmd1bWVudHNbMV07dGhpcy5nZXRTdXJ2ZXlzKChpPT57dmFyIHMscj1pLmZpbHRlcigoZT0+ISghZS5zdGFydF9kYXRlfHxlLmVuZF9kYXRlKSkpLmZpbHRlcigoZT0+e3ZhciBpO2lmKCFlLmNvbmRpdGlvbnMpcmV0dXJuITA7dmFyIHM9ZnVuY3Rpb24oZSl7dmFyIGkscyxyO2lmKG51bGw9PT0oaT1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1pfHwhaS51cmwpcmV0dXJuITA7dmFyIG49bnVsbD09dHx8bnVsbD09PShzPXQubG9jYXRpb24pfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLmhyZWY7aWYoIW4pcmV0dXJuITE7dmFyIG89W2UuY29uZGl0aW9ucy51cmxdO3JldHVybiBObltCbihudWxsPT09KHI9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09cj92b2lkIDA6ci51cmxNYXRjaFR5cGUpXShvLG4pfShlKSxyPW51bGw9PT0oaT1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1pfHwhaS5zZWxlY3Rvcnx8KG51bGw9PWE/dm9pZCAwOmEucXVlcnlTZWxlY3RvcihlLmNvbmRpdGlvbnMuc2VsZWN0b3IpKSxuPWZ1bmN0aW9uKGUpe3ZhciB0LGkscztpZihudWxsPT09KHQ9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09dHx8IXQuZGV2aWNlVHlwZXN8fDA9PT0obnVsbD09PShpPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWk/dm9pZCAwOmkuZGV2aWNlVHlwZXMubGVuZ3RoKSlyZXR1cm4hMDtpZighaClyZXR1cm4hMTt2YXIgcj1Xci5kZXZpY2VUeXBlKGgpO3JldHVybiBObltCbihudWxsPT09KHM9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09cz92b2lkIDA6cy5kZXZpY2VUeXBlc01hdGNoVHlwZSldKGUuY29uZGl0aW9ucy5kZXZpY2VUeXBlcyxyKX0oZSk7cmV0dXJuIHMmJnImJm59KSksbj1udWxsPT09KHM9dGhpcy5fc3VydmV5RXZlbnRSZWNlaXZlcil8fHZvaWQgMD09PXM/dm9pZCAwOnMuZ2V0U3VydmV5cygpLG89ci5maWx0ZXIoKGU9Pnt2YXIgdCxpLHMscixvLGEsbCxjLHU7aWYoIShlLmxpbmtlZF9mbGFnX2tleXx8ZS50YXJnZXRpbmdfZmxhZ19rZXl8fGUuaW50ZXJuYWxfdGFyZ2V0aW5nX2ZsYWdfa2V5fHxudWxsIT09KHQ9ZS5mZWF0dXJlX2ZsYWdfa2V5cykmJnZvaWQgMCE9PXQmJnQubGVuZ3RoKSlyZXR1cm4hMDt2YXIgZD10aGlzLmlzU3VydmV5RmVhdHVyZUZsYWdFbmFibGVkKGUubGlua2VkX2ZsYWdfa2V5KSxoPXRoaXMuaXNTdXJ2ZXlGZWF0dXJlRmxhZ0VuYWJsZWQoZS50YXJnZXRpbmdfZmxhZ19rZXkpLF89KG51bGwhPT0oaT1udWxsPT09KHM9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09c3x8bnVsbD09PShyPXMuZXZlbnRzKXx8dm9pZCAwPT09cnx8bnVsbD09PShvPXIudmFsdWVzKXx8dm9pZCAwPT09bz92b2lkIDA6by5sZW5ndGgpJiZ2b2lkIDAhPT1pP2k6MCk+MCxwPShudWxsIT09KGE9bnVsbD09PShsPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWx8fG51bGw9PT0oYz1sLmFjdGlvbnMpfHx2b2lkIDA9PT1jfHxudWxsPT09KHU9Yy52YWx1ZXMpfHx2b2lkIDA9PT11P3ZvaWQgMDp1Lmxlbmd0aCkmJnZvaWQgMCE9PWE/YTowKT4wLGc9IV8mJiFwfHwobnVsbD09bj92b2lkIDA6bi5pbmNsdWRlcyhlLmlkKSksdj10aGlzLl9jYW5BY3RpdmF0ZVJlcGVhdGVkbHkoZSl8fHRoaXMuaXNTdXJ2ZXlGZWF0dXJlRmxhZ0VuYWJsZWQoZS5pbnRlcm5hbF90YXJnZXRpbmdfZmxhZ19rZXkpLGY9dGhpcy5jaGVja0ZsYWdzKGUpO3JldHVybiBkJiZoJiZ2JiZnJiZmfSkpO3JldHVybiBlKG8pfSksaSl9Y2hlY2tGbGFncyhlKXt2YXIgdDtyZXR1cm4gbnVsbD09PSh0PWUuZmVhdHVyZV9mbGFnX2tleXMpfHx2b2lkIDA9PT10fHwhdC5sZW5ndGh8fGUuZmVhdHVyZV9mbGFnX2tleXMuZXZlcnkoKGU9Pnt2YXJ7a2V5OnQsdmFsdWU6aX09ZTtyZXR1cm4hdHx8IWl8fHRoaXMuaW5zdGFuY2UuZmVhdHVyZUZsYWdzLmlzRmVhdHVyZUVuYWJsZWQoaSl9KSl9X2NhbkFjdGl2YXRlUmVwZWF0ZWRseShlKXt2YXIgdDtyZXR1cm4gQShudWxsPT09KHQ9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNhbkFjdGl2YXRlUmVwZWF0ZWRseSk/KHFuLndhcm4oXCJpbml0IHdhcyBub3QgY2FsbGVkXCIpLCExKTpfLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXy5jYW5BY3RpdmF0ZVJlcGVhdGVkbHkoZSl9Y2FuUmVuZGVyU3VydmV5KGUpe0EodGhpcy5fc3VydmV5TWFuYWdlcik/cW4ud2FybihcImluaXQgd2FzIG5vdCBjYWxsZWRcIik6dGhpcy5nZXRTdXJ2ZXlzKCh0PT57dmFyIGk9dC5maWx0ZXIoKHQ9PnQuaWQ9PT1lKSlbMF07dGhpcy5fc3VydmV5TWFuYWdlci5jYW5SZW5kZXJTdXJ2ZXkoaSl9KSl9cmVuZGVyU3VydmV5KGUsdCl7QSh0aGlzLl9zdXJ2ZXlNYW5hZ2VyKT9xbi53YXJuKFwiaW5pdCB3YXMgbm90IGNhbGxlZFwiKTp0aGlzLmdldFN1cnZleXMoKGk9Pnt2YXIgcz1pLmZpbHRlcigodD0+dC5pZD09PWUpKVswXTt0aGlzLl9zdXJ2ZXlNYW5hZ2VyLnJlbmRlclN1cnZleShzLG51bGw9PWE/dm9pZCAwOmEucXVlcnlTZWxlY3Rvcih0KSl9KSl9fXZhciBVbj1IKFwiW1JhdGVMaW1pdGVyXVwiKTtjbGFzcyB6bntjb25zdHJ1Y3RvcihlKXt2YXIgdCxpO1YodGhpcyxcInNlcnZlckxpbWl0c1wiLHt9KSxWKHRoaXMsXCJsYXN0RXZlbnRSYXRlTGltaXRlZFwiLCExKSxWKHRoaXMsXCJjaGVja0ZvckxpbWl0aW5nXCIsKGU9Pnt2YXIgdD1lLnRleHQ7aWYodCYmdC5sZW5ndGgpdHJ5eyhKU09OLnBhcnNlKHQpLnF1b3RhX2xpbWl0ZWR8fFtdKS5mb3JFYWNoKChlPT57VW4uaW5mbyhcIlwiLmNvbmNhdChlfHxcImV2ZW50c1wiLFwiIGlzIHF1b3RhIGxpbWl0ZWQuXCIpKSx0aGlzLnNlcnZlckxpbWl0c1tlXT0obmV3IERhdGUpLmdldFRpbWUoKSs2ZTR9KSl9Y2F0Y2goZSl7cmV0dXJuIHZvaWQgVW4ud2FybignY291bGQgbm90IHJhdGUgbGltaXQgLSBjb250aW51aW5nLiBFcnJvcjogXCInLmNvbmNhdChudWxsPT1lP3ZvaWQgMDplLm1lc3NhZ2UsJ1wiJykse3RleHQ6dH0pfX0pKSx0aGlzLmluc3RhbmNlPWUsdGhpcy5jYXB0dXJlRXZlbnRzUGVyU2Vjb25kPShudWxsPT09KHQ9ZS5jb25maWcucmF0ZV9saW1pdGluZyl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZXZlbnRzX3Blcl9zZWNvbmQpfHwxMCx0aGlzLmNhcHR1cmVFdmVudHNCdXJzdExpbWl0PU1hdGgubWF4KChudWxsPT09KGk9ZS5jb25maWcucmF0ZV9saW1pdGluZyl8fHZvaWQgMD09PWk/dm9pZCAwOmkuZXZlbnRzX2J1cnN0X2xpbWl0KXx8MTAqdGhpcy5jYXB0dXJlRXZlbnRzUGVyU2Vjb25kLHRoaXMuY2FwdHVyZUV2ZW50c1BlclNlY29uZCksdGhpcy5sYXN0RXZlbnRSYXRlTGltaXRlZD10aGlzLmNsaWVudFJhdGVMaW1pdENvbnRleHQoITApLmlzUmF0ZUxpbWl0ZWR9Y2xpZW50UmF0ZUxpbWl0Q29udGV4dCgpe3ZhciBlLHQsaSxzPWFyZ3VtZW50cy5sZW5ndGg+MCYmdm9pZCAwIT09YXJndW1lbnRzWzBdJiZhcmd1bWVudHNbMF0scj0obmV3IERhdGUpLmdldFRpbWUoKSxuPW51bGwhPT0oZT1udWxsPT09KHQ9dGhpcy5pbnN0YW5jZS5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0X3Byb3BlcnR5KHFlKSkmJnZvaWQgMCE9PWU/ZTp7dG9rZW5zOnRoaXMuY2FwdHVyZUV2ZW50c0J1cnN0TGltaXQsbGFzdDpyfTtuLnRva2Vucys9KHItbi5sYXN0KS8xZTMqdGhpcy5jYXB0dXJlRXZlbnRzUGVyU2Vjb25kLG4ubGFzdD1yLG4udG9rZW5zPnRoaXMuY2FwdHVyZUV2ZW50c0J1cnN0TGltaXQmJihuLnRva2Vucz10aGlzLmNhcHR1cmVFdmVudHNCdXJzdExpbWl0KTt2YXIgbz1uLnRva2VuczwxO3JldHVybiBvfHxzfHwobi50b2tlbnM9TWF0aC5tYXgoMCxuLnRva2Vucy0xKSksIW98fHRoaXMubGFzdEV2ZW50UmF0ZUxpbWl0ZWR8fHN8fHRoaXMuaW5zdGFuY2UuY2FwdHVyZShcIiQkY2xpZW50X2luZ2VzdGlvbl93YXJuaW5nXCIseyQkY2xpZW50X2luZ2VzdGlvbl93YXJuaW5nX21lc3NhZ2U6XCJwb3N0aG9nLWpzIGNsaWVudCByYXRlIGxpbWl0ZWQuIENvbmZpZyBpcyBzZXQgdG8gXCIuY29uY2F0KHRoaXMuY2FwdHVyZUV2ZW50c1BlclNlY29uZCxcIiBldmVudHMgcGVyIHNlY29uZCBhbmQgXCIpLmNvbmNhdCh0aGlzLmNhcHR1cmVFdmVudHNCdXJzdExpbWl0LFwiIGV2ZW50cyBidXJzdCBsaW1pdC5cIil9LHtza2lwX2NsaWVudF9yYXRlX2xpbWl0aW5nOiEwfSksdGhpcy5sYXN0RXZlbnRSYXRlTGltaXRlZD1vLG51bGw9PT0oaT10aGlzLmluc3RhbmNlLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09aXx8aS5zZXRfcHJvcGVydHkocWUsbikse2lzUmF0ZUxpbWl0ZWQ6byxyZW1haW5pbmdUb2tlbnM6bi50b2tlbnN9fWlzU2VydmVyUmF0ZUxpbWl0ZWQoZSl7dmFyIHQ9dGhpcy5zZXJ2ZXJMaW1pdHNbZXx8XCJldmVudHNcIl18fCExO3JldHVybiExIT09dCYmKG5ldyBEYXRlKS5nZXRUaW1lKCk8dH19dmFyIGpuPUgoXCJbUmVtb3RlQ29uZmlnXVwiKTtjbGFzcyBXbntjb25zdHJ1Y3RvcihlKXt0aGlzLmluc3RhbmNlPWV9Z2V0IHJlbW90ZUNvbmZpZygpe3ZhciBlLHQ7cmV0dXJuIG51bGw9PT0oZT1fLl9QT1NUSE9HX1JFTU9URV9DT05GSUcpfHx2b2lkIDA9PT1lfHxudWxsPT09KHQ9ZVt0aGlzLmluc3RhbmNlLmNvbmZpZy50b2tlbl0pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNvbmZpZ31fbG9hZFJlbW90ZUNvbmZpZ0pzKGUpe3ZhciB0LGkscztudWxsIT09KHQ9Xy5fX1Bvc3Rob2dFeHRlbnNpb25zX18pJiZ2b2lkIDAhPT10JiZ0LmxvYWRFeHRlcm5hbERlcGVuZGVuY3k/bnVsbD09PShpPV8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fKXx8dm9pZCAwPT09aXx8bnVsbD09PShzPWkubG9hZEV4dGVybmFsRGVwZW5kZW5jeSl8fHZvaWQgMD09PXN8fHMuY2FsbChpLHRoaXMuaW5zdGFuY2UsXCJyZW1vdGUtY29uZmlnXCIsKCgpPT5lKHRoaXMucmVtb3RlQ29uZmlnKSkpOihqbi5lcnJvcihcIlBvc3RIb2cgRXh0ZW5zaW9ucyBub3QgZm91bmQuIENhbm5vdCBsb2FkIHJlbW90ZSBjb25maWcuXCIpLGUoKSl9X2xvYWRSZW1vdGVDb25maWdKU09OKGUpe3RoaXMuaW5zdGFuY2UuX3NlbmRfcmVxdWVzdCh7bWV0aG9kOlwiR0VUXCIsdXJsOnRoaXMuaW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFzc2V0c1wiLFwiL2FycmF5L1wiLmNvbmNhdCh0aGlzLmluc3RhbmNlLmNvbmZpZy50b2tlbixcIi9jb25maWdcIikpLGNhbGxiYWNrOnQ9PntlKHQuanNvbil9fSl9bG9hZCgpe3RyeXtpZih0aGlzLnJlbW90ZUNvbmZpZylyZXR1cm4gam4uaW5mbyhcIlVzaW5nIHByZWxvYWRlZCByZW1vdGUgY29uZmlnXCIsdGhpcy5yZW1vdGVDb25maWcpLHZvaWQgdGhpcy5vblJlbW90ZUNvbmZpZyh0aGlzLnJlbW90ZUNvbmZpZyk7aWYodGhpcy5pbnN0YW5jZS5jb25maWcuYWR2YW5jZWRfZGlzYWJsZV9kZWNpZGUpcmV0dXJuIHZvaWQgam4ud2FybihcIlJlbW90ZSBjb25maWcgaXMgZGlzYWJsZWQuIEZhbGxpbmcgYmFjayB0byBsb2NhbCBjb25maWcuXCIpO3RoaXMuX2xvYWRSZW1vdGVDb25maWdKcygoZT0+e2lmKCFlKXJldHVybiBqbi5pbmZvKFwiTm8gY29uZmlnIGZvdW5kIGFmdGVyIGxvYWRpbmcgcmVtb3RlIEpTIGNvbmZpZy4gRmFsbGluZyBiYWNrIHRvIEpTT04uXCIpLHZvaWQgdGhpcy5fbG9hZFJlbW90ZUNvbmZpZ0pTT04oKGU9Pnt0aGlzLm9uUmVtb3RlQ29uZmlnKGUpfSkpO3RoaXMub25SZW1vdGVDb25maWcoZSl9KSl9Y2F0Y2goZSl7am4uZXJyb3IoXCJFcnJvciBsb2FkaW5nIHJlbW90ZSBjb25maWdcIixlKX19b25SZW1vdGVDb25maWcoZSl7ZT90aGlzLmluc3RhbmNlLmNvbmZpZy5fX3ByZXZpZXdfcmVtb3RlX2NvbmZpZz8odGhpcy5pbnN0YW5jZS5fb25SZW1vdGVDb25maWcoZSksITEhPT1lLmhhc0ZlYXR1cmVGbGFncyYmdGhpcy5pbnN0YW5jZS5mZWF0dXJlRmxhZ3MuZW5zdXJlRmxhZ3NMb2FkZWQoKSk6am4uaW5mbyhcIl9fcHJldmlld19yZW1vdGVfY29uZmlnIGlzIGRpc2FibGVkLiBMb2dnaW5nIGNvbmZpZyBpbnN0ZWFkXCIsZSk6am4uZXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggcmVtb3RlIGNvbmZpZyBmcm9tIFBvc3RIb2cuXCIpfX12YXIgVm49ZnVuY3Rpb24oZSl7dmFyIHQsaSxzLHIsbj1cIlwiO2Zvcih0PWk9MCxzPShlPShlK1wiXCIpLnJlcGxhY2UoL1xcclxcbi9nLFwiXFxuXCIpLnJlcGxhY2UoL1xcci9nLFwiXFxuXCIpKS5sZW5ndGgscj0wO3I8cztyKyspe3ZhciBvPWUuY2hhckNvZGVBdChyKSxhPW51bGw7bzwxMjg/aSsrOmE9bz4xMjcmJm88MjA0OD9TdHJpbmcuZnJvbUNoYXJDb2RlKG8+PjZ8MTkyLDYzJm98MTI4KTpTdHJpbmcuZnJvbUNoYXJDb2RlKG8+PjEyfDIyNCxvPj42JjYzfDEyOCw2MyZvfDEyOCksJChhKXx8KGk+dCYmKG4rPWUuc3Vic3RyaW5nKHQsaSkpLG4rPWEsdD1pPXIrMSl9cmV0dXJuIGk+dCYmKG4rPWUuc3Vic3RyaW5nKHQsZS5sZW5ndGgpKSxufSxHbj0hIXV8fCEhYyxKbj1cInRleHQvcGxhaW5cIixZbj0oZSx0KT0+e3ZhcltpLHNdPWUuc3BsaXQoXCI/XCIpLHI9Vyh7fSx0KTtudWxsPT1zfHxzLnNwbGl0KFwiJlwiKS5mb3JFYWNoKChlPT57dmFyW3RdPWUuc3BsaXQoXCI9XCIpO2RlbGV0ZSByW3RdfSkpO3ZhciBuPWt0KHIpO3JldHVybiBuPW4/KHM/cytcIiZcIjpcIlwiKStuOnMsXCJcIi5jb25jYXQoaSxcIj9cIikuY29uY2F0KG4pfSxLbj0oZSx0KT0+SlNPTi5zdHJpbmdpZnkoZSwoKGUsdCk9PlwiYmlnaW50XCI9PXR5cGVvZiB0P3QudG9TdHJpbmcoKTp0KSx0KSxYbj10PT57dmFye2RhdGE6aSxjb21wcmVzc2lvbjpzfT10O2lmKGkpe2lmKHM9PT1lLkdaaXBKUyl7dmFyIHI9bnMob3MoS24oaSkpLHttdGltZTowfSksbj1uZXcgQmxvYihbcl0se3R5cGU6Sm59KTtyZXR1cm57Y29udGVudFR5cGU6Sm4sYm9keTpuLGVzdGltYXRlZFNpemU6bi5zaXplfX1pZihzPT09ZS5CYXNlNjQpe3ZhciBvPWZ1bmN0aW9uKGUpe3ZhciB0LGkscyxyLG4sbz1cIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXowMTIzNDU2Nzg5Ky89XCIsYT0wLGw9MCxjPVwiXCIsdT1bXTtpZighZSlyZXR1cm4gZTtlPVZuKGUpO2Rve3Q9KG49ZS5jaGFyQ29kZUF0KGErKyk8PDE2fGUuY2hhckNvZGVBdChhKyspPDw4fGUuY2hhckNvZGVBdChhKyspKT4+MTgmNjMsaT1uPj4xMiY2MyxzPW4+PjYmNjMscj02MyZuLHVbbCsrXT1vLmNoYXJBdCh0KStvLmNoYXJBdChpKStvLmNoYXJBdChzKStvLmNoYXJBdChyKX13aGlsZShhPGUubGVuZ3RoKTtzd2l0Y2goYz11LmpvaW4oXCJcIiksZS5sZW5ndGglMyl7Y2FzZSAxOmM9Yy5zbGljZSgwLC0yKStcIj09XCI7YnJlYWs7Y2FzZSAyOmM9Yy5zbGljZSgwLC0xKStcIj1cIn1yZXR1cm4gY30oS24oaSkpLGE9KGU9PlwiZGF0YT1cIitlbmNvZGVVUklDb21wb25lbnQoXCJzdHJpbmdcIj09dHlwZW9mIGU/ZTpLbihlKSkpKG8pO3JldHVybntjb250ZW50VHlwZTpcImFwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZFwiLGJvZHk6YSxlc3RpbWF0ZWRTaXplOm5ldyBCbG9iKFthXSkuc2l6ZX19dmFyIGw9S24oaSk7cmV0dXJue2NvbnRlbnRUeXBlOlwiYXBwbGljYXRpb24vanNvblwiLGJvZHk6bCxlc3RpbWF0ZWRTaXplOm5ldyBCbG9iKFtsXSkuc2l6ZX19fSxRbj1bXTtjJiZRbi5wdXNoKHt0cmFuc3BvcnQ6XCJmZXRjaFwiLG1ldGhvZDplPT57dmFyIHQsaSx7Y29udGVudFR5cGU6cyxib2R5OnIsZXN0aW1hdGVkU2l6ZTpufT1udWxsIT09KHQ9WG4oZSkpJiZ2b2lkIDAhPT10P3Q6e30sbz1uZXcgSGVhZGVycztLKGUuaGVhZGVycywoZnVuY3Rpb24oZSx0KXtvLmFwcGVuZCh0LGUpfSkpLHMmJm8uYXBwZW5kKFwiQ29udGVudC1UeXBlXCIscyk7dmFyIGE9ZS51cmwsbD1udWxsO2lmKGQpe3ZhciB1PW5ldyBkO2w9e3NpZ25hbDp1LnNpZ25hbCx0aW1lb3V0OnNldFRpbWVvdXQoKCgpPT51LmFib3J0KCkpLGUudGltZW91dCl9fWMoYSxXKHttZXRob2Q6KG51bGw9PWU/dm9pZCAwOmUubWV0aG9kKXx8XCJHRVRcIixoZWFkZXJzOm8sa2VlcGFsaXZlOlwiUE9TVFwiPT09ZS5tZXRob2QmJihufHwwKTw1MjQyOC44LGJvZHk6cixzaWduYWw6bnVsbD09PShpPWwpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLnNpZ25hbH0sZS5mZXRjaE9wdGlvbnMpKS50aGVuKCh0PT50LnRleHQoKS50aGVuKChpPT57dmFyIHMscj17c3RhdHVzQ29kZTp0LnN0YXR1cyx0ZXh0Oml9O2lmKDIwMD09PXQuc3RhdHVzKXRyeXtyLmpzb249SlNPTi5wYXJzZShpKX1jYXRjaChlKXtCLmVycm9yKGUpfW51bGw9PT0ocz1lLmNhbGxiYWNrKXx8dm9pZCAwPT09c3x8cy5jYWxsKGUscil9KSkpKS5jYXRjaCgodD0+e3ZhciBpO0IuZXJyb3IodCksbnVsbD09PShpPWUuY2FsbGJhY2spfHx2b2lkIDA9PT1pfHxpLmNhbGwoZSx7c3RhdHVzQ29kZTowLHRleHQ6dH0pfSkpLmZpbmFsbHkoKCgpPT5sP2NsZWFyVGltZW91dChsLnRpbWVvdXQpOm51bGwpKX19KSx1JiZRbi5wdXNoKHt0cmFuc3BvcnQ6XCJYSFJcIixtZXRob2Q6ZT0+e3ZhciB0LGk9bmV3IHU7aS5vcGVuKGUubWV0aG9kfHxcIkdFVFwiLGUudXJsLCEwKTt2YXJ7Y29udGVudFR5cGU6cyxib2R5OnJ9PW51bGwhPT0odD1YbihlKSkmJnZvaWQgMCE9PXQ/dDp7fTtLKGUuaGVhZGVycywoZnVuY3Rpb24oZSx0KXtpLnNldFJlcXVlc3RIZWFkZXIodCxlKX0pKSxzJiZpLnNldFJlcXVlc3RIZWFkZXIoXCJDb250ZW50LVR5cGVcIixzKSxlLnRpbWVvdXQmJihpLnRpbWVvdXQ9ZS50aW1lb3V0KSxpLndpdGhDcmVkZW50aWFscz0hMCxpLm9ucmVhZHlzdGF0ZWNoYW5nZT0oKT0+e2lmKDQ9PT1pLnJlYWR5U3RhdGUpe3ZhciB0LHM9e3N0YXR1c0NvZGU6aS5zdGF0dXMsdGV4dDppLnJlc3BvbnNlVGV4dH07aWYoMjAwPT09aS5zdGF0dXMpdHJ5e3MuanNvbj1KU09OLnBhcnNlKGkucmVzcG9uc2VUZXh0KX1jYXRjaChlKXt9bnVsbD09PSh0PWUuY2FsbGJhY2spfHx2b2lkIDA9PT10fHx0LmNhbGwoZSxzKX19LGkuc2VuZChyKX19KSxudWxsIT1vJiZvLnNlbmRCZWFjb24mJlFuLnB1c2goe3RyYW5zcG9ydDpcInNlbmRCZWFjb25cIixtZXRob2Q6ZT0+e3ZhciB0PVluKGUudXJsLHtiZWFjb246XCIxXCJ9KTt0cnl7dmFyIGkse2NvbnRlbnRUeXBlOnMsYm9keTpyfT1udWxsIT09KGk9WG4oZSkpJiZ2b2lkIDAhPT1pP2k6e30sbj1cInN0cmluZ1wiPT10eXBlb2Ygcj9uZXcgQmxvYihbcl0se3R5cGU6c30pOnI7by5zZW5kQmVhY29uKHQsbil9Y2F0Y2goZSl7fX19KTt2YXIgWm49M2UzO2NsYXNzIGVve2NvbnN0cnVjdG9yKGUsdCl7Vih0aGlzLFwiaXNQYXVzZWRcIiwhMCksVih0aGlzLFwicXVldWVcIixbXSksdGhpcy5mbHVzaFRpbWVvdXRNcz13aSgobnVsbD09dD92b2lkIDA6dC5mbHVzaF9pbnRlcnZhbF9tcyl8fFpuLDI1MCw1ZTMsXCJmbHVzaCBpbnRlcnZhbFwiLFpuKSx0aGlzLnNlbmRSZXF1ZXN0PWV9ZW5xdWV1ZShlKXt0aGlzLnF1ZXVlLnB1c2goZSksdGhpcy5mbHVzaFRpbWVvdXR8fHRoaXMuc2V0Rmx1c2hUaW1lb3V0KCl9dW5sb2FkKCl7dGhpcy5jbGVhckZsdXNoVGltZW91dCgpO3ZhciBlPXRoaXMucXVldWUubGVuZ3RoPjA/dGhpcy5mb3JtYXRRdWV1ZSgpOnt9LHQ9T2JqZWN0LnZhbHVlcyhlKSxpPVsuLi50LmZpbHRlcigoZT0+MD09PWUudXJsLmluZGV4T2YoXCIvZVwiKSkpLC4uLnQuZmlsdGVyKChlPT4wIT09ZS51cmwuaW5kZXhPZihcIi9lXCIpKSldO2kubWFwKChlPT57dGhpcy5zZW5kUmVxdWVzdChXKFcoe30sZSkse30se3RyYW5zcG9ydDpcInNlbmRCZWFjb25cIn0pKX0pKX1lbmFibGUoKXt0aGlzLmlzUGF1c2VkPSExLHRoaXMuc2V0Rmx1c2hUaW1lb3V0KCl9c2V0Rmx1c2hUaW1lb3V0KCl7dmFyIGU9dGhpczt0aGlzLmlzUGF1c2VkfHwodGhpcy5mbHVzaFRpbWVvdXQ9c2V0VGltZW91dCgoKCk9PntpZih0aGlzLmNsZWFyRmx1c2hUaW1lb3V0KCksdGhpcy5xdWV1ZS5sZW5ndGg+MCl7dmFyIHQ9dGhpcy5mb3JtYXRRdWV1ZSgpLGk9ZnVuY3Rpb24oaSl7dmFyIHM9dFtpXSxyPShuZXcgRGF0ZSkuZ2V0VGltZSgpO3MuZGF0YSYmeChzLmRhdGEpJiZLKHMuZGF0YSwoZT0+e2Uub2Zmc2V0PU1hdGguYWJzKGUudGltZXN0YW1wLXIpLGRlbGV0ZSBlLnRpbWVzdGFtcH0pKSxlLnNlbmRSZXF1ZXN0KHMpfTtmb3IodmFyIHMgaW4gdClpKHMpfX0pLHRoaXMuZmx1c2hUaW1lb3V0TXMpKX1jbGVhckZsdXNoVGltZW91dCgpe2NsZWFyVGltZW91dCh0aGlzLmZsdXNoVGltZW91dCksdGhpcy5mbHVzaFRpbWVvdXQ9dm9pZCAwfWZvcm1hdFF1ZXVlKCl7dmFyIGU9e307cmV0dXJuIEsodGhpcy5xdWV1ZSwodD0+e3ZhciBpLHM9dCxyPShzP3MuYmF0Y2hLZXk6bnVsbCl8fHMudXJsO0YoZVtyXSkmJihlW3JdPVcoVyh7fSxzKSx7fSx7ZGF0YTpbXX0pKSxudWxsPT09KGk9ZVtyXS5kYXRhKXx8dm9pZCAwPT09aXx8aS5wdXNoKHMuZGF0YSl9KSksdGhpcy5xdWV1ZT1bXSxlfX12YXIgdG89W1wicmV0cmllc1BlcmZvcm1lZFNvRmFyXCJdO2NsYXNzIGlve2NvbnN0cnVjdG9yKGUpe1YodGhpcyxcImlzUG9sbGluZ1wiLCExKSxWKHRoaXMsXCJwb2xsSW50ZXJ2YWxNc1wiLDNlMyksVih0aGlzLFwicXVldWVcIixbXSksdGhpcy5pbnN0YW5jZT1lLHRoaXMucXVldWU9W10sdGhpcy5hcmVXZU9ubGluZT0hMCwhRih0KSYmXCJvbkxpbmVcImluIHQubmF2aWdhdG9yJiYodGhpcy5hcmVXZU9ubGluZT10Lm5hdmlnYXRvci5vbkxpbmUsYWUodCxcIm9ubGluZVwiLCgoKT0+e3RoaXMuYXJlV2VPbmxpbmU9ITAsdGhpcy5mbHVzaCgpfSkpLGFlKHQsXCJvZmZsaW5lXCIsKCgpPT57dGhpcy5hcmVXZU9ubGluZT0hMX0pKSl9cmV0cmlhYmxlUmVxdWVzdChlKXt2YXJ7cmV0cmllc1BlcmZvcm1lZFNvRmFyOnR9PWUsaT1HKGUsdG8pO08odCkmJnQ+MCYmKGkudXJsPVluKGkudXJsLHtyZXRyeV9jb3VudDp0fSkpLHRoaXMuaW5zdGFuY2UuX3NlbmRfcmVxdWVzdChXKFcoe30saSkse30se2NhbGxiYWNrOmU9Pnt2YXIgczsyMDAhPT1lLnN0YXR1c0NvZGUmJihlLnN0YXR1c0NvZGU8NDAwfHxlLnN0YXR1c0NvZGU+PTUwMCkmJihudWxsIT10P3Q6MCk8MTA/dGhpcy5lbnF1ZXVlKFcoe3JldHJpZXNQZXJmb3JtZWRTb0Zhcjp0fSxpKSk6bnVsbD09PShzPWkuY2FsbGJhY2spfHx2b2lkIDA9PT1zfHxzLmNhbGwoaSxlKX19KSl9ZW5xdWV1ZShlKXt2YXIgdD1lLnJldHJpZXNQZXJmb3JtZWRTb0Zhcnx8MDtlLnJldHJpZXNQZXJmb3JtZWRTb0Zhcj10KzE7dmFyIGk9ZnVuY3Rpb24oZSl7dmFyIHQ9M2UzKk1hdGgucG93KDIsZSksaT10LzIscz1NYXRoLm1pbigxOGU1LHQpLHI9KE1hdGgucmFuZG9tKCktLjUpKihzLWkpO3JldHVybiBNYXRoLmNlaWwocytyKX0odCkscz1EYXRlLm5vdygpK2k7dGhpcy5xdWV1ZS5wdXNoKHtyZXRyeUF0OnMscmVxdWVzdE9wdGlvbnM6ZX0pO3ZhciByPVwiRW5xdWV1ZWQgZmFpbGVkIHJlcXVlc3QgZm9yIHJldHJ5IGluIFwiLmNvbmNhdChpKTtuYXZpZ2F0b3Iub25MaW5lfHwocis9XCIgKEJyb3dzZXIgaXMgb2ZmbGluZSlcIiksQi53YXJuKHIpLHRoaXMuaXNQb2xsaW5nfHwodGhpcy5pc1BvbGxpbmc9ITAsdGhpcy5wb2xsKCkpfXBvbGwoKXt0aGlzLnBvbGxlciYmY2xlYXJUaW1lb3V0KHRoaXMucG9sbGVyKSx0aGlzLnBvbGxlcj1zZXRUaW1lb3V0KCgoKT0+e3RoaXMuYXJlV2VPbmxpbmUmJnRoaXMucXVldWUubGVuZ3RoPjAmJnRoaXMuZmx1c2goKSx0aGlzLnBvbGwoKX0pLHRoaXMucG9sbEludGVydmFsTXMpfWZsdXNoKCl7dmFyIGU9RGF0ZS5ub3coKSx0PVtdLGk9dGhpcy5xdWV1ZS5maWx0ZXIoKGk9PmkucmV0cnlBdDxlfHwodC5wdXNoKGkpLCExKSkpO2lmKHRoaXMucXVldWU9dCxpLmxlbmd0aD4wKWZvcih2YXJ7cmVxdWVzdE9wdGlvbnM6c31vZiBpKXRoaXMucmV0cmlhYmxlUmVxdWVzdChzKX11bmxvYWQoKXtmb3IodmFye3JlcXVlc3RPcHRpb25zOmV9b2YodGhpcy5wb2xsZXImJihjbGVhclRpbWVvdXQodGhpcy5wb2xsZXIpLHRoaXMucG9sbGVyPXZvaWQgMCksdGhpcy5xdWV1ZSkpdHJ5e3RoaXMuaW5zdGFuY2UuX3NlbmRfcmVxdWVzdChXKFcoe30sZSkse30se3RyYW5zcG9ydDpcInNlbmRCZWFjb25cIn0pKX1jYXRjaChlKXtCLmVycm9yKGUpfXRoaXMucXVldWU9W119fWNsYXNzIHNve2NvbnN0cnVjdG9yKGUpe1YodGhpcyxcIl91cGRhdGVTY3JvbGxEYXRhXCIsKCgpPT57dmFyIGUsdCxpLHM7dGhpcy5jb250ZXh0fHwodGhpcy5jb250ZXh0PXt9KTt2YXIgcj10aGlzLnNjcm9sbEVsZW1lbnQoKSxuPXRoaXMuc2Nyb2xsWSgpLG89cj9NYXRoLm1heCgwLHIuc2Nyb2xsSGVpZ2h0LXIuY2xpZW50SGVpZ2h0KTowLGE9bisoKG51bGw9PXI/dm9pZCAwOnIuY2xpZW50SGVpZ2h0KXx8MCksbD0obnVsbD09cj92b2lkIDA6ci5zY3JvbGxIZWlnaHQpfHwwO3RoaXMuY29udGV4dC5sYXN0U2Nyb2xsWT1NYXRoLmNlaWwobiksdGhpcy5jb250ZXh0Lm1heFNjcm9sbFk9TWF0aC5tYXgobixudWxsIT09KGU9dGhpcy5jb250ZXh0Lm1heFNjcm9sbFkpJiZ2b2lkIDAhPT1lP2U6MCksdGhpcy5jb250ZXh0Lm1heFNjcm9sbEhlaWdodD1NYXRoLm1heChvLG51bGwhPT0odD10aGlzLmNvbnRleHQubWF4U2Nyb2xsSGVpZ2h0KSYmdm9pZCAwIT09dD90OjApLHRoaXMuY29udGV4dC5sYXN0Q29udGVudFk9YSx0aGlzLmNvbnRleHQubWF4Q29udGVudFk9TWF0aC5tYXgoYSxudWxsIT09KGk9dGhpcy5jb250ZXh0Lm1heENvbnRlbnRZKSYmdm9pZCAwIT09aT9pOjApLHRoaXMuY29udGV4dC5tYXhDb250ZW50SGVpZ2h0PU1hdGgubWF4KGwsbnVsbCE9PShzPXRoaXMuY29udGV4dC5tYXhDb250ZW50SGVpZ2h0KSYmdm9pZCAwIT09cz9zOjApfSkpLHRoaXMuaW5zdGFuY2U9ZX1nZXRDb250ZXh0KCl7cmV0dXJuIHRoaXMuY29udGV4dH1yZXNldENvbnRleHQoKXt2YXIgZT10aGlzLmNvbnRleHQ7cmV0dXJuIHNldFRpbWVvdXQodGhpcy5fdXBkYXRlU2Nyb2xsRGF0YSwwKSxlfXN0YXJ0TWVhc3VyaW5nU2Nyb2xsUG9zaXRpb24oKXthZSh0LFwic2Nyb2xsXCIsdGhpcy5fdXBkYXRlU2Nyb2xsRGF0YSx7Y2FwdHVyZTohMH0pLGFlKHQsXCJzY3JvbGxlbmRcIix0aGlzLl91cGRhdGVTY3JvbGxEYXRhLHtjYXB0dXJlOiEwfSksYWUodCxcInJlc2l6ZVwiLHRoaXMuX3VwZGF0ZVNjcm9sbERhdGEpfXNjcm9sbEVsZW1lbnQoKXtpZighdGhpcy5pbnN0YW5jZS5jb25maWcuc2Nyb2xsX3Jvb3Rfc2VsZWN0b3IpcmV0dXJuIG51bGw9PXQ/dm9pZCAwOnQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O3ZhciBlPXgodGhpcy5pbnN0YW5jZS5jb25maWcuc2Nyb2xsX3Jvb3Rfc2VsZWN0b3IpP3RoaXMuaW5zdGFuY2UuY29uZmlnLnNjcm9sbF9yb290X3NlbGVjdG9yOlt0aGlzLmluc3RhbmNlLmNvbmZpZy5zY3JvbGxfcm9vdF9zZWxlY3Rvcl07Zm9yKHZhciBpIG9mIGUpe3ZhciBzPW51bGw9PXQ/dm9pZCAwOnQuZG9jdW1lbnQucXVlcnlTZWxlY3RvcihpKTtpZihzKXJldHVybiBzfX1zY3JvbGxZKCl7aWYodGhpcy5pbnN0YW5jZS5jb25maWcuc2Nyb2xsX3Jvb3Rfc2VsZWN0b3Ipe3ZhciBlPXRoaXMuc2Nyb2xsRWxlbWVudCgpO3JldHVybiBlJiZlLnNjcm9sbFRvcHx8MH1yZXR1cm4gdCYmKHQuc2Nyb2xsWXx8dC5wYWdlWU9mZnNldHx8dC5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuc2Nyb2xsVG9wKXx8MH1zY3JvbGxYKCl7aWYodGhpcy5pbnN0YW5jZS5jb25maWcuc2Nyb2xsX3Jvb3Rfc2VsZWN0b3Ipe3ZhciBlPXRoaXMuc2Nyb2xsRWxlbWVudCgpO3JldHVybiBlJiZlLnNjcm9sbExlZnR8fDB9cmV0dXJuIHQmJih0LnNjcm9sbFh8fHQucGFnZVhPZmZzZXR8fHQuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbExlZnQpfHwwfX12YXIgcm89ZT0+V3IucGVyc29uSW5mbyh7bWFza1BlcnNvbmFsRGF0YVByb3BlcnRpZXM6bnVsbD09ZT92b2lkIDA6ZS5jb25maWcubWFza19wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMsY3VzdG9tUGVyc29uYWxEYXRhUHJvcGVydGllczpudWxsPT1lP3ZvaWQgMDplLmNvbmZpZy5jdXN0b21fcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzfSk7Y2xhc3Mgbm97Y29uc3RydWN0b3IoZSx0LGkscyl7Vih0aGlzLFwiX29uU2Vzc2lvbklkQ2FsbGJhY2tcIiwoZT0+e3ZhciB0PXRoaXMuX2dldFN0b3JlZCgpO2lmKCF0fHx0LnNlc3Npb25JZCE9PWUpe3ZhciBpPXtzZXNzaW9uSWQ6ZSxwcm9wczp0aGlzLl9zZXNzaW9uU291cmNlUGFyYW1HZW5lcmF0b3IodGhpcy5pbnN0YW5jZSl9O3RoaXMuX3BlcnNpc3RlbmNlLnJlZ2lzdGVyKHtbRGVdOml9KX19KSksdGhpcy5pbnN0YW5jZT1lLHRoaXMuX3Nlc3Npb25JZE1hbmFnZXI9dCx0aGlzLl9wZXJzaXN0ZW5jZT1pLHRoaXMuX3Nlc3Npb25Tb3VyY2VQYXJhbUdlbmVyYXRvcj1zfHxybyx0aGlzLl9zZXNzaW9uSWRNYW5hZ2VyLm9uU2Vzc2lvbklkKHRoaXMuX29uU2Vzc2lvbklkQ2FsbGJhY2spfV9nZXRTdG9yZWQoKXtyZXR1cm4gdGhpcy5fcGVyc2lzdGVuY2UucHJvcHNbRGVdfWdldFNldE9uY2VQcm9wcygpe3ZhciBlLHQ9bnVsbD09PShlPXRoaXMuX2dldFN0b3JlZCgpKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5wcm9wcztyZXR1cm4gdD9cInJcImluIHQ/V3IucGVyc29uUHJvcHNGcm9tSW5mbyh0KTp7JHJlZmVycmluZ19kb21haW46dC5yZWZlcnJpbmdEb21haW4sJHBhdGhuYW1lOnQuaW5pdGlhbFBhdGhOYW1lLHV0bV9zb3VyY2U6dC51dG1fc291cmNlLHV0bV9jYW1wYWlnbjp0LnV0bV9jYW1wYWlnbix1dG1fbWVkaXVtOnQudXRtX21lZGl1bSx1dG1fY29udGVudDp0LnV0bV9jb250ZW50LHV0bV90ZXJtOnQudXRtX3Rlcm19Ont9fWdldFNlc3Npb25Qcm9wcygpe3ZhciBlPXt9O3JldHVybiBLKGllKHRoaXMuZ2V0U2V0T25jZVByb3BzKCkpLCgodCxpKT0+e1wiJGN1cnJlbnRfdXJsXCI9PT1pJiYoaT1cInVybFwiKSxlW1wiJHNlc3Npb25fZW50cnlfXCIuY29uY2F0KGIoaSkpXT10fSkpLGV9fXZhciBvbz1IKFwiW1Nlc3Npb25JZF1cIik7Y2xhc3MgYW97Y29uc3RydWN0b3IoZSx0LGkpe3ZhciBzO2lmKFYodGhpcyxcIl9zZXNzaW9uSWRDaGFuZ2VkSGFuZGxlcnNcIixbXSksIWUucGVyc2lzdGVuY2UpdGhyb3cgbmV3IEVycm9yKFwiU2Vzc2lvbklkTWFuYWdlciByZXF1aXJlcyBhIFBvc3RIb2dQZXJzaXN0ZW5jZSBpbnN0YW5jZVwiKTtpZihlLmNvbmZpZy5fX3ByZXZpZXdfZXhwZXJpbWVudGFsX2Nvb2tpZWxlc3NfbW9kZSl0aHJvdyBuZXcgRXJyb3IoXCJTZXNzaW9uSWRNYW5hZ2VyIGNhbm5vdCBiZSB1c2VkIHdpdGggX19wcmV2aWV3X2V4cGVyaW1lbnRhbF9jb29raWVsZXNzX21vZGVcIik7dGhpcy5jb25maWc9ZS5jb25maWcsdGhpcy5wZXJzaXN0ZW5jZT1lLnBlcnNpc3RlbmNlLHRoaXMuX3dpbmRvd0lkPXZvaWQgMCx0aGlzLl9zZXNzaW9uSWQ9dm9pZCAwLHRoaXMuX3Nlc3Npb25TdGFydFRpbWVzdGFtcD1udWxsLHRoaXMuX3Nlc3Npb25BY3Rpdml0eVRpbWVzdGFtcD1udWxsLHRoaXMuX3Nlc3Npb25JZEdlbmVyYXRvcj10fHxOdCx0aGlzLl93aW5kb3dJZEdlbmVyYXRvcj1pfHxOdDt2YXIgcj10aGlzLmNvbmZpZy5wZXJzaXN0ZW5jZV9uYW1lfHx0aGlzLmNvbmZpZy50b2tlbixuPXRoaXMuY29uZmlnLnNlc3Npb25faWRsZV90aW1lb3V0X3NlY29uZHN8fDE4MDA7aWYodGhpcy5fc2Vzc2lvblRpbWVvdXRNcz0xZTMqd2kobiw2MCwzNmUzLFwic2Vzc2lvbl9pZGxlX3RpbWVvdXRfc2Vjb25kc1wiLDE4MDApLGUucmVnaXN0ZXIoeyRjb25maWd1cmVkX3Nlc3Npb25fdGltZW91dF9tczp0aGlzLl9zZXNzaW9uVGltZW91dE1zfSksdGhpcy5yZXNldElkbGVUaW1lcigpLHRoaXMuX3dpbmRvd19pZF9zdG9yYWdlX2tleT1cInBoX1wiK3IrXCJfd2luZG93X2lkXCIsdGhpcy5fcHJpbWFyeV93aW5kb3dfZXhpc3RzX3N0b3JhZ2Vfa2V5PVwicGhfXCIrcitcIl9wcmltYXJ5X3dpbmRvd19leGlzdHNcIix0aGlzLl9jYW5Vc2VTZXNzaW9uU3RvcmFnZSgpKXt2YXIgbz1laS5wYXJzZSh0aGlzLl93aW5kb3dfaWRfc3RvcmFnZV9rZXkpLGE9ZWkucGFyc2UodGhpcy5fcHJpbWFyeV93aW5kb3dfZXhpc3RzX3N0b3JhZ2Vfa2V5KTtvJiYhYT90aGlzLl93aW5kb3dJZD1vOmVpLnJlbW92ZSh0aGlzLl93aW5kb3dfaWRfc3RvcmFnZV9rZXkpLGVpLnNldCh0aGlzLl9wcmltYXJ5X3dpbmRvd19leGlzdHNfc3RvcmFnZV9rZXksITApfWlmKG51bGwhPT0ocz10aGlzLmNvbmZpZy5ib290c3RyYXApJiZ2b2lkIDAhPT1zJiZzLnNlc3Npb25JRCl0cnl7dmFyIGw9KGU9Pnt2YXIgdD1lLnJlcGxhY2UoLy0vZyxcIlwiKTtpZigzMiE9PXQubGVuZ3RoKXRocm93IG5ldyBFcnJvcihcIk5vdCBhIHZhbGlkIFVVSURcIik7aWYoXCI3XCIhPT10WzEyXSl0aHJvdyBuZXcgRXJyb3IoXCJOb3QgYSBVVUlEdjdcIik7cmV0dXJuIHBhcnNlSW50KHQuc3Vic3RyaW5nKDAsMTIpLDE2KX0pKHRoaXMuY29uZmlnLmJvb3RzdHJhcC5zZXNzaW9uSUQpO3RoaXMuX3NldFNlc3Npb25JZCh0aGlzLmNvbmZpZy5ib290c3RyYXAuc2Vzc2lvbklELChuZXcgRGF0ZSkuZ2V0VGltZSgpLGwpfWNhdGNoKGUpe29vLmVycm9yKFwiSW52YWxpZCBzZXNzaW9uSUQgaW4gYm9vdHN0cmFwXCIsZSl9dGhpcy5fbGlzdGVuVG9SZWxvYWRXaW5kb3coKX1nZXQgc2Vzc2lvblRpbWVvdXRNcygpe3JldHVybiB0aGlzLl9zZXNzaW9uVGltZW91dE1zfW9uU2Vzc2lvbklkKGUpe3JldHVybiBGKHRoaXMuX3Nlc3Npb25JZENoYW5nZWRIYW5kbGVycykmJih0aGlzLl9zZXNzaW9uSWRDaGFuZ2VkSGFuZGxlcnM9W10pLHRoaXMuX3Nlc3Npb25JZENoYW5nZWRIYW5kbGVycy5wdXNoKGUpLHRoaXMuX3Nlc3Npb25JZCYmZSh0aGlzLl9zZXNzaW9uSWQsdGhpcy5fd2luZG93SWQpLCgpPT57dGhpcy5fc2Vzc2lvbklkQ2hhbmdlZEhhbmRsZXJzPXRoaXMuX3Nlc3Npb25JZENoYW5nZWRIYW5kbGVycy5maWx0ZXIoKHQ9PnQhPT1lKSl9fV9jYW5Vc2VTZXNzaW9uU3RvcmFnZSgpe3JldHVyblwibWVtb3J5XCIhPT10aGlzLmNvbmZpZy5wZXJzaXN0ZW5jZSYmIXRoaXMucGVyc2lzdGVuY2UuZGlzYWJsZWQmJmVpLmlzX3N1cHBvcnRlZCgpfV9zZXRXaW5kb3dJZChlKXtlIT09dGhpcy5fd2luZG93SWQmJih0aGlzLl93aW5kb3dJZD1lLHRoaXMuX2NhblVzZVNlc3Npb25TdG9yYWdlKCkmJmVpLnNldCh0aGlzLl93aW5kb3dfaWRfc3RvcmFnZV9rZXksZSkpfV9nZXRXaW5kb3dJZCgpe3JldHVybiB0aGlzLl93aW5kb3dJZD90aGlzLl93aW5kb3dJZDp0aGlzLl9jYW5Vc2VTZXNzaW9uU3RvcmFnZSgpP2VpLnBhcnNlKHRoaXMuX3dpbmRvd19pZF9zdG9yYWdlX2tleSk6bnVsbH1fc2V0U2Vzc2lvbklkKGUsdCxpKXtlPT09dGhpcy5fc2Vzc2lvbklkJiZ0PT09dGhpcy5fc2Vzc2lvbkFjdGl2aXR5VGltZXN0YW1wJiZpPT09dGhpcy5fc2Vzc2lvblN0YXJ0VGltZXN0YW1wfHwodGhpcy5fc2Vzc2lvblN0YXJ0VGltZXN0YW1wPWksdGhpcy5fc2Vzc2lvbkFjdGl2aXR5VGltZXN0YW1wPXQsdGhpcy5fc2Vzc2lvbklkPWUsdGhpcy5wZXJzaXN0ZW5jZS5yZWdpc3Rlcih7W3hlXTpbdCxlLGldfSkpfV9nZXRTZXNzaW9uSWQoKXtpZih0aGlzLl9zZXNzaW9uSWQmJnRoaXMuX3Nlc3Npb25BY3Rpdml0eVRpbWVzdGFtcCYmdGhpcy5fc2Vzc2lvblN0YXJ0VGltZXN0YW1wKXJldHVyblt0aGlzLl9zZXNzaW9uQWN0aXZpdHlUaW1lc3RhbXAsdGhpcy5fc2Vzc2lvbklkLHRoaXMuX3Nlc3Npb25TdGFydFRpbWVzdGFtcF07dmFyIGU9dGhpcy5wZXJzaXN0ZW5jZS5wcm9wc1t4ZV07cmV0dXJuIHgoZSkmJjI9PT1lLmxlbmd0aCYmZS5wdXNoKGVbMF0pLGV8fFswLG51bGwsMF19cmVzZXRTZXNzaW9uSWQoKXt0aGlzLl9zZXRTZXNzaW9uSWQobnVsbCxudWxsLG51bGwpfV9saXN0ZW5Ub1JlbG9hZFdpbmRvdygpe2FlKHQsXCJiZWZvcmV1bmxvYWRcIiwoKCk9Pnt0aGlzLl9jYW5Vc2VTZXNzaW9uU3RvcmFnZSgpJiZlaS5yZW1vdmUodGhpcy5fcHJpbWFyeV93aW5kb3dfZXhpc3RzX3N0b3JhZ2Vfa2V5KX0pLHtjYXB0dXJlOiExfSl9Y2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQoKXt2YXIgZT1hcmd1bWVudHMubGVuZ3RoPjAmJnZvaWQgMCE9PWFyZ3VtZW50c1swXSYmYXJndW1lbnRzWzBdLHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOm51bGw7aWYodGhpcy5jb25maWcuX19wcmV2aWV3X2V4cGVyaW1lbnRhbF9jb29raWVsZXNzX21vZGUpdGhyb3cgbmV3IEVycm9yKFwiY2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQgc2hvdWxkIG5vdCBiZSBjYWxsZWQgaW4gX19wcmV2aWV3X2V4cGVyaW1lbnRhbF9jb29raWVsZXNzX21vZGVcIik7dmFyIGk9dHx8KG5ldyBEYXRlKS5nZXRUaW1lKCksW3MscixuXT10aGlzLl9nZXRTZXNzaW9uSWQoKSxvPXRoaXMuX2dldFdpbmRvd0lkKCksYT1PKG4pJiZuPjAmJk1hdGguYWJzKGktbik+ODY0ZTUsbD0hMSxjPSFyLHU9IWUmJk1hdGguYWJzKGktcyk+dGhpcy5zZXNzaW9uVGltZW91dE1zO2N8fHV8fGE/KHI9dGhpcy5fc2Vzc2lvbklkR2VuZXJhdG9yKCksbz10aGlzLl93aW5kb3dJZEdlbmVyYXRvcigpLG9vLmluZm8oXCJuZXcgc2Vzc2lvbiBJRCBnZW5lcmF0ZWRcIix7c2Vzc2lvbklkOnIsd2luZG93SWQ6byxjaGFuZ2VSZWFzb246e25vU2Vzc2lvbklkOmMsYWN0aXZpdHlUaW1lb3V0OnUsc2Vzc2lvblBhc3RNYXhpbXVtTGVuZ3RoOmF9fSksbj1pLGw9ITApOm98fChvPXRoaXMuX3dpbmRvd0lkR2VuZXJhdG9yKCksbD0hMCk7dmFyIGQ9MD09PXN8fCFlfHxhP2k6cyxoPTA9PT1uPyhuZXcgRGF0ZSkuZ2V0VGltZSgpOm47cmV0dXJuIHRoaXMuX3NldFdpbmRvd0lkKG8pLHRoaXMuX3NldFNlc3Npb25JZChyLGQsaCksZXx8dGhpcy5yZXNldElkbGVUaW1lcigpLGwmJnRoaXMuX3Nlc3Npb25JZENoYW5nZWRIYW5kbGVycy5mb3JFYWNoKChlPT5lKHIsbyxsP3tub1Nlc3Npb25JZDpjLGFjdGl2aXR5VGltZW91dDp1LHNlc3Npb25QYXN0TWF4aW11bUxlbmd0aDphfTp2b2lkIDApKSkse3Nlc3Npb25JZDpyLHdpbmRvd0lkOm8sc2Vzc2lvblN0YXJ0VGltZXN0YW1wOmgsY2hhbmdlUmVhc29uOmw/e25vU2Vzc2lvbklkOmMsYWN0aXZpdHlUaW1lb3V0OnUsc2Vzc2lvblBhc3RNYXhpbXVtTGVuZ3RoOmF9OnZvaWQgMCxsYXN0QWN0aXZpdHlUaW1lc3RhbXA6c319cmVzZXRJZGxlVGltZXIoKXtjbGVhclRpbWVvdXQodGhpcy5fZW5mb3JjZUlkbGVUaW1lb3V0KSx0aGlzLl9lbmZvcmNlSWRsZVRpbWVvdXQ9c2V0VGltZW91dCgoKCk9Pnt0aGlzLnJlc2V0U2Vzc2lvbklkKCl9KSwxLjEqdGhpcy5zZXNzaW9uVGltZW91dE1zKX19dmFyIGxvPVtcIiRzZXRfb25jZVwiLFwiJHNldFwiXSxjbz1IKFwiW1NpdGVBcHBzXVwiKTtjbGFzcyB1b3tjb25zdHJ1Y3RvcihlKXt0aGlzLmluc3RhbmNlPWUsdGhpcy5idWZmZXJlZEludm9jYXRpb25zPVtdLHRoaXMuYXBwcz17fX1nZXQgaXNFbmFibGVkKCl7cmV0dXJuISF0aGlzLmluc3RhbmNlLmNvbmZpZy5vcHRfaW5fc2l0ZV9hcHBzfWV2ZW50Q29sbGVjdG9yKGUsdCl7aWYodCl7dmFyIGk9dGhpcy5nbG9iYWxzRm9yRXZlbnQodCk7dGhpcy5idWZmZXJlZEludm9jYXRpb25zLnB1c2goaSksdGhpcy5idWZmZXJlZEludm9jYXRpb25zLmxlbmd0aD4xZTMmJih0aGlzLmJ1ZmZlcmVkSW52b2NhdGlvbnM9dGhpcy5idWZmZXJlZEludm9jYXRpb25zLnNsaWNlKDEwKSl9fWdldCBzaXRlQXBwTG9hZGVycygpe3ZhciBlLHQ7cmV0dXJuIG51bGw9PT0oZT1fLl9QT1NUSE9HX1JFTU9URV9DT05GSUcpfHx2b2lkIDA9PT1lfHxudWxsPT09KHQ9ZVt0aGlzLmluc3RhbmNlLmNvbmZpZy50b2tlbl0pfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnNpdGVBcHBzfWluaXQoKXtpZih0aGlzLmlzRW5hYmxlZCl7dmFyIGU9dGhpcy5pbnN0YW5jZS5fYWRkQ2FwdHVyZUhvb2sodGhpcy5ldmVudENvbGxlY3Rvci5iaW5kKHRoaXMpKTt0aGlzLnN0b3BCdWZmZXJpbmc9KCk9PntlKCksdGhpcy5idWZmZXJlZEludm9jYXRpb25zPVtdLHRoaXMuc3RvcEJ1ZmZlcmluZz12b2lkIDB9fX1nbG9iYWxzRm9yRXZlbnQoZSl7dmFyIHQsaSxzLHIsbixvLGE7aWYoIWUpdGhyb3cgbmV3IEVycm9yKFwiRXZlbnQgcGF5bG9hZCBpcyByZXF1aXJlZFwiKTt2YXIgbD17fSxjPXRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KFwiJGdyb3Vwc1wiKXx8W10sdT10aGlzLmluc3RhbmNlLmdldF9wcm9wZXJ0eShcIiRzdG9yZWRfZ3JvdXBfcHJvcGVydGllc1wiKXx8e307Zm9yKHZhcltkLGhdb2YgT2JqZWN0LmVudHJpZXModSkpbFtkXT17aWQ6Y1tkXSx0eXBlOmQscHJvcGVydGllczpofTt2YXJ7JHNldF9vbmNlOl8sJHNldDpwfT1lO3JldHVybntldmVudDpXKFcoe30sRyhlLGxvKSkse30se3Byb3BlcnRpZXM6VyhXKFcoe30sZS5wcm9wZXJ0aWVzKSxwP3skc2V0OlcoVyh7fSxudWxsIT09KHQ9bnVsbD09PShpPWUucHJvcGVydGllcyl8fHZvaWQgMD09PWk/dm9pZCAwOmkuJHNldCkmJnZvaWQgMCE9PXQ/dDp7fSkscCl9Ont9KSxfP3skc2V0X29uY2U6VyhXKHt9LG51bGwhPT0ocz1udWxsPT09KHI9ZS5wcm9wZXJ0aWVzKXx8dm9pZCAwPT09cj92b2lkIDA6ci4kc2V0X29uY2UpJiZ2b2lkIDAhPT1zP3M6e30pLF8pfTp7fSksZWxlbWVudHNfY2hhaW46bnVsbCE9PShuPW51bGw9PT0obz1lLnByb3BlcnRpZXMpfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLiRlbGVtZW50c19jaGFpbikmJnZvaWQgMCE9PW4/bjpcIlwiLGRpc3RpbmN0X2lkOm51bGw9PT0oYT1lLnByb3BlcnRpZXMpfHx2b2lkIDA9PT1hP3ZvaWQgMDphLmRpc3RpbmN0X2lkfSkscGVyc29uOntwcm9wZXJ0aWVzOnRoaXMuaW5zdGFuY2UuZ2V0X3Byb3BlcnR5KFwiJHN0b3JlZF9wZXJzb25fcHJvcGVydGllc1wiKX0sZ3JvdXBzOmx9fXNldHVwU2l0ZUFwcChlKXt2YXIgdD10aGlzLmFwcHNbZS5pZF0saT0oKT0+e3ZhciBpOyghdC5lcnJvcmVkJiZ0aGlzLmJ1ZmZlcmVkSW52b2NhdGlvbnMubGVuZ3RoJiYoY28uaW5mbyhcIlByb2Nlc3NpbmcgXCIuY29uY2F0KHRoaXMuYnVmZmVyZWRJbnZvY2F0aW9ucy5sZW5ndGgsXCIgZXZlbnRzIGZvciBzaXRlIGFwcCB3aXRoIGlkIFwiKS5jb25jYXQoZS5pZCkpLHRoaXMuYnVmZmVyZWRJbnZvY2F0aW9ucy5mb3JFYWNoKChlPT57dmFyIGk7cmV0dXJuIG51bGw9PT0oaT10LnByb2Nlc3NFdmVudCl8fHZvaWQgMD09PWk/dm9pZCAwOmkuY2FsbCh0LGUpfSkpLHQucHJvY2Vzc2VkQnVmZmVyPSEwKSxPYmplY3QudmFsdWVzKHRoaXMuYXBwcykuZXZlcnkoKGU9PmUucHJvY2Vzc2VkQnVmZmVyfHxlLmVycm9yZWQpKSkmJihudWxsPT09KGk9dGhpcy5zdG9wQnVmZmVyaW5nKXx8dm9pZCAwPT09aXx8aS5jYWxsKHRoaXMpKX0scz0hMSxyPXI9Pnt0LmVycm9yZWQ9IXIsdC5sb2FkZWQ9ITAsY28uaW5mbyhcIlNpdGUgYXBwIHdpdGggaWQgXCIuY29uY2F0KGUuaWQsXCIgXCIpLmNvbmNhdChyP1wibG9hZGVkXCI6XCJlcnJvcmVkXCIpKSxzJiZpKCl9O3RyeXt2YXJ7cHJvY2Vzc0V2ZW50Om59PWUuaW5pdCh7cG9zdGhvZzp0aGlzLmluc3RhbmNlLGNhbGxiYWNrOmU9PntyKGUpfX0pO24mJih0LnByb2Nlc3NFdmVudD1uKSxzPSEwfWNhdGNoKHQpe2NvLmVycm9yKFwiRXJyb3Igd2hpbGUgaW5pdGlhbGl6aW5nIFBvc3RIb2cgYXBwIHdpdGggY29uZmlnIGlkIFwiLmNvbmNhdChlLmlkKSx0KSxyKCExKX1pZihzJiZ0LmxvYWRlZCl0cnl7aSgpfWNhdGNoKGkpe2NvLmVycm9yKFwiRXJyb3Igd2hpbGUgcHJvY2Vzc2luZyBidWZmZXJlZCBldmVudHMgUG9zdEhvZyBhcHAgd2l0aCBjb25maWcgaWQgXCIuY29uY2F0KGUuaWQpLGkpLHQuZXJyb3JlZD0hMH19c2V0dXBTaXRlQXBwcygpe3ZhciBlPXRoaXMuc2l0ZUFwcExvYWRlcnN8fFtdO2Zvcih2YXIgdCBvZiBlKXRoaXMuYXBwc1t0LmlkXT17aWQ6dC5pZCxsb2FkZWQ6ITEsZXJyb3JlZDohMSxwcm9jZXNzZWRCdWZmZXI6ITF9O2Zvcih2YXIgaSBvZiBlKXRoaXMuc2V0dXBTaXRlQXBwKGkpfW9uQ2FwdHVyZWRFdmVudChlKXtpZigwIT09T2JqZWN0LmtleXModGhpcy5hcHBzKS5sZW5ndGgpe3ZhciB0PXRoaXMuZ2xvYmFsc0ZvckV2ZW50KGUpO2Zvcih2YXIgaSBvZiBPYmplY3QudmFsdWVzKHRoaXMuYXBwcykpdHJ5e3ZhciBzO251bGw9PT0ocz1pLnByb2Nlc3NFdmVudCl8fHZvaWQgMD09PXN8fHMuY2FsbChpLHQpfWNhdGNoKHQpe2NvLmVycm9yKFwiRXJyb3Igd2hpbGUgcHJvY2Vzc2luZyBldmVudCBcIi5jb25jYXQoZS5ldmVudCxcIiBmb3Igc2l0ZSBhcHAgXCIpLmNvbmNhdChpLmlkKSx0KX19fW9uUmVtb3RlQ29uZmlnKGUpe3ZhciB0LGkscyxyPXRoaXM7aWYobnVsbCE9PSh0PXRoaXMuc2l0ZUFwcExvYWRlcnMpJiZ2b2lkIDAhPT10JiZ0Lmxlbmd0aClyZXR1cm4gdGhpcy5pc0VuYWJsZWQ/KHRoaXMuc2V0dXBTaXRlQXBwcygpLHZvaWQgdGhpcy5pbnN0YW5jZS5vbihcImV2ZW50Q2FwdHVyZWRcIiwoZT0+dGhpcy5vbkNhcHR1cmVkRXZlbnQoZSkpKSk6dm9pZCBjby5lcnJvcignUG9zdEhvZyBzaXRlIGFwcHMgYXJlIGRpc2FibGVkLiBFbmFibGUgdGhlIFwib3B0X2luX3NpdGVfYXBwc1wiIGNvbmZpZyB0byBwcm9jZWVkLicpO2lmKG51bGw9PT0oaT10aGlzLnN0b3BCdWZmZXJpbmcpfHx2b2lkIDA9PT1pfHxpLmNhbGwodGhpcyksbnVsbCE9PShzPWUuc2l0ZUFwcHMpJiZ2b2lkIDAhPT1zJiZzLmxlbmd0aClpZih0aGlzLmlzRW5hYmxlZCl7dmFyIG49ZnVuY3Rpb24oZSx0KXt2YXIgaSxzO19bXCJfXyQkcGhfc2l0ZV9hcHBfXCIuY29uY2F0KGUpXT1yLmluc3RhbmNlLG51bGw9PT0oaT1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fHZvaWQgMD09PWl8fG51bGw9PT0ocz1pLmxvYWRTaXRlQXBwKXx8dm9pZCAwPT09c3x8cy5jYWxsKGksci5pbnN0YW5jZSx0LCh0PT57aWYodClyZXR1cm4gY28uZXJyb3IoXCJFcnJvciB3aGlsZSBpbml0aWFsaXppbmcgUG9zdEhvZyBhcHAgd2l0aCBjb25maWcgaWQgXCIuY29uY2F0KGUpLHQpfSkpfTtmb3IodmFye2lkOm8sdXJsOmF9b2YgZS5zaXRlQXBwcyluKG8sYSl9ZWxzZSBjby5lcnJvcignUG9zdEhvZyBzaXRlIGFwcHMgYXJlIGRpc2FibGVkLiBFbmFibGUgdGhlIFwib3B0X2luX3NpdGVfYXBwc1wiIGNvbmZpZyB0byBwcm9jZWVkLicpfX12YXIgaG8sX289W1wiYW1hem9uYm90XCIsXCJhbWF6b25wcm9kdWN0Ym90XCIsXCJhcHAuaHlwZWZhY3RvcnMuY29tXCIsXCJhcHBsZWJvdFwiLFwiYXJjaGl2ZS5vcmdfYm90XCIsXCJhd2FyaW9ib3RcIixcImJhY2tsaW5rc2V4dGVuZGVkYm90XCIsXCJiYWlkdXNwaWRlclwiLFwiYmluZ2JvdFwiLFwiYmluZ3ByZXZpZXdcIixcImNocm9tZS1saWdodGhvdXNlXCIsXCJkYXRhZm9yc2VvYm90XCIsXCJkZWVwc2NhblwiLFwiZHVja2R1Y2tib3RcIixcImZhY2Vib29rZXh0ZXJuYWxcIixcImZhY2Vib29rY2F0YWxvZ1wiLFwiaHR0cDovL3lhbmRleC5jb20vYm90c1wiLFwiaHVic3BvdFwiLFwiaWFfYXJjaGl2ZXJcIixcImxpbmtlZGluYm90XCIsXCJtZXRhLWV4dGVybmFsYWdlbnRcIixcIm1qMTJib3RcIixcIm1zbmJvdFwiLFwibmVzc3VzXCIsXCJwZXRhbGJvdFwiLFwicGludGVyZXN0XCIsXCJwcmVyZW5kZXJcIixcInJvZ2VyYm90XCIsXCJzY3JlYW1pbmcgZnJvZ1wiLFwic2Vib3Qtd2FcIixcInNpdGVidWxiXCIsXCJzbGFja2JvdFwiLFwic2x1cnBcIixcInRyZW5kaWN0aW9uYm90XCIsXCJ0dXJuaXRpblwiLFwidHdpdHRlcmJvdFwiLFwidmVyY2VsYm90XCIsXCJ5YWhvbyEgc2x1cnBcIixcInlhbmRleGJvdFwiLFwiem9vbWJvdFwiLFwiYm90Lmh0bVwiLFwiYm90LnBocFwiLFwiKGJvdDtcIixcImJvdC9cIixcImNyYXdsZXJcIixcImFocmVmc2JvdFwiLFwiYWhyZWZzc2l0ZWF1ZGl0XCIsXCJzZW1ydXNoYm90XCIsXCJzaXRlYXVkaXRib3RcIixcInNwbGl0c2lnbmFsYm90XCIsXCJncHRib3RcIixcIm9haS1zZWFyY2hib3RcIixcImNoYXRncHQtdXNlclwiLFwicGVycGxleGl0eWJvdFwiLFwiYmV0dGVyIHVwdGltZSBib3RcIixcInNlbnRyeXVwdGltZWJvdFwiLFwidXB0aW1lcm9ib3RcIixcImhlYWRsZXNzY2hyb21lXCIsXCJjeXByZXNzXCIsXCJnb29nbGUtaG90ZWxhZHN2ZXJpZmllclwiLFwiYWRzYm90LWdvb2dsZVwiLFwiYXBpcy1nb29nbGVcIixcImR1cGxleHdlYi1nb29nbGVcIixcImZlZWRmZXRjaGVyLWdvb2dsZVwiLFwiZ29vZ2xlIGZhdmljb25cIixcImdvb2dsZSB3ZWIgcHJldmlld1wiLFwiZ29vZ2xlLXJlYWQtYWxvdWRcIixcImdvb2dsZWJvdFwiLFwiZ29vZ2xld2VibGlnaHRcIixcIm1lZGlhcGFydG5lcnMtZ29vZ2xlXCIsXCJzdG9yZWJvdC1nb29nbGVcIixcImJ5dGVzcGlkZXJcIl0scG89ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm4hMTt2YXIgaT1lLnRvTG93ZXJDYXNlKCk7cmV0dXJuIF9vLmNvbmNhdCh0fHxbXSkuc29tZSgoZT0+e3ZhciB0PWUudG9Mb3dlckNhc2UoKTtyZXR1cm4tMSE9PWkuaW5kZXhPZih0KX0pKX0sZ289ZnVuY3Rpb24oZSx0KXtpZighZSlyZXR1cm4hMTt2YXIgaT1lLnVzZXJBZ2VudDtpZihpJiZwbyhpLHQpKXJldHVybiEwO3RyeXt2YXIgcz1udWxsPT1lP3ZvaWQgMDplLnVzZXJBZ2VudERhdGE7aWYobnVsbCE9cyYmcy5icmFuZHMmJnMuYnJhbmRzLnNvbWUoKGU9PnBvKG51bGw9PWU/dm9pZCAwOmUuYnJhbmQsdCkpKSlyZXR1cm4hMH1jYXRjaChlKXt9cmV0dXJuISFlLndlYmRyaXZlcn07ZnVuY3Rpb24gdm8oZSx0LGkpe3JldHVybiBLbih7ZGlzdGluY3RfaWQ6ZSx1c2VyUHJvcGVydGllc1RvU2V0OnQsdXNlclByb3BlcnRpZXNUb1NldE9uY2U6aX0pfSFmdW5jdGlvbihlKXtlLlVTPVwidXNcIixlLkVVPVwiZXVcIixlLkNVU1RPTT1cImN1c3RvbVwifShob3x8KGhvPXt9KSk7dmFyIGZvPVwiaS5wb3N0aG9nLmNvbVwiO2NsYXNzIG1ve2NvbnN0cnVjdG9yKGUpe1YodGhpcyxcIl9yZWdpb25DYWNoZVwiLHt9KSx0aGlzLmluc3RhbmNlPWV9Z2V0IGFwaUhvc3QoKXt2YXIgZT10aGlzLmluc3RhbmNlLmNvbmZpZy5hcGlfaG9zdC50cmltKCkucmVwbGFjZSgvXFwvJC8sXCJcIik7cmV0dXJuXCJodHRwczovL2FwcC5wb3N0aG9nLmNvbVwiPT09ZT9cImh0dHBzOi8vdXMuaS5wb3N0aG9nLmNvbVwiOmV9Z2V0IHVpSG9zdCgpe3ZhciBlLHQ9bnVsbD09PShlPXRoaXMuaW5zdGFuY2UuY29uZmlnLnVpX2hvc3QpfHx2b2lkIDA9PT1lP3ZvaWQgMDplLnJlcGxhY2UoL1xcLyQvLFwiXCIpO3JldHVybiB0fHwodD10aGlzLmFwaUhvc3QucmVwbGFjZShcIi5cIi5jb25jYXQoZm8pLFwiLnBvc3Rob2cuY29tXCIpKSxcImh0dHBzOi8vYXBwLnBvc3Rob2cuY29tXCI9PT10P1wiaHR0cHM6Ly91cy5wb3N0aG9nLmNvbVwiOnR9Z2V0IHJlZ2lvbigpe3JldHVybiB0aGlzLl9yZWdpb25DYWNoZVt0aGlzLmFwaUhvc3RdfHwoL2h0dHBzOlxcL1xcLyhhcHB8dXN8dXMtYXNzZXRzKShcXC5pKT9cXC5wb3N0aG9nXFwuY29tL2kudGVzdCh0aGlzLmFwaUhvc3QpP3RoaXMuX3JlZ2lvbkNhY2hlW3RoaXMuYXBpSG9zdF09aG8uVVM6L2h0dHBzOlxcL1xcLyhldXxldS1hc3NldHMpKFxcLmkpP1xcLnBvc3Rob2dcXC5jb20vaS50ZXN0KHRoaXMuYXBpSG9zdCk/dGhpcy5fcmVnaW9uQ2FjaGVbdGhpcy5hcGlIb3N0XT1oby5FVTp0aGlzLl9yZWdpb25DYWNoZVt0aGlzLmFwaUhvc3RdPWhvLkNVU1RPTSksdGhpcy5fcmVnaW9uQ2FjaGVbdGhpcy5hcGlIb3N0XX1lbmRwb2ludEZvcihlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXT9hcmd1bWVudHNbMV06XCJcIjtpZih0JiYodD1cIi9cIj09PXRbMF0/dDpcIi9cIi5jb25jYXQodCkpLFwidWlcIj09PWUpcmV0dXJuIHRoaXMudWlIb3N0K3Q7aWYodGhpcy5yZWdpb249PT1oby5DVVNUT00pcmV0dXJuIHRoaXMuYXBpSG9zdCt0O3ZhciBpPWZvK3Q7c3dpdGNoKGUpe2Nhc2VcImFzc2V0c1wiOnJldHVyblwiaHR0cHM6Ly9cIi5jb25jYXQodGhpcy5yZWdpb24sXCItYXNzZXRzLlwiKS5jb25jYXQoaSk7Y2FzZVwiYXBpXCI6cmV0dXJuXCJodHRwczovL1wiLmNvbmNhdCh0aGlzLnJlZ2lvbixcIi5cIikuY29uY2F0KGkpfX19dmFyIHlvPXtpY29udGFpbnM6KGUsaSk9PiEhdCYmaS5ocmVmLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihlLnRvTG93ZXJDYXNlKCkpPi0xLG5vdF9pY29udGFpbnM6KGUsaSk9PiEhdCYmLTE9PT1pLmhyZWYudG9Mb3dlckNhc2UoKS5pbmRleE9mKGUudG9Mb3dlckNhc2UoKSkscmVnZXg6KGUsaSk9PiEhdCYmT24oaS5ocmVmLGUpLG5vdF9yZWdleDooZSxpKT0+ISF0JiYhT24oaS5ocmVmLGUpLGV4YWN0OihlLHQpPT50LmhyZWY9PT1lLGlzX25vdDooZSx0KT0+dC5ocmVmIT09ZX07Y2xhc3MgYm97Y29uc3RydWN0b3IoZSl7dmFyIHQ9dGhpcztWKHRoaXMsXCJnZXRXZWJFeHBlcmltZW50c0FuZEV2YWx1YXRlRGlzcGxheUxvZ2ljXCIsKGZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzLmxlbmd0aD4wJiZ2b2lkIDAhPT1hcmd1bWVudHNbMF0mJmFyZ3VtZW50c1swXTt0LmdldFdlYkV4cGVyaW1lbnRzKChlPT57Ym8ubG9nSW5mbyhcInJldHJpZXZlZCB3ZWIgZXhwZXJpbWVudHMgZnJvbSB0aGUgc2VydmVyXCIpLHQuX2ZsYWdUb0V4cGVyaW1lbnRzPW5ldyBNYXAsZS5mb3JFYWNoKChlPT57aWYoZS5mZWF0dXJlX2ZsYWdfa2V5KXt2YXIgaTtpZih0Ll9mbGFnVG9FeHBlcmltZW50cyliby5sb2dJbmZvKFwic2V0dGluZyBmbGFnIGtleSBcIixlLmZlYXR1cmVfZmxhZ19rZXksXCIgdG8gd2ViIGV4cGVyaW1lbnQgXCIsZSksbnVsbD09PShpPXQuX2ZsYWdUb0V4cGVyaW1lbnRzKXx8dm9pZCAwPT09aXx8aS5zZXQoZS5mZWF0dXJlX2ZsYWdfa2V5LGUpO3ZhciBzPXQuaW5zdGFuY2UuZ2V0RmVhdHVyZUZsYWcoZS5mZWF0dXJlX2ZsYWdfa2V5KTtSKHMpJiZlLnZhcmlhbnRzW3NdJiZ0LmFwcGx5VHJhbnNmb3JtcyhlLm5hbWUscyxlLnZhcmlhbnRzW3NdLnRyYW5zZm9ybXMpfWVsc2UgaWYoZS52YXJpYW50cylmb3IodmFyIHIgaW4gZS52YXJpYW50cyl7dmFyIG49ZS52YXJpYW50c1tyXTtiby5tYXRjaGVzVGVzdFZhcmlhbnQobikmJnQuYXBwbHlUcmFuc2Zvcm1zKGUubmFtZSxyLG4udHJhbnNmb3Jtcyl9fSkpfSksZSl9KSksdGhpcy5pbnN0YW5jZT1lLHRoaXMuaW5zdGFuY2Uub25GZWF0dXJlRmxhZ3MoKGU9Pnt0aGlzLm9uRmVhdHVyZUZsYWdzKGUpfSkpfW9uRmVhdHVyZUZsYWdzKGUpe2lmKHRoaXMuX2lzX2JvdCgpKWJvLmxvZ0luZm8oXCJSZWZ1c2luZyB0byByZW5kZXIgd2ViIGV4cGVyaW1lbnQgc2luY2UgdGhlIHZpZXdlciBpcyBhIGxpa2VseSBib3RcIik7ZWxzZSBpZighdGhpcy5pbnN0YW5jZS5jb25maWcuZGlzYWJsZV93ZWJfZXhwZXJpbWVudHMpe2lmKEEodGhpcy5fZmxhZ1RvRXhwZXJpbWVudHMpKXJldHVybiB0aGlzLl9mbGFnVG9FeHBlcmltZW50cz1uZXcgTWFwLHRoaXMubG9hZElmRW5hYmxlZCgpLHZvaWQgdGhpcy5wcmV2aWV3V2ViRXhwZXJpbWVudCgpO2JvLmxvZ0luZm8oXCJhcHBseWluZyBmZWF0dXJlIGZsYWdzXCIsZSksZS5mb3JFYWNoKChlPT57dmFyIHQ7aWYodGhpcy5fZmxhZ1RvRXhwZXJpbWVudHMmJm51bGwhPT0odD10aGlzLl9mbGFnVG9FeHBlcmltZW50cykmJnZvaWQgMCE9PXQmJnQuaGFzKGUpKXt2YXIgaSxzPXRoaXMuaW5zdGFuY2UuZ2V0RmVhdHVyZUZsYWcoZSkscj1udWxsPT09KGk9dGhpcy5fZmxhZ1RvRXhwZXJpbWVudHMpfHx2b2lkIDA9PT1pP3ZvaWQgMDppLmdldChlKTtzJiZudWxsIT1yJiZyLnZhcmlhbnRzW3NdJiZ0aGlzLmFwcGx5VHJhbnNmb3JtcyhyLm5hbWUscyxyLnZhcmlhbnRzW3NdLnRyYW5zZm9ybXMpfX0pKX19cHJldmlld1dlYkV4cGVyaW1lbnQoKXt2YXIgZT1iby5nZXRXaW5kb3dMb2NhdGlvbigpO2lmKG51bGwhPWUmJmUuc2VhcmNoKXt2YXIgdD1FdChudWxsPT1lP3ZvaWQgMDplLnNlYXJjaCxcIl9fZXhwZXJpbWVudF9pZFwiKSxpPUV0KG51bGw9PWU/dm9pZCAwOmUuc2VhcmNoLFwiX19leHBlcmltZW50X3ZhcmlhbnRcIik7dCYmaSYmKGJvLmxvZ0luZm8oXCJwcmV2aWV3aW5nIHdlYiBleHBlcmltZW50cyBcIi5jb25jYXQodCxcIiAmJiBcIikuY29uY2F0KGkpKSx0aGlzLmdldFdlYkV4cGVyaW1lbnRzKChlPT57dGhpcy5zaG93UHJldmlld1dlYkV4cGVyaW1lbnQocGFyc2VJbnQodCksaSxlKX0pLCExLCEwKSl9fWxvYWRJZkVuYWJsZWQoKXt0aGlzLmluc3RhbmNlLmNvbmZpZy5kaXNhYmxlX3dlYl9leHBlcmltZW50c3x8dGhpcy5nZXRXZWJFeHBlcmltZW50c0FuZEV2YWx1YXRlRGlzcGxheUxvZ2ljKCl9Z2V0V2ViRXhwZXJpbWVudHMoZSx0LGkpe2lmKHRoaXMuaW5zdGFuY2UuY29uZmlnLmRpc2FibGVfd2ViX2V4cGVyaW1lbnRzJiYhaSlyZXR1cm4gZShbXSk7dmFyIHM9dGhpcy5pbnN0YW5jZS5nZXRfcHJvcGVydHkoXCIkd2ViX2V4cGVyaW1lbnRzXCIpO2lmKHMmJiF0KXJldHVybiBlKHMpO3RoaXMuaW5zdGFuY2UuX3NlbmRfcmVxdWVzdCh7dXJsOnRoaXMuaW5zdGFuY2UucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLFwiL2FwaS93ZWJfZXhwZXJpbWVudHMvP3Rva2VuPVwiLmNvbmNhdCh0aGlzLmluc3RhbmNlLmNvbmZpZy50b2tlbikpLG1ldGhvZDpcIkdFVFwiLGNhbGxiYWNrOnQ9PntpZigyMDAhPT10LnN0YXR1c0NvZGV8fCF0Lmpzb24pcmV0dXJuIGUoW10pO3ZhciBpPXQuanNvbi5leHBlcmltZW50c3x8W107cmV0dXJuIGUoaSl9fSl9c2hvd1ByZXZpZXdXZWJFeHBlcmltZW50KGUsdCxpKXt2YXIgcz1pLmZpbHRlcigodD0+dC5pZD09PWUpKTtzJiZzLmxlbmd0aD4wJiYoYm8ubG9nSW5mbyhcIlByZXZpZXdpbmcgd2ViIGV4cGVyaW1lbnQgW1wiLmNvbmNhdChzWzBdLm5hbWUsXCJdIHdpdGggdmFyaWFudCBbXCIpLmNvbmNhdCh0LFwiXVwiKSksdGhpcy5hcHBseVRyYW5zZm9ybXMoc1swXS5uYW1lLHQsc1swXS52YXJpYW50c1t0XS50cmFuc2Zvcm1zKSl9c3RhdGljIG1hdGNoZXNUZXN0VmFyaWFudChlKXtyZXR1cm4hQShlLmNvbmRpdGlvbnMpJiYoYm8ubWF0Y2hVcmxDb25kaXRpb25zKGUpJiZiby5tYXRjaFVUTUNvbmRpdGlvbnMoZSkpfXN0YXRpYyBtYXRjaFVybENvbmRpdGlvbnMoZSl7dmFyIHQ7aWYoQShlLmNvbmRpdGlvbnMpfHxBKG51bGw9PT0odD1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnVybCkpcmV0dXJuITA7dmFyIGkscyxyLG49Ym8uZ2V0V2luZG93TG9jYXRpb24oKTtyZXR1cm4hIW4mJihudWxsPT09KGk9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09aXx8IWkudXJsfHx5b1tudWxsIT09KHM9bnVsbD09PShyPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PXI/dm9pZCAwOnIudXJsTWF0Y2hUeXBlKSYmdm9pZCAwIT09cz9zOlwiaWNvbnRhaW5zXCJdKGUuY29uZGl0aW9ucy51cmwsbikpfXN0YXRpYyBnZXRXaW5kb3dMb2NhdGlvbigpe3JldHVybiBudWxsPT10P3ZvaWQgMDp0LmxvY2F0aW9ufXN0YXRpYyBtYXRjaFVUTUNvbmRpdGlvbnMoZSl7dmFyIHQ7aWYoQShlLmNvbmRpdGlvbnMpfHxBKG51bGw9PT0odD1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnV0bSkpcmV0dXJuITA7dmFyIGk9V3IuY2FtcGFpZ25QYXJhbXMoKTtpZihpLnV0bV9zb3VyY2Upe3ZhciBzLHIsbixvLGEsbCxjLHUsZCxoLF8scCxnLHYsZixtLHk9bnVsbD09PShzPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PXN8fG51bGw9PT0ocj1zLnV0bSl8fHZvaWQgMD09PXJ8fCFyLnV0bV9jYW1wYWlnbnx8KG51bGw9PT0obj1lLmNvbmRpdGlvbnMpfHx2b2lkIDA9PT1ufHxudWxsPT09KG89bi51dG0pfHx2b2lkIDA9PT1vP3ZvaWQgMDpvLnV0bV9jYW1wYWlnbik9PWkudXRtX2NhbXBhaWduLGI9bnVsbD09PShhPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWF8fG51bGw9PT0obD1hLnV0bSl8fHZvaWQgMD09PWx8fCFsLnV0bV9zb3VyY2V8fChudWxsPT09KGM9ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09Y3x8bnVsbD09PSh1PWMudXRtKXx8dm9pZCAwPT09dT92b2lkIDA6dS51dG1fc291cmNlKT09aS51dG1fc291cmNlLHc9bnVsbD09PShkPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWR8fG51bGw9PT0oaD1kLnV0bSl8fHZvaWQgMD09PWh8fCFoLnV0bV9tZWRpdW18fChudWxsPT09KF89ZS5jb25kaXRpb25zKXx8dm9pZCAwPT09X3x8bnVsbD09PShwPV8udXRtKXx8dm9pZCAwPT09cD92b2lkIDA6cC51dG1fbWVkaXVtKT09aS51dG1fbWVkaXVtLFM9bnVsbD09PShnPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWd8fG51bGw9PT0odj1nLnV0bSl8fHZvaWQgMD09PXZ8fCF2LnV0bV90ZXJtfHwobnVsbD09PShmPWUuY29uZGl0aW9ucyl8fHZvaWQgMD09PWZ8fG51bGw9PT0obT1mLnV0bSl8fHZvaWQgMD09PW0/dm9pZCAwOm0udXRtX3Rlcm0pPT1pLnV0bV90ZXJtO3JldHVybiB5JiZ3JiZTJiZifXJldHVybiExfXN0YXRpYyBsb2dJbmZvKGUpe2Zvcih2YXIgdD1hcmd1bWVudHMubGVuZ3RoLGk9bmV3IEFycmF5KHQ+MT90LTE6MCkscz0xO3M8dDtzKyspaVtzLTFdPWFyZ3VtZW50c1tzXTtCLmluZm8oXCJbV2ViRXhwZXJpbWVudHNdIFwiLmNvbmNhdChlKSxpKX1hcHBseVRyYW5zZm9ybXMoZSx0LGkpe3RoaXMuX2lzX2JvdCgpP2JvLmxvZ0luZm8oXCJSZWZ1c2luZyB0byByZW5kZXIgd2ViIGV4cGVyaW1lbnQgc2luY2UgdGhlIHZpZXdlciBpcyBhIGxpa2VseSBib3RcIik6XCJjb250cm9sXCIhPT10P2kuZm9yRWFjaCgoaT0+e2lmKGkuc2VsZWN0b3Ipe3ZhciBzO2JvLmxvZ0luZm8oXCJhcHBseWluZyB0cmFuc2Zvcm0gb2YgdmFyaWFudCBcIi5jb25jYXQodCxcIiBmb3IgZXhwZXJpbWVudCBcIikuY29uY2F0KGUsXCIgXCIpLGkpO3ZhciByPW51bGw9PT0ocz1kb2N1bWVudCl8fHZvaWQgMD09PXM/dm9pZCAwOnMucXVlcnlTZWxlY3RvckFsbChpLnNlbGVjdG9yKTtudWxsPT1yfHxyLmZvckVhY2goKGU9Pnt2YXIgdD1lO2kuaHRtbCYmKHQuaW5uZXJIVE1MPWkuaHRtbCksaS5jc3MmJnQuc2V0QXR0cmlidXRlKFwic3R5bGVcIixpLmNzcyl9KSl9fSkpOmJvLmxvZ0luZm8oXCJDb250cm9sIHZhcmlhbnRzIGxlYXZlIHRoZSBwYWdlIHVubW9kaWZpZWQuXCIpfV9pc19ib3QoKXtyZXR1cm4gbyYmdGhpcy5pbnN0YW5jZT9nbyhvLHRoaXMuaW5zdGFuY2UuY29uZmlnLmN1c3RvbV9ibG9ja2VkX3VzZXJhZ2VudHMpOnZvaWQgMH19dmFyIHdvPXt9LFNvPSgpPT57fSxrbz1cInBvc3Rob2dcIixFbz0hR24mJi0xPT09KG51bGw9PWg/dm9pZCAwOmguaW5kZXhPZihcIk1TSUVcIikpJiYtMT09PShudWxsPT1oP3ZvaWQgMDpoLmluZGV4T2YoXCJNb3ppbGxhXCIpKSx4bz0oKT0+e3ZhciBlO3JldHVybnthcGlfaG9zdDpcImh0dHBzOi8vdXMuaS5wb3N0aG9nLmNvbVwiLHVpX2hvc3Q6bnVsbCx0b2tlbjpcIlwiLGF1dG9jYXB0dXJlOiEwLHJhZ2VjbGljazohMCxjcm9zc19zdWJkb21haW5fY29va2llOm5lKG51bGw9PWE/dm9pZCAwOmEubG9jYXRpb24pLHBlcnNpc3RlbmNlOlwibG9jYWxTdG9yYWdlK2Nvb2tpZVwiLHBlcnNpc3RlbmNlX25hbWU6XCJcIixsb2FkZWQ6U28sc2F2ZV9jYW1wYWlnbl9wYXJhbXM6ITAsY3VzdG9tX2NhbXBhaWduX3BhcmFtczpbXSxjdXN0b21fYmxvY2tlZF91c2VyYWdlbnRzOltdLHNhdmVfcmVmZXJyZXI6ITAsY2FwdHVyZV9wYWdldmlldzohMCxjYXB0dXJlX3BhZ2VsZWF2ZTpcImlmX2NhcHR1cmVfcGFnZXZpZXdcIixkZWJ1ZzpsJiZSKG51bGw9PWw/dm9pZCAwOmwuc2VhcmNoKSYmLTEhPT1sLnNlYXJjaC5pbmRleE9mKFwiX19wb3N0aG9nX2RlYnVnPXRydWVcIil8fCExLGNvb2tpZV9leHBpcmF0aW9uOjM2NSx1cGdyYWRlOiExLGRpc2FibGVfc2Vzc2lvbl9yZWNvcmRpbmc6ITEsZGlzYWJsZV9wZXJzaXN0ZW5jZTohMSxkaXNhYmxlX3dlYl9leHBlcmltZW50czohMCxkaXNhYmxlX3N1cnZleXM6ITEsZGlzYWJsZV9leHRlcm5hbF9kZXBlbmRlbmN5X2xvYWRpbmc6ITEsZW5hYmxlX3JlY29yZGluZ19jb25zb2xlX2xvZzp2b2lkIDAsc2VjdXJlX2Nvb2tpZTpcImh0dHBzOlwiPT09KG51bGw9PXR8fG51bGw9PT0oZT10LmxvY2F0aW9uKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5wcm90b2NvbCksaXA6ITAsb3B0X291dF9jYXB0dXJpbmdfYnlfZGVmYXVsdDohMSxvcHRfb3V0X3BlcnNpc3RlbmNlX2J5X2RlZmF1bHQ6ITEsb3B0X291dF91c2VyYWdlbnRfZmlsdGVyOiExLG9wdF9vdXRfY2FwdHVyaW5nX3BlcnNpc3RlbmNlX3R5cGU6XCJsb2NhbFN0b3JhZ2VcIixvcHRfb3V0X2NhcHR1cmluZ19jb29raWVfcHJlZml4Om51bGwsb3B0X2luX3NpdGVfYXBwczohMSxwcm9wZXJ0eV9kZW55bGlzdDpbXSxyZXNwZWN0X2RudDohMSxzYW5pdGl6ZV9wcm9wZXJ0aWVzOm51bGwscmVxdWVzdF9oZWFkZXJzOnt9LHJlcXVlc3RfYmF0Y2hpbmc6ITAscHJvcGVydGllc19zdHJpbmdfbWF4X2xlbmd0aDo2NTUzNSxzZXNzaW9uX3JlY29yZGluZzp7fSxtYXNrX2FsbF9lbGVtZW50X2F0dHJpYnV0ZXM6ITEsbWFza19hbGxfdGV4dDohMSxtYXNrX3BlcnNvbmFsX2RhdGFfcHJvcGVydGllczohMSxjdXN0b21fcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzOltdLGFkdmFuY2VkX2Rpc2FibGVfZGVjaWRlOiExLGFkdmFuY2VkX2Rpc2FibGVfZmVhdHVyZV9mbGFnczohMSxhZHZhbmNlZF9kaXNhYmxlX2ZlYXR1cmVfZmxhZ3Nfb25fZmlyc3RfbG9hZDohMSxhZHZhbmNlZF9kaXNhYmxlX3Rvb2xiYXJfbWV0cmljczohMSxmZWF0dXJlX2ZsYWdfcmVxdWVzdF90aW1lb3V0X21zOjNlMyxzdXJ2ZXlzX3JlcXVlc3RfdGltZW91dF9tczoxZTQsb25fcmVxdWVzdF9lcnJvcjplPT57dmFyIHQ9XCJCYWQgSFRUUCBzdGF0dXM6IFwiK2Uuc3RhdHVzQ29kZStcIiBcIitlLnRleHQ7Qi5lcnJvcih0KX0sZ2V0X2RldmljZV9pZDplPT5lLGNhcHR1cmVfcGVyZm9ybWFuY2U6dm9pZCAwLG5hbWU6XCJwb3N0aG9nXCIsYm9vdHN0cmFwOnt9LGRpc2FibGVfY29tcHJlc3Npb246ITEsc2Vzc2lvbl9pZGxlX3RpbWVvdXRfc2Vjb25kczoxODAwLHBlcnNvbl9wcm9maWxlczpcImlkZW50aWZpZWRfb25seVwiLGJlZm9yZV9zZW5kOnZvaWQgMCxyZXF1ZXN0X3F1ZXVlX2NvbmZpZzp7Zmx1c2hfaW50ZXJ2YWxfbXM6Wm59LF9vbkNhcHR1cmU6U299fSxJbz1lPT57dmFyIHQ9e307RihlLnByb2Nlc3NfcGVyc29uKXx8KHQucGVyc29uX3Byb2ZpbGVzPWUucHJvY2Vzc19wZXJzb24pLEYoZS54aHJfaGVhZGVycyl8fCh0LnJlcXVlc3RfaGVhZGVycz1lLnhocl9oZWFkZXJzKSxGKGUuY29va2llX25hbWUpfHwodC5wZXJzaXN0ZW5jZV9uYW1lPWUuY29va2llX25hbWUpLEYoZS5kaXNhYmxlX2Nvb2tpZSl8fCh0LmRpc2FibGVfcGVyc2lzdGVuY2U9ZS5kaXNhYmxlX2Nvb2tpZSksRihlLnN0b3JlX2dvb2dsZSl8fCh0LnNhdmVfY2FtcGFpZ25fcGFyYW1zPWUuc3RvcmVfZ29vZ2xlKSxGKGUudmVyYm9zZSl8fCh0LmRlYnVnPWUudmVyYm9zZSk7dmFyIGk9WCh7fSx0LGUpO3JldHVybiB4KGUucHJvcGVydHlfYmxhY2tsaXN0KSYmKEYoZS5wcm9wZXJ0eV9kZW55bGlzdCk/aS5wcm9wZXJ0eV9kZW55bGlzdD1lLnByb3BlcnR5X2JsYWNrbGlzdDp4KGUucHJvcGVydHlfZGVueWxpc3QpP2kucHJvcGVydHlfZGVueWxpc3Q9Wy4uLmUucHJvcGVydHlfYmxhY2tsaXN0LC4uLmUucHJvcGVydHlfZGVueWxpc3RdOkIuZXJyb3IoXCJJbnZhbGlkIHZhbHVlIGZvciBwcm9wZXJ0eV9kZW55bGlzdCBjb25maWc6IFwiK2UucHJvcGVydHlfZGVueWxpc3QpKSxpfTtjbGFzcyBQb3tjb25zdHJ1Y3Rvcigpe1YodGhpcyxcIl9fZm9yY2VBbGxvd0xvY2FsaG9zdFwiLCExKX1nZXQgX2ZvcmNlQWxsb3dMb2NhbGhvc3QoKXtyZXR1cm4gdGhpcy5fX2ZvcmNlQWxsb3dMb2NhbGhvc3R9c2V0IF9mb3JjZUFsbG93TG9jYWxob3N0KGUpe0IuZXJyb3IoXCJXZWJQZXJmb3JtYW5jZU9ic2VydmVyIGlzIGRlcHJlY2F0ZWQgYW5kIGhhcyBubyBpbXBhY3Qgb24gbmV0d29yayBjYXB0dXJlLiBVc2UgYF9mb3JjZUFsbG93TG9jYWxob3N0TmV0d29ya0NhcHR1cmVgIG9uIGBwb3N0aG9nLnNlc3Npb25SZWNvcmRpbmdgXCIpLHRoaXMuX19mb3JjZUFsbG93TG9jYWxob3N0PWV9fWNsYXNzIENve2dldCBkZWNpZGVFbmRwb2ludFdhc0hpdCgpe3ZhciBlLHQ7cmV0dXJuIG51bGwhPT0oZT1udWxsPT09KHQ9dGhpcy5mZWF0dXJlRmxhZ3MpfHx2b2lkIDA9PT10P3ZvaWQgMDp0Lmhhc0xvYWRlZEZsYWdzKSYmdm9pZCAwIT09ZSYmZX1jb25zdHJ1Y3Rvcigpe1YodGhpcyxcIndlYlBlcmZvcm1hbmNlXCIsbmV3IFBvKSxWKHRoaXMsXCJfcGVyc29uUHJvY2Vzc2luZ1NldE9uY2VQcm9wZXJ0aWVzU2VudFwiLCExKSxWKHRoaXMsXCJ2ZXJzaW9uXCIscC5MSUJfVkVSU0lPTiksVih0aGlzLFwiX2ludGVybmFsRXZlbnRFbWl0dGVyXCIsbmV3IE1uKSx0aGlzLmNvbmZpZz14bygpLHRoaXMuU2VudHJ5SW50ZWdyYXRpb249d3MsdGhpcy5zZW50cnlJbnRlZ3JhdGlvbj1lPT5mdW5jdGlvbihlLHQpe3ZhciBpPWJzKGUsdCk7cmV0dXJue25hbWU6eXMscHJvY2Vzc0V2ZW50OmU9PmkoZSl9fSh0aGlzLGUpLHRoaXMuX19yZXF1ZXN0X3F1ZXVlPVtdLHRoaXMuX19sb2FkZWQ9ITEsdGhpcy5hbmFseXRpY3NEZWZhdWx0RW5kcG9pbnQ9XCIvZS9cIix0aGlzLl9pbml0aWFsUGFnZXZpZXdDYXB0dXJlZD0hMSx0aGlzLl9pbml0aWFsUGVyc29uUHJvZmlsZXNDb25maWc9bnVsbCx0aGlzLl9jYWNoZWRJZGVudGlmeT1udWxsLHRoaXMuZmVhdHVyZUZsYWdzPW5ldyBXcyh0aGlzKSx0aGlzLnRvb2xiYXI9bmV3IElzKHRoaXMpLHRoaXMuc2Nyb2xsTWFuYWdlcj1uZXcgc28odGhpcyksdGhpcy5wYWdlVmlld01hbmFnZXI9bmV3IE1zKHRoaXMpLHRoaXMuc3VydmV5cz1uZXcgSG4odGhpcyksdGhpcy5leHBlcmltZW50cz1uZXcgYm8odGhpcyksdGhpcy5leGNlcHRpb25zPW5ldyBMcyh0aGlzKSx0aGlzLnJhdGVMaW1pdGVyPW5ldyB6bih0aGlzKSx0aGlzLnJlcXVlc3RSb3V0ZXI9bmV3IG1vKHRoaXMpLHRoaXMuY29uc2VudD1uZXcgdGkodGhpcyksdGhpcy5wZW9wbGU9e3NldDooZSx0LGkpPT57dmFyIHM9UihlKT97W2VdOnR9OmU7dGhpcy5zZXRQZXJzb25Qcm9wZXJ0aWVzKHMpLG51bGw9PWl8fGkoe30pfSxzZXRfb25jZTooZSx0LGkpPT57dmFyIHM9UihlKT97W2VdOnR9OmU7dGhpcy5zZXRQZXJzb25Qcm9wZXJ0aWVzKHZvaWQgMCxzKSxudWxsPT1pfHxpKHt9KX19LHRoaXMub24oXCJldmVudENhcHR1cmVkXCIsKGU9PkIuaW5mbygnc2VuZCBcIicuY29uY2F0KG51bGw9PWU/dm9pZCAwOmUuZXZlbnQsJ1wiJyksZSkpKX1pbml0KGUsdCxpKXtpZihpJiZpIT09a28pe3ZhciBzLHI9bnVsbCE9PShzPXdvW2ldKSYmdm9pZCAwIT09cz9zOm5ldyBDbztyZXR1cm4gci5faW5pdChlLHQsaSksd29baV09cix3b1trb11baV09cixyfXJldHVybiB0aGlzLl9pbml0KGUsdCxpKX1faW5pdChpKXt2YXIgcyxyLG49YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0/YXJndW1lbnRzWzFdOnt9LG89YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDA7aWYoRihpKXx8VChpKSlyZXR1cm4gQi5jcml0aWNhbChcIlBvc3RIb2cgd2FzIGluaXRpYWxpemVkIHdpdGhvdXQgYSB0b2tlbi4gVGhpcyBsaWtlbHkgaW5kaWNhdGVzIGEgbWlzY29uZmlndXJhdGlvbi4gUGxlYXNlIGNoZWNrIHRoZSBmaXJzdCBhcmd1bWVudCBwYXNzZWQgdG8gcG9zdGhvZy5pbml0KClcIiksdGhpcztpZih0aGlzLl9fbG9hZGVkKXJldHVybiBCLndhcm4oXCJZb3UgaGF2ZSBhbHJlYWR5IGluaXRpYWxpemVkIFBvc3RIb2chIFJlLWluaXRpYWxpemluZyBpcyBhIG5vLW9wXCIpLHRoaXM7dGhpcy5fX2xvYWRlZD0hMCx0aGlzLmNvbmZpZz17fSx0aGlzLl90cmlnZ2VyZWRfbm90aWZzPVtdLG4ucGVyc29uX3Byb2ZpbGVzJiYodGhpcy5faW5pdGlhbFBlcnNvblByb2ZpbGVzQ29uZmlnPW4ucGVyc29uX3Byb2ZpbGVzKSx0aGlzLnNldF9jb25maWcoWCh7fSx4bygpLElvKG4pLHtuYW1lOm8sdG9rZW46aX0pKSx0aGlzLmNvbmZpZy5vbl94aHJfZXJyb3ImJkIuZXJyb3IoXCJvbl94aHJfZXJyb3IgaXMgZGVwcmVjYXRlZC4gVXNlIG9uX3JlcXVlc3RfZXJyb3IgaW5zdGVhZFwiKSx0aGlzLmNvbXByZXNzaW9uPW4uZGlzYWJsZV9jb21wcmVzc2lvbj92b2lkIDA6ZS5HWmlwSlMsdGhpcy5wZXJzaXN0ZW5jZT1uZXcgR3IodGhpcy5jb25maWcpLHRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlPVwic2Vzc2lvblN0b3JhZ2VcIj09PXRoaXMuY29uZmlnLnBlcnNpc3RlbmNlfHxcIm1lbW9yeVwiPT09dGhpcy5jb25maWcucGVyc2lzdGVuY2U/dGhpcy5wZXJzaXN0ZW5jZTpuZXcgR3IoVyhXKHt9LHRoaXMuY29uZmlnKSx7fSx7cGVyc2lzdGVuY2U6XCJzZXNzaW9uU3RvcmFnZVwifSkpO3ZhciBhPVcoe30sdGhpcy5wZXJzaXN0ZW5jZS5wcm9wcyksbD1XKHt9LHRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlLnByb3BzKTtpZih0aGlzLl9yZXF1ZXN0UXVldWU9bmV3IGVvKChlPT50aGlzLl9zZW5kX3JldHJpYWJsZV9yZXF1ZXN0KGUpKSx0aGlzLmNvbmZpZy5yZXF1ZXN0X3F1ZXVlX2NvbmZpZyksdGhpcy5fcmV0cnlRdWV1ZT1uZXcgaW8odGhpcyksdGhpcy5fX3JlcXVlc3RfcXVldWU9W10sdGhpcy5jb25maWcuX19wcmV2aWV3X2V4cGVyaW1lbnRhbF9jb29raWVsZXNzX21vZGV8fCh0aGlzLnNlc3Npb25NYW5hZ2VyPW5ldyBhbyh0aGlzKSx0aGlzLnNlc3Npb25Qcm9wc01hbmFnZXI9bmV3IG5vKHRoaXMsdGhpcy5zZXNzaW9uTWFuYWdlcix0aGlzLnBlcnNpc3RlbmNlKSksbmV3IENzKHRoaXMpLnN0YXJ0SWZFbmFibGVkT3JTdG9wKCksdGhpcy5zaXRlQXBwcz1uZXcgdW8odGhpcyksbnVsbD09PShzPXRoaXMuc2l0ZUFwcHMpfHx2b2lkIDA9PT1zfHxzLmluaXQoKSx0aGlzLmNvbmZpZy5fX3ByZXZpZXdfZXhwZXJpbWVudGFsX2Nvb2tpZWxlc3NfbW9kZXx8KHRoaXMuc2Vzc2lvblJlY29yZGluZz1uZXcgdnModGhpcyksdGhpcy5zZXNzaW9uUmVjb3JkaW5nLnN0YXJ0SWZFbmFibGVkT3JTdG9wKCkpLHRoaXMuY29uZmlnLmRpc2FibGVfc2Nyb2xsX3Byb3BlcnRpZXN8fHRoaXMuc2Nyb2xsTWFuYWdlci5zdGFydE1lYXN1cmluZ1Njcm9sbFBvc2l0aW9uKCksdGhpcy5hdXRvY2FwdHVyZT1uZXcgJHQodGhpcyksdGhpcy5hdXRvY2FwdHVyZS5zdGFydElmRW5hYmxlZCgpLHRoaXMuc3VydmV5cy5sb2FkSWZFbmFibGVkKCksdGhpcy5oZWF0bWFwcz1uZXcgT3ModGhpcyksdGhpcy5oZWF0bWFwcy5zdGFydElmRW5hYmxlZCgpLHRoaXMud2ViVml0YWxzQXV0b2NhcHR1cmU9bmV3IFRzKHRoaXMpLHRoaXMuZXhjZXB0aW9uT2JzZXJ2ZXI9bmV3IGFpKHRoaXMpLHRoaXMuZXhjZXB0aW9uT2JzZXJ2ZXIuc3RhcnRJZkVuYWJsZWQoKSx0aGlzLmRlYWRDbGlja3NBdXRvY2FwdHVyZT1uZXcgbmkodGhpcyxyaSksdGhpcy5kZWFkQ2xpY2tzQXV0b2NhcHR1cmUuc3RhcnRJZkVuYWJsZWQoKSxwLkRFQlVHPXAuREVCVUd8fHRoaXMuY29uZmlnLmRlYnVnLHAuREVCVUcmJkIuaW5mbyhcIlN0YXJ0aW5nIGluIGRlYnVnIG1vZGVcIix7dGhpczp0aGlzLGNvbmZpZzpuLHRoaXNDOlcoe30sdGhpcy5jb25maWcpLHA6YSxzOmx9KSx0aGlzLl9zeW5jX29wdF9vdXRfd2l0aF9wZXJzaXN0ZW5jZSgpLHZvaWQgMCE9PShudWxsPT09KHI9bi5ib290c3RyYXApfHx2b2lkIDA9PT1yP3ZvaWQgMDpyLmRpc3RpbmN0SUQpKXt2YXIgYyx1LGQ9dGhpcy5jb25maWcuZ2V0X2RldmljZV9pZChOdCgpKSxoPW51bGwhPT0oYz1uLmJvb3RzdHJhcCkmJnZvaWQgMCE9PWMmJmMuaXNJZGVudGlmaWVkSUQ/ZDpuLmJvb3RzdHJhcC5kaXN0aW5jdElEO3RoaXMucGVyc2lzdGVuY2Uuc2V0X3Byb3BlcnR5KExlLG51bGwhPT0odT1uLmJvb3RzdHJhcCkmJnZvaWQgMCE9PXUmJnUuaXNJZGVudGlmaWVkSUQ/XCJpZGVudGlmaWVkXCI6XCJhbm9ueW1vdXNcIiksdGhpcy5yZWdpc3Rlcih7ZGlzdGluY3RfaWQ6bi5ib290c3RyYXAuZGlzdGluY3RJRCwkZGV2aWNlX2lkOmh9KX1pZih0aGlzLl9oYXNCb290c3RyYXBwZWRGZWF0dXJlRmxhZ3MoKSl7dmFyIF8sZyx2PU9iamVjdC5rZXlzKChudWxsPT09KF89bi5ib290c3RyYXApfHx2b2lkIDA9PT1fP3ZvaWQgMDpfLmZlYXR1cmVGbGFncyl8fHt9KS5maWx0ZXIoKGU9Pnt2YXIgdCxpO3JldHVybiEobnVsbD09PSh0PW4uYm9vdHN0cmFwKXx8dm9pZCAwPT09dHx8bnVsbD09PShpPXQuZmVhdHVyZUZsYWdzKXx8dm9pZCAwPT09aXx8IWlbZV0pfSkpLnJlZHVjZSgoKGUsdCk9Pnt2YXIgaSxzO3JldHVybiBlW3RdPShudWxsPT09KGk9bi5ib290c3RyYXApfHx2b2lkIDA9PT1pfHxudWxsPT09KHM9aS5mZWF0dXJlRmxhZ3MpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzW3RdKXx8ITEsZX0pLHt9KSxmPU9iamVjdC5rZXlzKChudWxsPT09KGc9bi5ib290c3RyYXApfHx2b2lkIDA9PT1nP3ZvaWQgMDpnLmZlYXR1cmVGbGFnUGF5bG9hZHMpfHx7fSkuZmlsdGVyKChlPT52W2VdKSkucmVkdWNlKCgoZSx0KT0+e3ZhciBpLHMscixvO251bGwhPT0oaT1uLmJvb3RzdHJhcCkmJnZvaWQgMCE9PWkmJm51bGwhPT0ocz1pLmZlYXR1cmVGbGFnUGF5bG9hZHMpJiZ2b2lkIDAhPT1zJiZzW3RdJiYoZVt0XT1udWxsPT09KHI9bi5ib290c3RyYXApfHx2b2lkIDA9PT1yfHxudWxsPT09KG89ci5mZWF0dXJlRmxhZ1BheWxvYWRzKXx8dm9pZCAwPT09bz92b2lkIDA6b1t0XSk7cmV0dXJuIGV9KSx7fSk7dGhpcy5mZWF0dXJlRmxhZ3MucmVjZWl2ZWRGZWF0dXJlRmxhZ3Moe2ZlYXR1cmVGbGFnczp2LGZlYXR1cmVGbGFnUGF5bG9hZHM6Zn0pfWlmKHRoaXMuY29uZmlnLl9fcHJldmlld19leHBlcmltZW50YWxfY29va2llbGVzc19tb2RlKXRoaXMucmVnaXN0ZXJfb25jZSh7ZGlzdGluY3RfaWQ6amUsJGRldmljZV9pZDpudWxsfSxcIlwiKTtlbHNlIGlmKCF0aGlzLmdldF9kaXN0aW5jdF9pZCgpKXt2YXIgbT10aGlzLmNvbmZpZy5nZXRfZGV2aWNlX2lkKE50KCkpO3RoaXMucmVnaXN0ZXJfb25jZSh7ZGlzdGluY3RfaWQ6bSwkZGV2aWNlX2lkOm19LFwiXCIpLHRoaXMucGVyc2lzdGVuY2Uuc2V0X3Byb3BlcnR5KExlLFwiYW5vbnltb3VzXCIpfXJldHVybiBhZSh0LFwib25wYWdlaGlkZVwiaW4gc2VsZj9cInBhZ2VoaWRlXCI6XCJ1bmxvYWRcIix0aGlzLl9oYW5kbGVfdW5sb2FkLmJpbmQodGhpcykse3Bhc3NpdmU6ITF9KSx0aGlzLnRvb2xiYXIubWF5YmVMb2FkVG9vbGJhcigpLG4uc2VnbWVudD9tcyh0aGlzLCgoKT0+dGhpcy5fbG9hZGVkKCkpKTp0aGlzLl9sb2FkZWQoKSxJKHRoaXMuY29uZmlnLl9vbkNhcHR1cmUpJiZ0aGlzLmNvbmZpZy5fb25DYXB0dXJlIT09U28mJihCLndhcm4oXCJvbkNhcHR1cmUgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSBgYmVmb3JlX3NlbmRgIGluc3RlYWRcIiksdGhpcy5vbihcImV2ZW50Q2FwdHVyZWRcIiwoZT0+dGhpcy5jb25maWcuX29uQ2FwdHVyZShlLmV2ZW50LGUpKSkpLHRoaXN9X29uUmVtb3RlQ29uZmlnKHQpe3ZhciBpLHMscixuLG8sbCxjLHU7aWYoIWF8fCFhLmJvZHkpcmV0dXJuIEIuaW5mbyhcImRvY3VtZW50IG5vdCByZWFkeSB5ZXQsIHRyeWluZyBhZ2FpbiBpbiA1MDAgbWlsbGlzZWNvbmRzLi4uXCIpLHZvaWQgc2V0VGltZW91dCgoKCk9Pnt0aGlzLl9vblJlbW90ZUNvbmZpZyh0KX0pLDUwMCk7dGhpcy5jb21wcmVzc2lvbj12b2lkIDAsdC5zdXBwb3J0ZWRDb21wcmVzc2lvbiYmIXRoaXMuY29uZmlnLmRpc2FibGVfY29tcHJlc3Npb24mJih0aGlzLmNvbXByZXNzaW9uPW0odC5zdXBwb3J0ZWRDb21wcmVzc2lvbixlLkdaaXBKUyk/ZS5HWmlwSlM6bSh0LnN1cHBvcnRlZENvbXByZXNzaW9uLGUuQmFzZTY0KT9lLkJhc2U2NDp2b2lkIDApLG51bGwhPT0oaT10LmFuYWx5dGljcykmJnZvaWQgMCE9PWkmJmkuZW5kcG9pbnQmJih0aGlzLmFuYWx5dGljc0RlZmF1bHRFbmRwb2ludD10LmFuYWx5dGljcy5lbmRwb2ludCksdGhpcy5zZXRfY29uZmlnKHtwZXJzb25fcHJvZmlsZXM6dGhpcy5faW5pdGlhbFBlcnNvblByb2ZpbGVzQ29uZmlnP3RoaXMuX2luaXRpYWxQZXJzb25Qcm9maWxlc0NvbmZpZzpcImlkZW50aWZpZWRfb25seVwifSksbnVsbD09PShzPXRoaXMuc2l0ZUFwcHMpfHx2b2lkIDA9PT1zfHxzLm9uUmVtb3RlQ29uZmlnKHQpLG51bGw9PT0ocj10aGlzLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT1yfHxyLm9uUmVtb3RlQ29uZmlnKHQpLG51bGw9PT0obj10aGlzLmF1dG9jYXB0dXJlKXx8dm9pZCAwPT09bnx8bi5vblJlbW90ZUNvbmZpZyh0KSxudWxsPT09KG89dGhpcy5oZWF0bWFwcyl8fHZvaWQgMD09PW98fG8ub25SZW1vdGVDb25maWcodCksdGhpcy5zdXJ2ZXlzLm9uUmVtb3RlQ29uZmlnKHQpLG51bGw9PT0obD10aGlzLndlYlZpdGFsc0F1dG9jYXB0dXJlKXx8dm9pZCAwPT09bHx8bC5vblJlbW90ZUNvbmZpZyh0KSxudWxsPT09KGM9dGhpcy5leGNlcHRpb25PYnNlcnZlcil8fHZvaWQgMD09PWN8fGMub25SZW1vdGVDb25maWcodCksbnVsbD09PSh1PXRoaXMuZGVhZENsaWNrc0F1dG9jYXB0dXJlKXx8dm9pZCAwPT09dXx8dS5vblJlbW90ZUNvbmZpZyh0KX1fbG9hZGVkKCl7dHJ5e3RoaXMuY29uZmlnLmxvYWRlZCh0aGlzKX1jYXRjaChlKXtCLmNyaXRpY2FsKFwiYGxvYWRlZGAgZnVuY3Rpb24gZmFpbGVkXCIsZSl9dGhpcy5fc3RhcnRfcXVldWVfaWZfb3B0ZWRfaW4oKSx0aGlzLmNvbmZpZy5jYXB0dXJlX3BhZ2V2aWV3JiZzZXRUaW1lb3V0KCgoKT0+e3RoaXMuY29uc2VudC5pc09wdGVkSW4oKSYmdGhpcy5fY2FwdHVyZUluaXRpYWxQYWdldmlldygpfSksMSksbmV3IFduKHRoaXMpLmxvYWQoKSx0aGlzLmZlYXR1cmVGbGFncy5kZWNpZGUoKX1fc3RhcnRfcXVldWVfaWZfb3B0ZWRfaW4oKXt2YXIgZTt0aGlzLmhhc19vcHRlZF9vdXRfY2FwdHVyaW5nKCl8fHRoaXMuY29uZmlnLnJlcXVlc3RfYmF0Y2hpbmcmJihudWxsPT09KGU9dGhpcy5fcmVxdWVzdFF1ZXVlKXx8dm9pZCAwPT09ZXx8ZS5lbmFibGUoKSl9X2RvbV9sb2FkZWQoKXt0aGlzLmhhc19vcHRlZF9vdXRfY2FwdHVyaW5nKCl8fFkodGhpcy5fX3JlcXVlc3RfcXVldWUsKGU9PnRoaXMuX3NlbmRfcmV0cmlhYmxlX3JlcXVlc3QoZSkpKSx0aGlzLl9fcmVxdWVzdF9xdWV1ZT1bXSx0aGlzLl9zdGFydF9xdWV1ZV9pZl9vcHRlZF9pbigpfV9oYW5kbGVfdW5sb2FkKCl7dmFyIGUsdDt0aGlzLmNvbmZpZy5yZXF1ZXN0X2JhdGNoaW5nPyh0aGlzLl9zaG91bGRDYXB0dXJlUGFnZWxlYXZlKCkmJnRoaXMuY2FwdHVyZShcIiRwYWdlbGVhdmVcIiksbnVsbD09PShlPXRoaXMuX3JlcXVlc3RRdWV1ZSl8fHZvaWQgMD09PWV8fGUudW5sb2FkKCksbnVsbD09PSh0PXRoaXMuX3JldHJ5UXVldWUpfHx2b2lkIDA9PT10fHx0LnVubG9hZCgpKTp0aGlzLl9zaG91bGRDYXB0dXJlUGFnZWxlYXZlKCkmJnRoaXMuY2FwdHVyZShcIiRwYWdlbGVhdmVcIixudWxsLHt0cmFuc3BvcnQ6XCJzZW5kQmVhY29uXCJ9KX1fc2VuZF9yZXF1ZXN0KGUpe3RoaXMuX19sb2FkZWQmJihFbz90aGlzLl9fcmVxdWVzdF9xdWV1ZS5wdXNoKGUpOnRoaXMucmF0ZUxpbWl0ZXIuaXNTZXJ2ZXJSYXRlTGltaXRlZChlLmJhdGNoS2V5KXx8KGUudHJhbnNwb3J0PWUudHJhbnNwb3J0fHx0aGlzLmNvbmZpZy5hcGlfdHJhbnNwb3J0LGUudXJsPVluKGUudXJsLHtpcDp0aGlzLmNvbmZpZy5pcD8xOjB9KSxlLmhlYWRlcnM9Vyh7fSx0aGlzLmNvbmZpZy5yZXF1ZXN0X2hlYWRlcnMpLGUuY29tcHJlc3Npb249XCJiZXN0LWF2YWlsYWJsZVwiPT09ZS5jb21wcmVzc2lvbj90aGlzLmNvbXByZXNzaW9uOmUuY29tcHJlc3Npb24sZS5mZXRjaE9wdGlvbnM9ZS5mZXRjaE9wdGlvbnN8fHRoaXMuY29uZmlnLmZldGNoX29wdGlvbnMsKGU9Pnt2YXIgdCxpLHMscj1XKHt9LGUpO3IudGltZW91dD1yLnRpbWVvdXR8fDZlNCxyLnVybD1ZbihyLnVybCx7XzoobmV3IERhdGUpLmdldFRpbWUoKS50b1N0cmluZygpLHZlcjpwLkxJQl9WRVJTSU9OLGNvbXByZXNzaW9uOnIuY29tcHJlc3Npb259KTt2YXIgbj1udWxsIT09KHQ9ci50cmFuc3BvcnQpJiZ2b2lkIDAhPT10P3Q6XCJmZXRjaFwiLG89bnVsbCE9PShpPW51bGw9PT0ocz1vZShRbiwoZT0+ZS50cmFuc3BvcnQ9PT1uKSkpfHx2b2lkIDA9PT1zP3ZvaWQgMDpzLm1ldGhvZCkmJnZvaWQgMCE9PWk/aTpRblswXS5tZXRob2Q7aWYoIW8pdGhyb3cgbmV3IEVycm9yKFwiTm8gYXZhaWxhYmxlIHRyYW5zcG9ydCBtZXRob2RcIik7byhyKX0pKFcoVyh7fSxlKSx7fSx7Y2FsbGJhY2s6dD0+e3ZhciBpLHMscjsodGhpcy5yYXRlTGltaXRlci5jaGVja0ZvckxpbWl0aW5nKHQpLHQuc3RhdHVzQ29kZT49NDAwKSYmKG51bGw9PT0ocz0ocj10aGlzLmNvbmZpZykub25fcmVxdWVzdF9lcnJvcil8fHZvaWQgMD09PXN8fHMuY2FsbChyLHQpKTtudWxsPT09KGk9ZS5jYWxsYmFjayl8fHZvaWQgMD09PWl8fGkuY2FsbChlLHQpfX0pKSkpfV9zZW5kX3JldHJpYWJsZV9yZXF1ZXN0KGUpe3RoaXMuX3JldHJ5UXVldWU/dGhpcy5fcmV0cnlRdWV1ZS5yZXRyaWFibGVSZXF1ZXN0KGUpOnRoaXMuX3NlbmRfcmVxdWVzdChlKX1fZXhlY3V0ZV9hcnJheShlKXt2YXIgdCxpPVtdLHM9W10scj1bXTtZKGUsKGU9PntlJiYodD1lWzBdLHgodCk/ci5wdXNoKGUpOkkoZSk/ZS5jYWxsKHRoaXMpOngoZSkmJlwiYWxpYXNcIj09PXQ/aS5wdXNoKGUpOngoZSkmJi0xIT09dC5pbmRleE9mKFwiY2FwdHVyZVwiKSYmSSh0aGlzW3RdKT9yLnB1c2goZSk6cy5wdXNoKGUpKX0pKTt2YXIgbj1mdW5jdGlvbihlLHQpe1koZSwoZnVuY3Rpb24oZSl7aWYoeChlWzBdKSl7dmFyIGk9dDtLKGUsKGZ1bmN0aW9uKGUpe2k9aVtlWzBdXS5hcHBseShpLGUuc2xpY2UoMSkpfSkpfWVsc2UgdGhpc1tlWzBdXS5hcHBseSh0aGlzLGUuc2xpY2UoMSkpfSksdCl9O24oaSx0aGlzKSxuKHMsdGhpcyksbihyLHRoaXMpfV9oYXNCb290c3RyYXBwZWRGZWF0dXJlRmxhZ3MoKXt2YXIgZSx0O3JldHVybihudWxsPT09KGU9dGhpcy5jb25maWcuYm9vdHN0cmFwKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5mZWF0dXJlRmxhZ3MpJiZPYmplY3Qua2V5cyhudWxsPT09KHQ9dGhpcy5jb25maWcuYm9vdHN0cmFwKXx8dm9pZCAwPT09dD92b2lkIDA6dC5mZWF0dXJlRmxhZ3MpLmxlbmd0aD4wfHwhMX1wdXNoKGUpe3RoaXMuX2V4ZWN1dGVfYXJyYXkoW2VdKX1jYXB0dXJlKGUsdCxpKXt2YXIgcztpZih0aGlzLl9fbG9hZGVkJiZ0aGlzLnBlcnNpc3RlbmNlJiZ0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZSYmdGhpcy5fcmVxdWVzdFF1ZXVlKXtpZighdGhpcy5jb25zZW50LmlzT3B0ZWRPdXQoKSlpZighRihlKSYmUihlKSl7aWYodGhpcy5jb25maWcub3B0X291dF91c2VyYWdlbnRfZmlsdGVyfHwhdGhpcy5faXNfYm90KCkpe3ZhciByPW51bGwhPWkmJmkuc2tpcF9jbGllbnRfcmF0ZV9saW1pdGluZz92b2lkIDA6dGhpcy5yYXRlTGltaXRlci5jbGllbnRSYXRlTGltaXRDb250ZXh0KCk7aWYobnVsbD09cnx8IXIuaXNSYXRlTGltaXRlZCl7dGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UudXBkYXRlX3NlYXJjaF9rZXl3b3JkKCksdGhpcy5jb25maWcuc2F2ZV9jYW1wYWlnbl9wYXJhbXMmJnRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlLnVwZGF0ZV9jYW1wYWlnbl9wYXJhbXMoKSx0aGlzLmNvbmZpZy5zYXZlX3JlZmVycmVyJiZ0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZS51cGRhdGVfcmVmZXJyZXJfaW5mbygpLCh0aGlzLmNvbmZpZy5zYXZlX2NhbXBhaWduX3BhcmFtc3x8dGhpcy5jb25maWcuc2F2ZV9yZWZlcnJlcikmJnRoaXMucGVyc2lzdGVuY2Uuc2V0X2luaXRpYWxfcGVyc29uX2luZm8oKTt2YXIgbj1uZXcgRGF0ZSxvPShudWxsPT1pP3ZvaWQgMDppLnRpbWVzdGFtcCl8fG4sYT1OdCgpLGw9e3V1aWQ6YSxldmVudDplLHByb3BlcnRpZXM6dGhpcy5fY2FsY3VsYXRlX2V2ZW50X3Byb3BlcnRpZXMoZSx0fHx7fSxvLGEpfTtyJiYobC5wcm9wZXJ0aWVzLiRsaWJfcmF0ZV9saW1pdF9yZW1haW5pbmdfdG9rZW5zPXIucmVtYWluaW5nVG9rZW5zKSwobnVsbD09aT92b2lkIDA6aS4kc2V0KSYmKGwuJHNldD1udWxsPT1pP3ZvaWQgMDppLiRzZXQpO3ZhciBjPXRoaXMuX2NhbGN1bGF0ZV9zZXRfb25jZV9wcm9wZXJ0aWVzKG51bGw9PWk/dm9pZCAwOmkuJHNldF9vbmNlKTtjJiYobC4kc2V0X29uY2U9YyksKGw9c2UobCxudWxsIT1pJiZpLl9ub1RydW5jYXRlP251bGw6dGhpcy5jb25maWcucHJvcGVydGllc19zdHJpbmdfbWF4X2xlbmd0aCkpLnRpbWVzdGFtcD1vLEYobnVsbD09aT92b2lkIDA6aS50aW1lc3RhbXApfHwobC5wcm9wZXJ0aWVzLiRldmVudF90aW1lX292ZXJyaWRlX3Byb3ZpZGVkPSEwLGwucHJvcGVydGllcy4kZXZlbnRfdGltZV9vdmVycmlkZV9zeXN0ZW1fdGltZT1uKTt2YXIgdT1XKFcoe30sbC5wcm9wZXJ0aWVzLiRzZXQpLGwuJHNldCk7aWYoQyh1KXx8dGhpcy5zZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3ModSksIUEodGhpcy5jb25maWcuYmVmb3JlX3NlbmQpKXt2YXIgZD10aGlzLl9ydW5CZWZvcmVTZW5kKGwpO2lmKCFkKXJldHVybjtsPWR9dGhpcy5faW50ZXJuYWxFdmVudEVtaXR0ZXIuZW1pdChcImV2ZW50Q2FwdHVyZWRcIixsKTt2YXIgaD17bWV0aG9kOlwiUE9TVFwiLHVybDpudWxsIT09KHM9bnVsbD09aT92b2lkIDA6aS5fdXJsKSYmdm9pZCAwIT09cz9zOnRoaXMucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcImFwaVwiLHRoaXMuYW5hbHl0aWNzRGVmYXVsdEVuZHBvaW50KSxkYXRhOmwsY29tcHJlc3Npb246XCJiZXN0LWF2YWlsYWJsZVwiLGJhdGNoS2V5Om51bGw9PWk/dm9pZCAwOmkuX2JhdGNoS2V5fTtyZXR1cm4hdGhpcy5jb25maWcucmVxdWVzdF9iYXRjaGluZ3x8aSYmKG51bGw9PWl8fCFpLl9iYXRjaEtleSl8fG51bGwhPWkmJmkuc2VuZF9pbnN0YW50bHk/dGhpcy5fc2VuZF9yZXRyaWFibGVfcmVxdWVzdChoKTp0aGlzLl9yZXF1ZXN0UXVldWUuZW5xdWV1ZShoKSxsfUIuY3JpdGljYWwoXCJUaGlzIGNhcHR1cmUgY2FsbCBpcyBpZ25vcmVkIGR1ZSB0byBjbGllbnQgcmF0ZSBsaW1pdGluZy5cIil9fWVsc2UgQi5lcnJvcihcIk5vIGV2ZW50IG5hbWUgcHJvdmlkZWQgdG8gcG9zdGhvZy5jYXB0dXJlXCIpfWVsc2UgQi51bmluaXRpYWxpemVkV2FybmluZyhcInBvc3Rob2cuY2FwdHVyZVwiKX1fYWRkQ2FwdHVyZUhvb2soZSl7cmV0dXJuIHRoaXMub24oXCJldmVudENhcHR1cmVkXCIsKHQ9PmUodC5ldmVudCx0KSkpfV9jYWxjdWxhdGVfZXZlbnRfcHJvcGVydGllcyhlLHQsaSxzKXtpZihpPWl8fG5ldyBEYXRlLCF0aGlzLnBlcnNpc3RlbmNlfHwhdGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpcmV0dXJuIHQ7dmFyIHI9dGhpcy5wZXJzaXN0ZW5jZS5yZW1vdmVfZXZlbnRfdGltZXIoZSksbj1XKHt9LHQpO2lmKG4udG9rZW49dGhpcy5jb25maWcudG9rZW4sdGhpcy5jb25maWcuX19wcmV2aWV3X2V4cGVyaW1lbnRhbF9jb29raWVsZXNzX21vZGUmJihuLiRjb29raWVsZXNzX21vZGU9ITApLFwiJHNuYXBzaG90XCI9PT1lKXt2YXIgbz1XKFcoe30sdGhpcy5wZXJzaXN0ZW5jZS5wcm9wZXJ0aWVzKCkpLHRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlLnByb3BlcnRpZXMoKSk7cmV0dXJuIG4uZGlzdGluY3RfaWQ9by5kaXN0aW5jdF9pZCwoIVIobi5kaXN0aW5jdF9pZCkmJiFPKG4uZGlzdGluY3RfaWQpfHxUKG4uZGlzdGluY3RfaWQpKSYmQi5lcnJvcihcIkludmFsaWQgZGlzdGluY3RfaWQgZm9yIHJlcGxheSBldmVudC4gVGhpcyBpbmRpY2F0ZXMgYSBidWcgaW4geW91ciBpbXBsZW1lbnRhdGlvblwiKSxufXZhciBsLGM9V3IucHJvcGVydGllcyh7bWFza1BlcnNvbmFsRGF0YVByb3BlcnRpZXM6dGhpcy5jb25maWcubWFza19wZXJzb25hbF9kYXRhX3Byb3BlcnRpZXMsY3VzdG9tUGVyc29uYWxEYXRhUHJvcGVydGllczp0aGlzLmNvbmZpZy5jdXN0b21fcGVyc29uYWxfZGF0YV9wcm9wZXJ0aWVzfSk7aWYodGhpcy5zZXNzaW9uTWFuYWdlcil7dmFye3Nlc3Npb25JZDp1LHdpbmRvd0lkOmR9PXRoaXMuc2Vzc2lvbk1hbmFnZXIuY2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQoKTtuLiRzZXNzaW9uX2lkPXUsbi4kd2luZG93X2lkPWR9dGhpcy5zZXNzaW9uUHJvcHNNYW5hZ2VyJiZYKG4sdGhpcy5zZXNzaW9uUHJvcHNNYW5hZ2VyLmdldFNlc3Npb25Qcm9wcygpKTt0cnl7dmFyIF8scDt0aGlzLnNlc3Npb25SZWNvcmRpbmcmJihuLiRyZWNvcmRpbmdfc3RhdHVzPXRoaXMuc2Vzc2lvblJlY29yZGluZy5zdGF0dXMsbi4kc2RrX2RlYnVnX3JlcGxheV9pbnRlcm5hbF9idWZmZXJfbGVuZ3RoPXRoaXMuc2Vzc2lvblJlY29yZGluZy5idWZmZXIuZGF0YS5sZW5ndGgsbi4kc2RrX2RlYnVnX3JlcGxheV9pbnRlcm5hbF9idWZmZXJfc2l6ZT10aGlzLnNlc3Npb25SZWNvcmRpbmcuYnVmZmVyLnNpemUpLG4uJHNka19kZWJ1Z19yZXRyeV9xdWV1ZV9zaXplPW51bGw9PT0oXz10aGlzLl9yZXRyeVF1ZXVlKXx8dm9pZCAwPT09X3x8bnVsbD09PShwPV8ucXVldWUpfHx2b2lkIDA9PT1wP3ZvaWQgMDpwLmxlbmd0aH1jYXRjaChlKXtuLiRzZGtfZGVidWdfZXJyb3JfY2FwdHVyaW5nX3Byb3BlcnRpZXM9U3RyaW5nKGUpfWlmKHRoaXMucmVxdWVzdFJvdXRlci5yZWdpb249PT1oby5DVVNUT00mJihuLiRsaWJfY3VzdG9tX2FwaV9ob3N0PXRoaXMuY29uZmlnLmFwaV9ob3N0KSxsPVwiJHBhZ2V2aWV3XCI9PT1lP3RoaXMucGFnZVZpZXdNYW5hZ2VyLmRvUGFnZVZpZXcoaSxzKTpcIiRwYWdlbGVhdmVcIj09PWU/dGhpcy5wYWdlVmlld01hbmFnZXIuZG9QYWdlTGVhdmUoaSk6dGhpcy5wYWdlVmlld01hbmFnZXIuZG9FdmVudCgpLG49WChuLGwpLFwiJHBhZ2V2aWV3XCI9PT1lJiZhJiYobi50aXRsZT1hLnRpdGxlKSwhRihyKSl7dmFyIGc9aS5nZXRUaW1lKCktcjtuLiRkdXJhdGlvbj1wYXJzZUZsb2F0KChnLzFlMykudG9GaXhlZCgzKSl9aCYmdGhpcy5jb25maWcub3B0X291dF91c2VyYWdlbnRfZmlsdGVyJiYobi4kYnJvd3Nlcl90eXBlPXRoaXMuX2lzX2JvdCgpP1wiYm90XCI6XCJicm93c2VyXCIpLChuPVgoe30sYyx0aGlzLnBlcnNpc3RlbmNlLnByb3BlcnRpZXMoKSx0aGlzLnNlc3Npb25QZXJzaXN0ZW5jZS5wcm9wZXJ0aWVzKCksbikpLiRpc19pZGVudGlmaWVkPXRoaXMuX2lzSWRlbnRpZmllZCgpLHgodGhpcy5jb25maWcucHJvcGVydHlfZGVueWxpc3QpP0sodGhpcy5jb25maWcucHJvcGVydHlfZGVueWxpc3QsKGZ1bmN0aW9uKGUpe2RlbGV0ZSBuW2VdfSkpOkIuZXJyb3IoXCJJbnZhbGlkIHZhbHVlIGZvciBwcm9wZXJ0eV9kZW55bGlzdCBjb25maWc6IFwiK3RoaXMuY29uZmlnLnByb3BlcnR5X2RlbnlsaXN0K1wiIG9yIHByb3BlcnR5X2JsYWNrbGlzdCBjb25maWc6IFwiK3RoaXMuY29uZmlnLnByb3BlcnR5X2JsYWNrbGlzdCk7dmFyIHY9dGhpcy5jb25maWcuc2FuaXRpemVfcHJvcGVydGllczt2JiYoQi5lcnJvcihcInNhbml0aXplX3Byb3BlcnRpZXMgaXMgZGVwcmVjYXRlZC4gVXNlIGJlZm9yZV9zZW5kIGluc3RlYWRcIiksbj12KG4sZSkpO3ZhciBmPXRoaXMuX2hhc1BlcnNvblByb2Nlc3NpbmcoKTtyZXR1cm4gbi4kcHJvY2Vzc19wZXJzb25fcHJvZmlsZT1mLGYmJnRoaXMuX3JlcXVpcmVQZXJzb25Qcm9jZXNzaW5nKFwiX2NhbGN1bGF0ZV9ldmVudF9wcm9wZXJ0aWVzXCIpLG59X2NhbGN1bGF0ZV9zZXRfb25jZV9wcm9wZXJ0aWVzKGUpe3ZhciB0O2lmKCF0aGlzLnBlcnNpc3RlbmNlfHwhdGhpcy5faGFzUGVyc29uUHJvY2Vzc2luZygpKXJldHVybiBlO2lmKHRoaXMuX3BlcnNvblByb2Nlc3NpbmdTZXRPbmNlUHJvcGVydGllc1NlbnQpcmV0dXJuIGU7dmFyIGk9dGhpcy5wZXJzaXN0ZW5jZS5nZXRfaW5pdGlhbF9wcm9wcygpLHM9bnVsbD09PSh0PXRoaXMuc2Vzc2lvblByb3BzTWFuYWdlcil8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZ2V0U2V0T25jZVByb3BzKCkscj1YKHt9LGksc3x8e30sZXx8e30pLG49dGhpcy5jb25maWcuc2FuaXRpemVfcHJvcGVydGllcztyZXR1cm4gbiYmKEIuZXJyb3IoXCJzYW5pdGl6ZV9wcm9wZXJ0aWVzIGlzIGRlcHJlY2F0ZWQuIFVzZSBiZWZvcmVfc2VuZCBpbnN0ZWFkXCIpLHI9bihyLFwiJHNldF9vbmNlXCIpKSx0aGlzLl9wZXJzb25Qcm9jZXNzaW5nU2V0T25jZVByb3BlcnRpZXNTZW50PSEwLEMocik/dm9pZCAwOnJ9cmVnaXN0ZXIoZSx0KXt2YXIgaTtudWxsPT09KGk9dGhpcy5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWl8fGkucmVnaXN0ZXIoZSx0KX1yZWdpc3Rlcl9vbmNlKGUsdCxpKXt2YXIgcztudWxsPT09KHM9dGhpcy5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PXN8fHMucmVnaXN0ZXJfb25jZShlLHQsaSl9cmVnaXN0ZXJfZm9yX3Nlc3Npb24oZSl7dmFyIHQ7bnVsbD09PSh0PXRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dHx8dC5yZWdpc3RlcihlKX11bnJlZ2lzdGVyKGUpe3ZhciB0O251bGw9PT0odD10aGlzLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dHx8dC51bnJlZ2lzdGVyKGUpfXVucmVnaXN0ZXJfZm9yX3Nlc3Npb24oZSl7dmFyIHQ7bnVsbD09PSh0PXRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dHx8dC51bnJlZ2lzdGVyKGUpfV9yZWdpc3Rlcl9zaW5nbGUoZSx0KXt0aGlzLnJlZ2lzdGVyKHtbZV06dH0pfWdldEZlYXR1cmVGbGFnKGUsdCl7cmV0dXJuIHRoaXMuZmVhdHVyZUZsYWdzLmdldEZlYXR1cmVGbGFnKGUsdCl9Z2V0RmVhdHVyZUZsYWdQYXlsb2FkKGUpe3ZhciB0PXRoaXMuZmVhdHVyZUZsYWdzLmdldEZlYXR1cmVGbGFnUGF5bG9hZChlKTt0cnl7cmV0dXJuIEpTT04ucGFyc2UodCl9Y2F0Y2goZSl7cmV0dXJuIHR9fWlzRmVhdHVyZUVuYWJsZWQoZSx0KXtyZXR1cm4gdGhpcy5mZWF0dXJlRmxhZ3MuaXNGZWF0dXJlRW5hYmxlZChlLHQpfXJlbG9hZEZlYXR1cmVGbGFncygpe3RoaXMuZmVhdHVyZUZsYWdzLnJlbG9hZEZlYXR1cmVGbGFncygpfXVwZGF0ZUVhcmx5QWNjZXNzRmVhdHVyZUVucm9sbG1lbnQoZSx0KXt0aGlzLmZlYXR1cmVGbGFncy51cGRhdGVFYXJseUFjY2Vzc0ZlYXR1cmVFbnJvbGxtZW50KGUsdCl9Z2V0RWFybHlBY2Nlc3NGZWF0dXJlcyhlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdLGk9YXJndW1lbnRzLmxlbmd0aD4yP2FyZ3VtZW50c1syXTp2b2lkIDA7cmV0dXJuIHRoaXMuZmVhdHVyZUZsYWdzLmdldEVhcmx5QWNjZXNzRmVhdHVyZXMoZSx0LGkpfW9uKGUsdCl7cmV0dXJuIHRoaXMuX2ludGVybmFsRXZlbnRFbWl0dGVyLm9uKGUsdCl9b25GZWF0dXJlRmxhZ3MoZSl7cmV0dXJuIHRoaXMuZmVhdHVyZUZsYWdzLm9uRmVhdHVyZUZsYWdzKGUpfW9uU2Vzc2lvbklkKGUpe3ZhciB0LGk7cmV0dXJuIG51bGwhPT0odD1udWxsPT09KGk9dGhpcy5zZXNzaW9uTWFuYWdlcil8fHZvaWQgMD09PWk/dm9pZCAwOmkub25TZXNzaW9uSWQoZSkpJiZ2b2lkIDAhPT10P3Q6KCk9Pnt9fWdldFN1cnZleXMoZSl7dmFyIHQ9YXJndW1lbnRzLmxlbmd0aD4xJiZ2b2lkIDAhPT1hcmd1bWVudHNbMV0mJmFyZ3VtZW50c1sxXTt0aGlzLnN1cnZleXMuZ2V0U3VydmV5cyhlLHQpfWdldEFjdGl2ZU1hdGNoaW5nU3VydmV5cyhlKXt2YXIgdD1hcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSYmYXJndW1lbnRzWzFdO3RoaXMuc3VydmV5cy5nZXRBY3RpdmVNYXRjaGluZ1N1cnZleXMoZSx0KX1yZW5kZXJTdXJ2ZXkoZSx0KXt0aGlzLnN1cnZleXMucmVuZGVyU3VydmV5KGUsdCl9Y2FuUmVuZGVyU3VydmV5KGUpe3RoaXMuc3VydmV5cy5jYW5SZW5kZXJTdXJ2ZXkoZSl9aWRlbnRpZnkoZSx0LGkpe2lmKCF0aGlzLl9fbG9hZGVkfHwhdGhpcy5wZXJzaXN0ZW5jZSlyZXR1cm4gQi51bmluaXRpYWxpemVkV2FybmluZyhcInBvc3Rob2cuaWRlbnRpZnlcIik7aWYoTyhlKSYmKGU9ZS50b1N0cmluZygpLEIud2FybihcIlRoZSBmaXJzdCBhcmd1bWVudCB0byBwb3N0aG9nLmlkZW50aWZ5IHdhcyBhIG51bWJlciwgYnV0IGl0IHNob3VsZCBiZSBhIHN0cmluZy4gSXQgaGFzIGJlZW4gY29udmVydGVkIHRvIGEgc3RyaW5nLlwiKSksZSl7aWYoW1wiZGlzdGluY3RfaWRcIixcImRpc3RpbmN0aWRcIl0uaW5jbHVkZXMoZS50b0xvd2VyQ2FzZSgpKSlCLmNyaXRpY2FsKCdUaGUgc3RyaW5nIFwiJy5jb25jYXQoZSwnXCIgd2FzIHNldCBpbiBwb3N0aG9nLmlkZW50aWZ5IHdoaWNoIGluZGljYXRlcyBhbiBlcnJvci4gVGhpcyBJRCBzaG91bGQgYmUgdW5pcXVlIHRvIHRoZSB1c2VyIGFuZCBub3QgYSBoYXJkY29kZWQgc3RyaW5nLicpKTtlbHNlIGlmKHRoaXMuX3JlcXVpcmVQZXJzb25Qcm9jZXNzaW5nKFwicG9zdGhvZy5pZGVudGlmeVwiKSl7dmFyIHM9dGhpcy5nZXRfZGlzdGluY3RfaWQoKTtpZih0aGlzLnJlZ2lzdGVyKHskdXNlcl9pZDplfSksIXRoaXMuZ2V0X3Byb3BlcnR5KFwiJGRldmljZV9pZFwiKSl7dmFyIHI9czt0aGlzLnJlZ2lzdGVyX29uY2UoeyRoYWRfcGVyc2lzdGVkX2Rpc3RpbmN0X2lkOiEwLCRkZXZpY2VfaWQ6cn0sXCJcIil9ZSE9PXMmJmUhPT10aGlzLmdldF9wcm9wZXJ0eShjZSkmJih0aGlzLnVucmVnaXN0ZXIoY2UpLHRoaXMucmVnaXN0ZXIoe2Rpc3RpbmN0X2lkOmV9KSk7dmFyIG49XCJhbm9ueW1vdXNcIj09PSh0aGlzLnBlcnNpc3RlbmNlLmdldF9wcm9wZXJ0eShMZSl8fFwiYW5vbnltb3VzXCIpO2UhPT1zJiZuPyh0aGlzLnBlcnNpc3RlbmNlLnNldF9wcm9wZXJ0eShMZSxcImlkZW50aWZpZWRcIiksdGhpcy5zZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3MoVyhXKHt9LGl8fHt9KSx0fHx7fSksITEpLHRoaXMuY2FwdHVyZShcIiRpZGVudGlmeVwiLHtkaXN0aW5jdF9pZDplLCRhbm9uX2Rpc3RpbmN0X2lkOnN9LHskc2V0OnR8fHt9LCRzZXRfb25jZTppfHx7fX0pLHRoaXMuZmVhdHVyZUZsYWdzLnNldEFub255bW91c0Rpc3RpbmN0SWQocyksdGhpcy5fY2FjaGVkSWRlbnRpZnk9dm8oZSx0LGkpKToodHx8aSkmJih0aGlzLl9jYWNoZWRJZGVudGlmeSE9PXZvKGUsdCxpKT8odGhpcy5zZXRQZXJzb25Qcm9wZXJ0aWVzKHQsaSksdGhpcy5fY2FjaGVkSWRlbnRpZnk9dm8oZSx0LGkpKTpCLmluZm8oXCJBIGR1cGxpY2F0ZSBwb3N0aG9nLmlkZW50aWZ5IGNhbGwgd2FzIG1hZGUgd2l0aCB0aGUgc2FtZSBwcm9wZXJ0aWVzLiBJdCBoYXMgYmVlbiBpZ25vcmVkLlwiKSksZSE9PXMmJih0aGlzLnJlbG9hZEZlYXR1cmVGbGFncygpLHRoaXMudW5yZWdpc3RlcihNZSkpfX1lbHNlIEIuZXJyb3IoXCJVbmlxdWUgdXNlciBpZCBoYXMgbm90IGJlZW4gc2V0IGluIHBvc3Rob2cuaWRlbnRpZnlcIil9c2V0UGVyc29uUHJvcGVydGllcyhlLHQpeyhlfHx0KSYmdGhpcy5fcmVxdWlyZVBlcnNvblByb2Nlc3NpbmcoXCJwb3N0aG9nLnNldFBlcnNvblByb3BlcnRpZXNcIikmJih0aGlzLnNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncyhXKFcoe30sdHx8e30pLGV8fHt9KSksdGhpcy5jYXB0dXJlKFwiJHNldFwiLHskc2V0OmV8fHt9LCRzZXRfb25jZTp0fHx7fX0pKX1ncm91cChlLHQsaSl7aWYoZSYmdCl7aWYodGhpcy5fcmVxdWlyZVBlcnNvblByb2Nlc3NpbmcoXCJwb3N0aG9nLmdyb3VwXCIpKXt2YXIgcz10aGlzLmdldEdyb3VwcygpO3NbZV0hPT10JiZ0aGlzLnJlc2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3MoZSksdGhpcy5yZWdpc3Rlcih7JGdyb3VwczpXKFcoe30scykse30se1tlXTp0fSl9KSxpJiYodGhpcy5jYXB0dXJlKFwiJGdyb3VwaWRlbnRpZnlcIix7JGdyb3VwX3R5cGU6ZSwkZ3JvdXBfa2V5OnQsJGdyb3VwX3NldDppfSksdGhpcy5zZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyh7W2VdOml9KSksc1tlXT09PXR8fGl8fHRoaXMucmVsb2FkRmVhdHVyZUZsYWdzKCl9fWVsc2UgQi5lcnJvcihcInBvc3Rob2cuZ3JvdXAgcmVxdWlyZXMgYSBncm91cCB0eXBlIGFuZCBncm91cCBrZXlcIil9cmVzZXRHcm91cHMoKXt0aGlzLnJlZ2lzdGVyKHskZ3JvdXBzOnt9fSksdGhpcy5yZXNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKCksdGhpcy5yZWxvYWRGZWF0dXJlRmxhZ3MoKX1zZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3MoZSl7dmFyIHQ9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXTt0aGlzLmZlYXR1cmVGbGFncy5zZXRQZXJzb25Qcm9wZXJ0aWVzRm9yRmxhZ3MoZSx0KX1yZXNldFBlcnNvblByb3BlcnRpZXNGb3JGbGFncygpe3RoaXMuZmVhdHVyZUZsYWdzLnJlc2V0UGVyc29uUHJvcGVydGllc0ZvckZsYWdzKCl9c2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3MoZSl7dmFyIHQ9IShhcmd1bWVudHMubGVuZ3RoPjEmJnZvaWQgMCE9PWFyZ3VtZW50c1sxXSl8fGFyZ3VtZW50c1sxXTt0aGlzLl9yZXF1aXJlUGVyc29uUHJvY2Vzc2luZyhcInBvc3Rob2cuc2V0R3JvdXBQcm9wZXJ0aWVzRm9yRmxhZ3NcIikmJnRoaXMuZmVhdHVyZUZsYWdzLnNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKGUsdCl9cmVzZXRHcm91cFByb3BlcnRpZXNGb3JGbGFncyhlKXt0aGlzLmZlYXR1cmVGbGFncy5yZXNldEdyb3VwUHJvcGVydGllc0ZvckZsYWdzKGUpfXJlc2V0KGUpe3ZhciB0LGkscyxyO2lmKEIuaW5mbyhcInJlc2V0XCIpLCF0aGlzLl9fbG9hZGVkKXJldHVybiBCLnVuaW5pdGlhbGl6ZWRXYXJuaW5nKFwicG9zdGhvZy5yZXNldFwiKTt2YXIgbj10aGlzLmdldF9wcm9wZXJ0eShcIiRkZXZpY2VfaWRcIik7aWYodGhpcy5jb25zZW50LnJlc2V0KCksbnVsbD09PSh0PXRoaXMucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10fHx0LmNsZWFyKCksbnVsbD09PShpPXRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlKXx8dm9pZCAwPT09aXx8aS5jbGVhcigpLHRoaXMuc3VydmV5cy5yZXNldCgpLG51bGw9PT0ocz10aGlzLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09c3x8cy5zZXRfcHJvcGVydHkoTGUsXCJhbm9ueW1vdXNcIiksbnVsbD09PShyPXRoaXMuc2Vzc2lvbk1hbmFnZXIpfHx2b2lkIDA9PT1yfHxyLnJlc2V0U2Vzc2lvbklkKCksdGhpcy5fY2FjaGVkSWRlbnRpZnk9bnVsbCx0aGlzLmNvbmZpZy5fX3ByZXZpZXdfZXhwZXJpbWVudGFsX2Nvb2tpZWxlc3NfbW9kZSl0aGlzLnJlZ2lzdGVyX29uY2Uoe2Rpc3RpbmN0X2lkOmplLCRkZXZpY2VfaWQ6bnVsbH0sXCJcIik7ZWxzZXt2YXIgbz10aGlzLmNvbmZpZy5nZXRfZGV2aWNlX2lkKE50KCkpO3RoaXMucmVnaXN0ZXJfb25jZSh7ZGlzdGluY3RfaWQ6bywkZGV2aWNlX2lkOmU/bzpufSxcIlwiKX10aGlzLnJlZ2lzdGVyKHskbGFzdF9wb3N0aG9nX3Jlc2V0OihuZXcgRGF0ZSkudG9JU09TdHJpbmcoKX0sMSl9Z2V0X2Rpc3RpbmN0X2lkKCl7cmV0dXJuIHRoaXMuZ2V0X3Byb3BlcnR5KFwiZGlzdGluY3RfaWRcIil9Z2V0R3JvdXBzKCl7cmV0dXJuIHRoaXMuZ2V0X3Byb3BlcnR5KFwiJGdyb3Vwc1wiKXx8e319Z2V0X3Nlc3Npb25faWQoKXt2YXIgZSx0O3JldHVybiBudWxsIT09KGU9bnVsbD09PSh0PXRoaXMuc2Vzc2lvbk1hbmFnZXIpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCEwKS5zZXNzaW9uSWQpJiZ2b2lkIDAhPT1lP2U6XCJcIn1nZXRfc2Vzc2lvbl9yZXBsYXlfdXJsKGUpe2lmKCF0aGlzLnNlc3Npb25NYW5hZ2VyKXJldHVyblwiXCI7dmFye3Nlc3Npb25JZDp0LHNlc3Npb25TdGFydFRpbWVzdGFtcDppfT10aGlzLnNlc3Npb25NYW5hZ2VyLmNoZWNrQW5kR2V0U2Vzc2lvbkFuZFdpbmRvd0lkKCEwKSxzPXRoaXMucmVxdWVzdFJvdXRlci5lbmRwb2ludEZvcihcInVpXCIsXCIvcHJvamVjdC9cIi5jb25jYXQodGhpcy5jb25maWcudG9rZW4sXCIvcmVwbGF5L1wiKS5jb25jYXQodCkpO2lmKG51bGwhPWUmJmUud2l0aFRpbWVzdGFtcCYmaSl7dmFyIHIsbj1udWxsIT09KHI9ZS50aW1lc3RhbXBMb29rQmFjaykmJnZvaWQgMCE9PXI/cjoxMDtpZighaSlyZXR1cm4gczt2YXIgbz1NYXRoLm1heChNYXRoLmZsb29yKCgobmV3IERhdGUpLmdldFRpbWUoKS1pKS8xZTMpLW4sMCk7cys9XCI/dD1cIi5jb25jYXQobyl9cmV0dXJuIHN9YWxpYXMoZSx0KXtyZXR1cm4gZT09PXRoaXMuZ2V0X3Byb3BlcnR5KGxlKT8oQi5jcml0aWNhbChcIkF0dGVtcHRpbmcgdG8gY3JlYXRlIGFsaWFzIGZvciBleGlzdGluZyBQZW9wbGUgdXNlciAtIGFib3J0aW5nLlwiKSwtMik6dGhpcy5fcmVxdWlyZVBlcnNvblByb2Nlc3NpbmcoXCJwb3N0aG9nLmFsaWFzXCIpPyhGKHQpJiYodD10aGlzLmdldF9kaXN0aW5jdF9pZCgpKSxlIT09dD8odGhpcy5fcmVnaXN0ZXJfc2luZ2xlKGNlLGUpLHRoaXMuY2FwdHVyZShcIiRjcmVhdGVfYWxpYXNcIix7YWxpYXM6ZSxkaXN0aW5jdF9pZDp0fSkpOihCLndhcm4oXCJhbGlhcyBtYXRjaGVzIGN1cnJlbnQgZGlzdGluY3RfaWQgLSBza2lwcGluZyBhcGkgY2FsbC5cIiksdGhpcy5pZGVudGlmeShlKSwtMSkpOnZvaWQgMH1zZXRfY29uZmlnKGUpe3ZhciB0LGkscyxyLG49Vyh7fSx0aGlzLmNvbmZpZyk7UChlKSYmKFgodGhpcy5jb25maWcsSW8oZSkpLG51bGw9PT0odD10aGlzLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dHx8dC51cGRhdGVfY29uZmlnKHRoaXMuY29uZmlnLG4pLHRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlPVwic2Vzc2lvblN0b3JhZ2VcIj09PXRoaXMuY29uZmlnLnBlcnNpc3RlbmNlfHxcIm1lbW9yeVwiPT09dGhpcy5jb25maWcucGVyc2lzdGVuY2U/dGhpcy5wZXJzaXN0ZW5jZTpuZXcgR3IoVyhXKHt9LHRoaXMuY29uZmlnKSx7fSx7cGVyc2lzdGVuY2U6XCJzZXNzaW9uU3RvcmFnZVwifSkpLEp0LmlzX3N1cHBvcnRlZCgpJiZcInRydWVcIj09PUp0LmdldChcInBoX2RlYnVnXCIpJiYodGhpcy5jb25maWcuZGVidWc9ITApLHRoaXMuY29uZmlnLmRlYnVnJiYocC5ERUJVRz0hMCxCLmluZm8oXCJzZXRfY29uZmlnXCIse2NvbmZpZzplLG9sZENvbmZpZzpuLG5ld0NvbmZpZzpXKHt9LHRoaXMuY29uZmlnKX0pKSxudWxsPT09KGk9dGhpcy5zZXNzaW9uUmVjb3JkaW5nKXx8dm9pZCAwPT09aXx8aS5zdGFydElmRW5hYmxlZE9yU3RvcCgpLG51bGw9PT0ocz10aGlzLmF1dG9jYXB0dXJlKXx8dm9pZCAwPT09c3x8cy5zdGFydElmRW5hYmxlZCgpLG51bGw9PT0ocj10aGlzLmhlYXRtYXBzKXx8dm9pZCAwPT09cnx8ci5zdGFydElmRW5hYmxlZCgpLHRoaXMuc3VydmV5cy5sb2FkSWZFbmFibGVkKCksdGhpcy5fc3luY19vcHRfb3V0X3dpdGhfcGVyc2lzdGVuY2UoKSl9c3RhcnRTZXNzaW9uUmVjb3JkaW5nKGUpe3ZhciB0PSEwPT09ZSxpPXtzYW1wbGluZzp0fHwhKG51bGw9PWV8fCFlLnNhbXBsaW5nKSxsaW5rZWRfZmxhZzp0fHwhKG51bGw9PWV8fCFlLmxpbmtlZF9mbGFnKSx1cmxfdHJpZ2dlcjp0fHwhKG51bGw9PWV8fCFlLnVybF90cmlnZ2VyKSxldmVudF90cmlnZ2VyOnR8fCEobnVsbD09ZXx8IWUuZXZlbnRfdHJpZ2dlcil9O2lmKE9iamVjdC52YWx1ZXMoaSkuc29tZShCb29sZWFuKSl7dmFyIHMscixuLG8sYTtpZihudWxsPT09KHM9dGhpcy5zZXNzaW9uTWFuYWdlcil8fHZvaWQgMD09PXN8fHMuY2hlY2tBbmRHZXRTZXNzaW9uQW5kV2luZG93SWQoKSxpLnNhbXBsaW5nKW51bGw9PT0ocj10aGlzLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT1yfHxyLm92ZXJyaWRlU2FtcGxpbmcoKTtpZihpLmxpbmtlZF9mbGFnKW51bGw9PT0obj10aGlzLnNlc3Npb25SZWNvcmRpbmcpfHx2b2lkIDA9PT1ufHxuLm92ZXJyaWRlTGlua2VkRmxhZygpO2lmKGkudXJsX3RyaWdnZXIpbnVsbD09PShvPXRoaXMuc2Vzc2lvblJlY29yZGluZyl8fHZvaWQgMD09PW98fG8ub3ZlcnJpZGVUcmlnZ2VyKFwidXJsXCIpO2lmKGkuZXZlbnRfdHJpZ2dlciludWxsPT09KGE9dGhpcy5zZXNzaW9uUmVjb3JkaW5nKXx8dm9pZCAwPT09YXx8YS5vdmVycmlkZVRyaWdnZXIoXCJldmVudFwiKX10aGlzLnNldF9jb25maWcoe2Rpc2FibGVfc2Vzc2lvbl9yZWNvcmRpbmc6ITF9KX1zdG9wU2Vzc2lvblJlY29yZGluZygpe3RoaXMuc2V0X2NvbmZpZyh7ZGlzYWJsZV9zZXNzaW9uX3JlY29yZGluZzohMH0pfXNlc3Npb25SZWNvcmRpbmdTdGFydGVkKCl7dmFyIGU7cmV0dXJuIShudWxsPT09KGU9dGhpcy5zZXNzaW9uUmVjb3JkaW5nKXx8dm9pZCAwPT09ZXx8IWUuc3RhcnRlZCl9Y2FwdHVyZUV4Y2VwdGlvbihlLHQpe3ZhciBpLHM9bmV3IEVycm9yKFwiUG9zdEhvZyBzeW50aGV0aWNFeGNlcHRpb25cIikscj1JKG51bGw9PT0oaT1fLl9fUG9zdGhvZ0V4dGVuc2lvbnNfXyl8fHZvaWQgMD09PWk/dm9pZCAwOmkucGFyc2VFcnJvckFzUHJvcGVydGllcyk/VyhXKHt9LF8uX19Qb3N0aG9nRXh0ZW5zaW9uc19fLnBhcnNlRXJyb3JBc1Byb3BlcnRpZXMoRChlKT97ZXJyb3I6ZSxldmVudDplLm1lc3NhZ2V9OntldmVudDplfSx7c3ludGhldGljRXhjZXB0aW9uOnN9KSksdCk6Vyh7JGV4Y2VwdGlvbl9sZXZlbDpcImVycm9yXCIsJGV4Y2VwdGlvbl9saXN0Olt7dHlwZTpEKGUpP2UubmFtZTpcIkVycm9yXCIsdmFsdWU6RChlKT9lLm1lc3NhZ2U6UChlKSYmXCJtZXNzYWdlXCJpbiBlP1N0cmluZyhlLm1lc3NhZ2UpOlN0cmluZyhlKSxtZWNoYW5pc206e2hhbmRsZWQ6ITAsc3ludGhldGljOiExfX1dfSx0KTt0aGlzLmV4Y2VwdGlvbnMuc2VuZEV4Y2VwdGlvbkV2ZW50KHIpfWxvYWRUb29sYmFyKGUpe3JldHVybiB0aGlzLnRvb2xiYXIubG9hZFRvb2xiYXIoZSl9Z2V0X3Byb3BlcnR5KGUpe3ZhciB0O3JldHVybiBudWxsPT09KHQ9dGhpcy5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQucHJvcHNbZV19Z2V0U2Vzc2lvblByb3BlcnR5KGUpe3ZhciB0O3JldHVybiBudWxsPT09KHQ9dGhpcy5zZXNzaW9uUGVyc2lzdGVuY2UpfHx2b2lkIDA9PT10P3ZvaWQgMDp0LnByb3BzW2VdfXRvU3RyaW5nKCl7dmFyIGUsdD1udWxsIT09KGU9dGhpcy5jb25maWcubmFtZSkmJnZvaWQgMCE9PWU/ZTprbztyZXR1cm4gdCE9PWtvJiYodD1rbytcIi5cIit0KSx0fV9pc0lkZW50aWZpZWQoKXt2YXIgZSx0O3JldHVyblwiaWRlbnRpZmllZFwiPT09KG51bGw9PT0oZT10aGlzLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5nZXRfcHJvcGVydHkoTGUpKXx8XCJpZGVudGlmaWVkXCI9PT0obnVsbD09PSh0PXRoaXMuc2Vzc2lvblBlcnNpc3RlbmNlKXx8dm9pZCAwPT09dD92b2lkIDA6dC5nZXRfcHJvcGVydHkoTGUpKX1faGFzUGVyc29uUHJvY2Vzc2luZygpe3ZhciBlLHQsaSxzO3JldHVybiEoXCJuZXZlclwiPT09dGhpcy5jb25maWcucGVyc29uX3Byb2ZpbGVzfHxcImlkZW50aWZpZWRfb25seVwiPT09dGhpcy5jb25maWcucGVyc29uX3Byb2ZpbGVzJiYhdGhpcy5faXNJZGVudGlmaWVkKCkmJkModGhpcy5nZXRHcm91cHMoKSkmJihudWxsPT09KGU9dGhpcy5wZXJzaXN0ZW5jZSl8fHZvaWQgMD09PWV8fG51bGw9PT0odD1lLnByb3BzKXx8dm9pZCAwPT09dHx8IXRbY2VdKSYmKG51bGw9PT0oaT10aGlzLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09aXx8bnVsbD09PShzPWkucHJvcHMpfHx2b2lkIDA9PT1zfHwhc1tVZV0pKX1fc2hvdWxkQ2FwdHVyZVBhZ2VsZWF2ZSgpe3JldHVybiEwPT09dGhpcy5jb25maWcuY2FwdHVyZV9wYWdlbGVhdmV8fFwiaWZfY2FwdHVyZV9wYWdldmlld1wiPT09dGhpcy5jb25maWcuY2FwdHVyZV9wYWdlbGVhdmUmJnRoaXMuY29uZmlnLmNhcHR1cmVfcGFnZXZpZXd9Y3JlYXRlUGVyc29uUHJvZmlsZSgpe3RoaXMuX2hhc1BlcnNvblByb2Nlc3NpbmcoKXx8dGhpcy5fcmVxdWlyZVBlcnNvblByb2Nlc3NpbmcoXCJwb3N0aG9nLmNyZWF0ZVBlcnNvblByb2ZpbGVcIikmJnRoaXMuc2V0UGVyc29uUHJvcGVydGllcyh7fSx7fSl9X3JlcXVpcmVQZXJzb25Qcm9jZXNzaW5nKGUpe3JldHVyblwibmV2ZXJcIj09PXRoaXMuY29uZmlnLnBlcnNvbl9wcm9maWxlcz8oQi5lcnJvcihlKycgd2FzIGNhbGxlZCwgYnV0IHByb2Nlc3NfcGVyc29uIGlzIHNldCB0byBcIm5ldmVyXCIuIFRoaXMgY2FsbCB3aWxsIGJlIGlnbm9yZWQuJyksITEpOih0aGlzLl9yZWdpc3Rlcl9zaW5nbGUoVWUsITApLCEwKX1fc3luY19vcHRfb3V0X3dpdGhfcGVyc2lzdGVuY2UoKXt2YXIgZSx0LGkscyxyPXRoaXMuY29uc2VudC5pc09wdGVkT3V0KCksbj10aGlzLmNvbmZpZy5vcHRfb3V0X3BlcnNpc3RlbmNlX2J5X2RlZmF1bHQsbz10aGlzLmNvbmZpZy5kaXNhYmxlX3BlcnNpc3RlbmNlfHxyJiYhIW47KG51bGw9PT0oZT10aGlzLnBlcnNpc3RlbmNlKXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5kaXNhYmxlZCkhPT1vJiYobnVsbD09PShpPXRoaXMucGVyc2lzdGVuY2UpfHx2b2lkIDA9PT1pfHxpLnNldF9kaXNhYmxlZChvKSk7KG51bGw9PT0odD10aGlzLnNlc3Npb25QZXJzaXN0ZW5jZSl8fHZvaWQgMD09PXQ/dm9pZCAwOnQuZGlzYWJsZWQpIT09byYmKG51bGw9PT0ocz10aGlzLnNlc3Npb25QZXJzaXN0ZW5jZSl8fHZvaWQgMD09PXN8fHMuc2V0X2Rpc2FibGVkKG8pKX1vcHRfaW5fY2FwdHVyaW5nKGUpe3ZhciB0Oyh0aGlzLmNvbnNlbnQub3B0SW5PdXQoITApLHRoaXMuX3N5bmNfb3B0X291dF93aXRoX3BlcnNpc3RlbmNlKCksRihudWxsPT1lP3ZvaWQgMDplLmNhcHR1cmVFdmVudE5hbWUpfHxudWxsIT1lJiZlLmNhcHR1cmVFdmVudE5hbWUpJiZ0aGlzLmNhcHR1cmUobnVsbCE9PSh0PW51bGw9PWU/dm9pZCAwOmUuY2FwdHVyZUV2ZW50TmFtZSkmJnZvaWQgMCE9PXQ/dDpcIiRvcHRfaW5cIixudWxsPT1lP3ZvaWQgMDplLmNhcHR1cmVQcm9wZXJ0aWVzLHtzZW5kX2luc3RhbnRseTohMH0pO3RoaXMuY29uZmlnLmNhcHR1cmVfcGFnZXZpZXcmJnRoaXMuX2NhcHR1cmVJbml0aWFsUGFnZXZpZXcoKX1vcHRfb3V0X2NhcHR1cmluZygpe3RoaXMuY29uc2VudC5vcHRJbk91dCghMSksdGhpcy5fc3luY19vcHRfb3V0X3dpdGhfcGVyc2lzdGVuY2UoKX1oYXNfb3B0ZWRfaW5fY2FwdHVyaW5nKCl7cmV0dXJuIHRoaXMuY29uc2VudC5pc09wdGVkSW4oKX1oYXNfb3B0ZWRfb3V0X2NhcHR1cmluZygpe3JldHVybiB0aGlzLmNvbnNlbnQuaXNPcHRlZE91dCgpfWNsZWFyX29wdF9pbl9vdXRfY2FwdHVyaW5nKCl7dGhpcy5jb25zZW50LnJlc2V0KCksdGhpcy5fc3luY19vcHRfb3V0X3dpdGhfcGVyc2lzdGVuY2UoKX1faXNfYm90KCl7cmV0dXJuIG8/Z28obyx0aGlzLmNvbmZpZy5jdXN0b21fYmxvY2tlZF91c2VyYWdlbnRzKTp2b2lkIDB9X2NhcHR1cmVJbml0aWFsUGFnZXZpZXcoKXthJiYhdGhpcy5faW5pdGlhbFBhZ2V2aWV3Q2FwdHVyZWQmJih0aGlzLl9pbml0aWFsUGFnZXZpZXdDYXB0dXJlZD0hMCx0aGlzLmNhcHR1cmUoXCIkcGFnZXZpZXdcIix7dGl0bGU6YS50aXRsZX0se3NlbmRfaW5zdGFudGx5OiEwfSkpfWRlYnVnKGUpeyExPT09ZT8obnVsbD09dHx8dC5jb25zb2xlLmxvZyhcIllvdSd2ZSBkaXNhYmxlZCBkZWJ1ZyBtb2RlLlwiKSxsb2NhbFN0b3JhZ2UmJmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwicGhfZGVidWdcIiksdGhpcy5zZXRfY29uZmlnKHtkZWJ1ZzohMX0pKToobnVsbD09dHx8dC5jb25zb2xlLmxvZyhcIllvdSdyZSBub3cgaW4gZGVidWcgbW9kZS4gQWxsIGNhbGxzIHRvIFBvc3RIb2cgd2lsbCBiZSBsb2dnZWQgaW4geW91ciBjb25zb2xlLlxcbllvdSBjYW4gZGlzYWJsZSB0aGlzIHdpdGggYHBvc3Rob2cuZGVidWcoZmFsc2UpYC5cIiksbG9jYWxTdG9yYWdlJiZsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInBoX2RlYnVnXCIsXCJ0cnVlXCIpLHRoaXMuc2V0X2NvbmZpZyh7ZGVidWc6ITB9KSl9X3J1bkJlZm9yZVNlbmQoZSl7aWYoQSh0aGlzLmNvbmZpZy5iZWZvcmVfc2VuZCkpcmV0dXJuIGU7dmFyIHQ9eCh0aGlzLmNvbmZpZy5iZWZvcmVfc2VuZCk/dGhpcy5jb25maWcuYmVmb3JlX3NlbmQ6W3RoaXMuY29uZmlnLmJlZm9yZV9zZW5kXSxpPWU7Zm9yKHZhciBzIG9mIHQpe2lmKGk9cyhpKSxBKGkpKXt2YXIgcj1cIkV2ZW50ICdcIi5jb25jYXQoZS5ldmVudCxcIicgd2FzIHJlamVjdGVkIGluIGJlZm9yZVNlbmQgZnVuY3Rpb25cIik7cmV0dXJuIHEoZS5ldmVudCk/Qi53YXJuKFwiXCIuY29uY2F0KHIsXCIuIFRoaXMgY2FuIGNhdXNlIHVuZXhwZWN0ZWQgYmVoYXZpb3IuXCIpKTpCLmluZm8ociksbnVsbH1pLnByb3BlcnRpZXMmJiFDKGkucHJvcGVydGllcyl8fEIud2FybihcIkV2ZW50ICdcIi5jb25jYXQoZS5ldmVudCxcIicgaGFzIG5vIHByb3BlcnRpZXMgYWZ0ZXIgYmVmb3JlU2VuZCBmdW5jdGlvbiwgdGhpcyBpcyBsaWtlbHkgYW4gZXJyb3IuXCIpKX1yZXR1cm4gaX1nZXRQYWdlVmlld0lkKCl7dmFyIGU7cmV0dXJuIG51bGw9PT0oZT10aGlzLnBhZ2VWaWV3TWFuYWdlci5fY3VycmVudFBhZ2V2aWV3KXx8dm9pZCAwPT09ZT92b2lkIDA6ZS5wYWdlVmlld0lkfWNhcHR1cmVUcmFjZUZlZWRiYWNrKGUsdCl7dGhpcy5jYXB0dXJlKFwiJGFpX2ZlZWRiYWNrXCIseyRhaV90cmFjZV9pZDpTdHJpbmcoZSksJGFpX2ZlZWRiYWNrX3RleHQ6dH0pfWNhcHR1cmVUcmFjZU1ldHJpYyhlLHQsaSl7dGhpcy5jYXB0dXJlKFwiJGFpX21ldHJpY1wiLHskYWlfdHJhY2VfaWQ6U3RyaW5nKGUpLCRhaV9tZXRyaWNfbmFtZTp0LCRhaV9tZXRyaWNfdmFsdWU6U3RyaW5nKGkpfSl9fSFmdW5jdGlvbihlLHQpe2Zvcih2YXIgaT0wO2k8dC5sZW5ndGg7aSsrKWUucHJvdG90eXBlW3RbaV1dPXRlKGUucHJvdG90eXBlW3RbaV1dKX0oQ28sW1wiaWRlbnRpZnlcIl0pO3ZhciBGbyxSbz0oRm89d29ba29dPW5ldyBDbyxmdW5jdGlvbigpe2Z1bmN0aW9uIGUoKXtlLmRvbmV8fChlLmRvbmU9ITAsRW89ITEsSyh3bywoZnVuY3Rpb24oZSl7ZS5fZG9tX2xvYWRlZCgpfSkpKX1udWxsIT1hJiZhLmFkZEV2ZW50TGlzdGVuZXI/XCJjb21wbGV0ZVwiPT09YS5yZWFkeVN0YXRlP2UoKTphZShhLFwiRE9NQ29udGVudExvYWRlZFwiLGUse2NhcHR1cmU6ITF9KTp0JiZCLmVycm9yKFwiQnJvd3NlciBkb2Vzbid0IHN1cHBvcnQgYGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXJgIHNvIFBvc3RIb2cgY291bGRuJ3QgYmUgaW5pdGlhbGl6ZWRcIil9KCksRm8pO2V4cG9ydHtnIGFzIENPUFlfQVVUT0NBUFRVUkVfRVZFTlQsZSBhcyBDb21wcmVzc2lvbixDbyBhcyBQb3N0SG9nLG5uIGFzIFN1cnZleVF1ZXN0aW9uQnJhbmNoaW5nVHlwZSxybiBhcyBTdXJ2ZXlRdWVzdGlvblR5cGUsb24gYXMgU3VydmV5U2NoZWR1bGUsc24gYXMgU3VydmV5VHlwZSxSbyBhcyBkZWZhdWx0LHYgYXMga25vd25VbnNhZmVFZGl0YWJsZUV2ZW50LFJvIGFzIHBvc3Rob2csZiBhcyBzZXZlcml0eUxldmVsc307XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb2R1bGUuanMubWFwXG4iXSwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbMF0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/posthog-js/dist/module.js\n");

/***/ }),

/***/ "(ssr)/../../node_modules/posthog-js/react/dist/esm/index.js":
/*!*************************************************************!*\
  !*** ../../node_modules/posthog-js/react/dist/esm/index.js ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PostHogContext: () => (/* binding */ PostHogContext),\n/* harmony export */   PostHogFeature: () => (/* binding */ PostHogFeature),\n/* harmony export */   PostHogProvider: () => (/* binding */ PostHogProvider),\n/* harmony export */   useActiveFeatureFlags: () => (/* binding */ useActiveFeatureFlags),\n/* harmony export */   useFeatureFlagEnabled: () => (/* binding */ useFeatureFlagEnabled),\n/* harmony export */   useFeatureFlagPayload: () => (/* binding */ useFeatureFlagPayload),\n/* harmony export */   useFeatureFlagVariantKey: () => (/* binding */ useFeatureFlagVariantKey),\n/* harmony export */   usePostHog: () => (/* binding */ usePostHog)\n/* harmony export */ });\n/* harmony import */ var posthog_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! posthog-js */ \"(ssr)/../../node_modules/posthog-js/dist/module.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(ssr)/../../node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n\n\n\nvar PostHogContext = (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)({ client: posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"] });\n\nfunction isDeepEqual(obj1, obj2, visited) {\r\n    if (visited === void 0) { visited = new WeakMap(); }\r\n    if (obj1 === obj2) {\r\n        return true;\r\n    }\r\n    if (typeof obj1 !== 'object' || obj1 === null || typeof obj2 !== 'object' || obj2 === null) {\r\n        return false;\r\n    }\r\n    if (visited.has(obj1) && visited.get(obj1) === obj2) {\r\n        return true;\r\n    }\r\n    visited.set(obj1, obj2);\r\n    var keys1 = Object.keys(obj1);\r\n    var keys2 = Object.keys(obj2);\r\n    if (keys1.length !== keys2.length) {\r\n        return false;\r\n    }\r\n    for (var _i = 0, keys1_1 = keys1; _i < keys1_1.length; _i++) {\r\n        var key = keys1_1[_i];\r\n        if (!keys2.includes(key)) {\r\n            return false;\r\n        }\r\n        if (!isDeepEqual(obj1[key], obj2[key], visited)) {\r\n            return false;\r\n        }\r\n    }\r\n    return true;\r\n}\n\nfunction PostHogProvider(_a) {\r\n    var children = _a.children, client = _a.client, apiKey = _a.apiKey, options = _a.options;\r\n    var _b = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false), alreadyInitialized = _b[0], setAlreadyInitialized = _b[1];\r\n    var posthog = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(function () {\r\n        if (client) {\r\n            if (apiKey) {\r\n                console.warn('[PostHog.js] You have provided both `client` and `apiKey` to `PostHogProvider`. `apiKey` will be ignored in favour of `client`.');\r\n            }\r\n            if (options) {\r\n                console.warn('[PostHog.js] You have provided both `client` and `options` to `PostHogProvider`. `options` will be ignored in favour of `client`.');\r\n            }\r\n            return client;\r\n        }\r\n        if (apiKey) {\r\n            if (alreadyInitialized !== false) {\r\n                if (apiKey !== alreadyInitialized.previousAPIKey) {\r\n                    console.warn(\"[PostHog.js] You have provided a different `apiKey` to `PostHogProvider` than the one that was already initialized. This is not supported by our provider and we'll keep using the previous key. If you need to toggle between API Keys you need to control the `client` yourself and pass it in as a prop rather than an `apiKey` prop.\");\r\n                }\r\n                if (options && !isDeepEqual(options, alreadyInitialized.previousOptions)) {\r\n                    posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].set_config(options);\r\n                }\r\n                setAlreadyInitialized({\r\n                    previousAPIKey: apiKey,\r\n                    previousOptions: options !== null && options !== void 0 ? options : {},\r\n                });\r\n                return posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n            }\r\n            if (posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].__loaded) {\r\n                console.warn('[PostHog.js] `posthog` was already loaded elsewhere. This may cause issues.');\r\n            }\r\n            posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].init(apiKey, options);\r\n            setAlreadyInitialized({\r\n                previousAPIKey: apiKey,\r\n                previousOptions: options !== null && options !== void 0 ? options : {},\r\n            });\r\n            return posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n        }\r\n        console.warn('[PostHog.js] No `apiKey` or `client` were provided to `PostHogProvider`. Using default global `window.posthog` instance. You must initialize it manually. This is not recommended behavior.');\r\n        return posthog_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"];\r\n    }, [client, apiKey, JSON.stringify(options)]);\r\n    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement(PostHogContext.Provider, { value: { client: posthog } }, children);\r\n}\n\nvar usePostHog = function () {\r\n    var client = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(PostHogContext).client;\r\n    return client;\r\n};\n\nfunction useFeatureFlagEnabled(flag) {\r\n    var client = usePostHog();\r\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () { return client.isFeatureEnabled(flag); }), featureEnabled = _a[0], setFeatureEnabled = _a[1];\r\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n        return client.onFeatureFlags(function () {\r\n            setFeatureEnabled(client.isFeatureEnabled(flag));\r\n        });\r\n    }, [client, flag]);\r\n    return featureEnabled;\r\n}\n\nfunction useFeatureFlagPayload(flag) {\r\n    var client = usePostHog();\r\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () { return client.getFeatureFlagPayload(flag); }), featureFlagPayload = _a[0], setFeatureFlagPayload = _a[1];\r\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n        return client.onFeatureFlags(function () {\r\n            setFeatureFlagPayload(client.getFeatureFlagPayload(flag));\r\n        });\r\n    }, [client, flag]);\r\n    return featureFlagPayload;\r\n}\n\nfunction useActiveFeatureFlags() {\r\n    var client = usePostHog();\r\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () { return client.featureFlags.getFlags(); }), featureFlags = _a[0], setFeatureFlags = _a[1];\r\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n        return client.onFeatureFlags(function (flags) {\r\n            setFeatureFlags(flags);\r\n        });\r\n    }, [client]);\r\n    return featureFlags;\r\n}\n\nfunction useFeatureFlagVariantKey(flag) {\r\n    var client = usePostHog();\r\n    var _a = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(function () {\r\n        return client.getFeatureFlag(flag);\r\n    }), featureFlagVariantKey = _a[0], setFeatureFlagVariantKey = _a[1];\r\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n        return client.onFeatureFlags(function () {\r\n            setFeatureFlagVariantKey(client.getFeatureFlag(flag));\r\n        });\r\n    }, [client, flag]);\r\n    return featureFlagVariantKey;\r\n}\n\n/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n\r\nvar __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    };\r\n    return __assign.apply(this, arguments);\r\n};\r\n\r\nfunction __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\n\nvar isFunction = function (f) {\r\n    return typeof f === 'function';\r\n};\r\nvar isUndefined = function (x) {\r\n    return x === void 0;\r\n};\r\nvar isNull = function (x) {\r\n    return x === null;\r\n};\n\nfunction PostHogFeature(_a) {\r\n    var flag = _a.flag, match = _a.match, children = _a.children, fallback = _a.fallback, visibilityObserverOptions = _a.visibilityObserverOptions, trackInteraction = _a.trackInteraction, trackView = _a.trackView, props = __rest(_a, [\"flag\", \"match\", \"children\", \"fallback\", \"visibilityObserverOptions\", \"trackInteraction\", \"trackView\"]);\r\n    var payload = useFeatureFlagPayload(flag);\r\n    var variant = useFeatureFlagVariantKey(flag);\r\n    var shouldTrackInteraction = trackInteraction !== null && trackInteraction !== void 0 ? trackInteraction : true;\r\n    var shouldTrackView = trackView !== null && trackView !== void 0 ? trackView : true;\r\n    if (isUndefined(match) || variant === match) {\r\n        var childNode = isFunction(children) ? children(payload) : children;\r\n        return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(VisibilityAndClickTrackers, __assign({ flag: flag, options: visibilityObserverOptions, trackInteraction: shouldTrackInteraction, trackView: shouldTrackView }, props), childNode));\r\n    }\r\n    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, fallback);\r\n}\r\nfunction captureFeatureInteraction(_a) {\r\n    var _b;\r\n    var flag = _a.flag, posthog = _a.posthog, flagVariant = _a.flagVariant;\r\n    var properties = {\r\n        feature_flag: flag,\r\n        $set: (_b = {}, _b[\"$feature_interaction/\".concat(flag)] = flagVariant !== null && flagVariant !== void 0 ? flagVariant : true, _b),\r\n    };\r\n    if (typeof flagVariant === 'string') {\r\n        properties.feature_flag_variant = flagVariant;\r\n    }\r\n    posthog.capture('$feature_interaction', properties);\r\n}\r\nfunction captureFeatureView(_a) {\r\n    var _b;\r\n    var flag = _a.flag, posthog = _a.posthog, flagVariant = _a.flagVariant;\r\n    var properties = {\r\n        feature_flag: flag,\r\n        $set: (_b = {}, _b[\"$feature_view/\".concat(flag)] = flagVariant !== null && flagVariant !== void 0 ? flagVariant : true, _b),\r\n    };\r\n    if (typeof flagVariant === 'string') {\r\n        properties.feature_flag_variant = flagVariant;\r\n    }\r\n    posthog.capture('$feature_view', properties);\r\n}\r\nfunction VisibilityAndClickTracker(_a) {\r\n    var flag = _a.flag, children = _a.children, onIntersect = _a.onIntersect, onClick = _a.onClick, trackView = _a.trackView, options = _a.options, props = __rest(_a, [\"flag\", \"children\", \"onIntersect\", \"onClick\", \"trackView\", \"options\"]);\r\n    var ref = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\r\n    var posthog = usePostHog();\r\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(function () {\r\n        if (isNull(ref.current) || !trackView)\r\n            return;\r\n        var observer = new IntersectionObserver(function (_a) {\r\n            var entry = _a[0];\r\n            return onIntersect(entry);\r\n        }, __assign({ threshold: 0.1 }, options));\r\n        observer.observe(ref.current);\r\n        return function () { return observer.disconnect(); };\r\n    }, [flag, options, posthog, ref, trackView, onIntersect]);\r\n    return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(\"div\", __assign({ ref: ref }, props, { onClick: onClick }), children));\r\n}\r\nfunction VisibilityAndClickTrackers(_a) {\r\n    var flag = _a.flag, children = _a.children, trackInteraction = _a.trackInteraction, trackView = _a.trackView, options = _a.options, props = __rest(_a, [\"flag\", \"children\", \"trackInteraction\", \"trackView\", \"options\"]);\r\n    var clickTrackedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\r\n    var visibilityTrackedRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(false);\r\n    var posthog = usePostHog();\r\n    var variant = useFeatureFlagVariantKey(flag);\r\n    var cachedOnClick = (0,react__WEBPACK_IMPORTED_MODULE_1__.useCallback)(function () {\r\n        if (!clickTrackedRef.current && trackInteraction) {\r\n            captureFeatureInteraction({ flag: flag, posthog: posthog, flagVariant: variant });\r\n            clickTrackedRef.current = true;\r\n        }\r\n    }, [flag, posthog, trackInteraction, variant]);\r\n    var onIntersect = function (entry) {\r\n        if (!visibilityTrackedRef.current && entry.isIntersecting) {\r\n            captureFeatureView({ flag: flag, posthog: posthog, flagVariant: variant });\r\n            visibilityTrackedRef.current = true;\r\n        }\r\n    };\r\n    var trackedChildren = react__WEBPACK_IMPORTED_MODULE_1__.Children.map(children, function (child) {\r\n        return (react__WEBPACK_IMPORTED_MODULE_1___default().createElement(VisibilityAndClickTracker, __assign({ flag: flag, onClick: cachedOnClick, onIntersect: onIntersect, trackView: trackView, options: options }, props), child));\r\n    });\r\n    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement((react__WEBPACK_IMPORTED_MODULE_1___default().Fragment), null, trackedChildren);\r\n}\n\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHNzcikvLi4vLi4vbm9kZV9tb2R1bGVzL3Bvc3Rob2ctanMvcmVhY3QvZGlzdC9lc20vaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBbUM7QUFDbUY7O0FBRXRILHFCQUFxQixvREFBYSxHQUFHLFFBQVEsa0RBQVMsRUFBRTs7QUFFeEQ7QUFDQSw4QkFBOEI7QUFDOUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0NBQXNDLHFCQUFxQjtBQUMzRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsYUFBYSwrQ0FBUTtBQUNyQixrQkFBa0IsOENBQU87QUFDekI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLGtEQUFTO0FBQzdCO0FBQ0E7QUFDQTtBQUNBLDBGQUEwRjtBQUMxRixpQkFBaUI7QUFDakIsdUJBQXVCLGtEQUFTO0FBQ2hDO0FBQ0EsZ0JBQWdCLGtEQUFTO0FBQ3pCO0FBQ0E7QUFDQSxZQUFZLGtEQUFTO0FBQ3JCO0FBQ0E7QUFDQSxzRkFBc0Y7QUFDdEYsYUFBYTtBQUNiLG1CQUFtQixrREFBUztBQUM1QjtBQUNBO0FBQ0EsZUFBZSxrREFBUztBQUN4QixLQUFLO0FBQ0wsV0FBVywwREFBbUIsNEJBQTRCLFNBQVMsbUJBQW1CO0FBQ3RGOztBQUVBO0FBQ0EsaUJBQWlCLGlEQUFVO0FBQzNCO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsK0NBQVEsZUFBZSx1Q0FBdUM7QUFDM0UsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsK0NBQVEsZUFBZSw0Q0FBNEM7QUFDaEYsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsK0NBQVEsZUFBZSx3Q0FBd0M7QUFDNUUsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLGFBQWEsK0NBQVE7QUFDckI7QUFDQSxLQUFLO0FBQ0wsSUFBSSxnREFBUztBQUNiO0FBQ0E7QUFDQSxTQUFTO0FBQ1QsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlEQUFpRCxPQUFPO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkRBQTZELGNBQWM7QUFDM0U7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiwwREFBbUIsd0NBQXdDLHNIQUFzSDtBQUNqTTtBQUNBLFdBQVcsMERBQW1CLENBQUMsdURBQWM7QUFDN0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzQkFBc0I7QUFDdEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWMsNkNBQU07QUFDcEI7QUFDQSxJQUFJLGdEQUFTO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVMsYUFBYSxnQkFBZ0I7QUFDdEM7QUFDQSw2QkFBNkI7QUFDN0IsS0FBSztBQUNMLFlBQVksMERBQW1CLG1CQUFtQixVQUFVLFdBQVcsa0JBQWtCO0FBQ3pGO0FBQ0E7QUFDQTtBQUNBLDBCQUEwQiw2Q0FBTTtBQUNoQywrQkFBK0IsNkNBQU07QUFDckM7QUFDQTtBQUNBLHdCQUF3QixrREFBVztBQUNuQztBQUNBLHdDQUF3QyxvREFBb0Q7QUFDNUY7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0EsaUNBQWlDLG9EQUFvRDtBQUNyRjtBQUNBO0FBQ0E7QUFDQSwwQkFBMEIsMkNBQVE7QUFDbEMsZ0JBQWdCLDBEQUFtQix1Q0FBdUMsc0dBQXNHO0FBQ2hMLEtBQUs7QUFDTCxXQUFXLDBEQUFtQixDQUFDLHVEQUFjO0FBQzdDOztBQUVzSyIsInNvdXJjZXMiOlsiL1VzZXJzL25hZWVtc2hhYmlyL0VuY2FudGEvRW5jYW50YUFnZW50c0h1Yi9lbmNhbnRhL25vZGVfbW9kdWxlcy9wb3N0aG9nLWpzL3JlYWN0L2Rpc3QvZXNtL2luZGV4LmpzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBwb3N0aG9nSnMgZnJvbSAncG9zdGhvZy1qcyc7XG5pbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlU3RhdGUsIHVzZU1lbW8sIHVzZUNvbnRleHQsIHVzZUVmZmVjdCwgdXNlUmVmLCB1c2VDYWxsYmFjaywgQ2hpbGRyZW4gfSBmcm9tICdyZWFjdCc7XG5cbnZhciBQb3N0SG9nQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQoeyBjbGllbnQ6IHBvc3Rob2dKcyB9KTtcblxuZnVuY3Rpb24gaXNEZWVwRXF1YWwob2JqMSwgb2JqMiwgdmlzaXRlZCkge1xyXG4gICAgaWYgKHZpc2l0ZWQgPT09IHZvaWQgMCkgeyB2aXNpdGVkID0gbmV3IFdlYWtNYXAoKTsgfVxyXG4gICAgaWYgKG9iajEgPT09IG9iajIpIHtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIGlmICh0eXBlb2Ygb2JqMSAhPT0gJ29iamVjdCcgfHwgb2JqMSA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqMiAhPT0gJ29iamVjdCcgfHwgb2JqMiA9PT0gbnVsbCkge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICAgIGlmICh2aXNpdGVkLmhhcyhvYmoxKSAmJiB2aXNpdGVkLmdldChvYmoxKSA9PT0gb2JqMikge1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfVxyXG4gICAgdmlzaXRlZC5zZXQob2JqMSwgb2JqMik7XHJcbiAgICB2YXIga2V5czEgPSBPYmplY3Qua2V5cyhvYmoxKTtcclxuICAgIHZhciBrZXlzMiA9IE9iamVjdC5rZXlzKG9iajIpO1xyXG4gICAgaWYgKGtleXMxLmxlbmd0aCAhPT0ga2V5czIubGVuZ3RoKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG4gICAgZm9yICh2YXIgX2kgPSAwLCBrZXlzMV8xID0ga2V5czE7IF9pIDwga2V5czFfMS5sZW5ndGg7IF9pKyspIHtcclxuICAgICAgICB2YXIga2V5ID0ga2V5czFfMVtfaV07XHJcbiAgICAgICAgaWYgKCFrZXlzMi5pbmNsdWRlcyhrZXkpKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCFpc0RlZXBFcXVhbChvYmoxW2tleV0sIG9iajJba2V5XSwgdmlzaXRlZCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiB0cnVlO1xyXG59XG5cbmZ1bmN0aW9uIFBvc3RIb2dQcm92aWRlcihfYSkge1xyXG4gICAgdmFyIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIGNsaWVudCA9IF9hLmNsaWVudCwgYXBpS2V5ID0gX2EuYXBpS2V5LCBvcHRpb25zID0gX2Eub3B0aW9ucztcclxuICAgIHZhciBfYiA9IHVzZVN0YXRlKGZhbHNlKSwgYWxyZWFkeUluaXRpYWxpemVkID0gX2JbMF0sIHNldEFscmVhZHlJbml0aWFsaXplZCA9IF9iWzFdO1xyXG4gICAgdmFyIHBvc3Rob2cgPSB1c2VNZW1vKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoY2xpZW50KSB7XHJcbiAgICAgICAgICAgIGlmIChhcGlLZXkpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignW1Bvc3RIb2cuanNdIFlvdSBoYXZlIHByb3ZpZGVkIGJvdGggYGNsaWVudGAgYW5kIGBhcGlLZXlgIHRvIGBQb3N0SG9nUHJvdmlkZXJgLiBgYXBpS2V5YCB3aWxsIGJlIGlnbm9yZWQgaW4gZmF2b3VyIG9mIGBjbGllbnRgLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChvcHRpb25zKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oJ1tQb3N0SG9nLmpzXSBZb3UgaGF2ZSBwcm92aWRlZCBib3RoIGBjbGllbnRgIGFuZCBgb3B0aW9uc2AgdG8gYFBvc3RIb2dQcm92aWRlcmAuIGBvcHRpb25zYCB3aWxsIGJlIGlnbm9yZWQgaW4gZmF2b3VyIG9mIGBjbGllbnRgLicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiBjbGllbnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChhcGlLZXkpIHtcclxuICAgICAgICAgICAgaWYgKGFscmVhZHlJbml0aWFsaXplZCAhPT0gZmFsc2UpIHtcclxuICAgICAgICAgICAgICAgIGlmIChhcGlLZXkgIT09IGFscmVhZHlJbml0aWFsaXplZC5wcmV2aW91c0FQSUtleSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIltQb3N0SG9nLmpzXSBZb3UgaGF2ZSBwcm92aWRlZCBhIGRpZmZlcmVudCBgYXBpS2V5YCB0byBgUG9zdEhvZ1Byb3ZpZGVyYCB0aGFuIHRoZSBvbmUgdGhhdCB3YXMgYWxyZWFkeSBpbml0aWFsaXplZC4gVGhpcyBpcyBub3Qgc3VwcG9ydGVkIGJ5IG91ciBwcm92aWRlciBhbmQgd2UnbGwga2VlcCB1c2luZyB0aGUgcHJldmlvdXMga2V5LiBJZiB5b3UgbmVlZCB0byB0b2dnbGUgYmV0d2VlbiBBUEkgS2V5cyB5b3UgbmVlZCB0byBjb250cm9sIHRoZSBgY2xpZW50YCB5b3Vyc2VsZiBhbmQgcGFzcyBpdCBpbiBhcyBhIHByb3AgcmF0aGVyIHRoYW4gYW4gYGFwaUtleWAgcHJvcC5cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucyAmJiAhaXNEZWVwRXF1YWwob3B0aW9ucywgYWxyZWFkeUluaXRpYWxpemVkLnByZXZpb3VzT3B0aW9ucykpIHtcclxuICAgICAgICAgICAgICAgICAgICBwb3N0aG9nSnMuc2V0X2NvbmZpZyhvcHRpb25zKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHNldEFscmVhZHlJbml0aWFsaXplZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgcHJldmlvdXNBUElLZXk6IGFwaUtleSxcclxuICAgICAgICAgICAgICAgICAgICBwcmV2aW91c09wdGlvbnM6IG9wdGlvbnMgIT09IG51bGwgJiYgb3B0aW9ucyAhPT0gdm9pZCAwID8gb3B0aW9ucyA6IHt9LFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gcG9zdGhvZ0pzO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChwb3N0aG9nSnMuX19sb2FkZWQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybignW1Bvc3RIb2cuanNdIGBwb3N0aG9nYCB3YXMgYWxyZWFkeSBsb2FkZWQgZWxzZXdoZXJlLiBUaGlzIG1heSBjYXVzZSBpc3N1ZXMuJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcG9zdGhvZ0pzLmluaXQoYXBpS2V5LCBvcHRpb25zKTtcclxuICAgICAgICAgICAgc2V0QWxyZWFkeUluaXRpYWxpemVkKHtcclxuICAgICAgICAgICAgICAgIHByZXZpb3VzQVBJS2V5OiBhcGlLZXksXHJcbiAgICAgICAgICAgICAgICBwcmV2aW91c09wdGlvbnM6IG9wdGlvbnMgIT09IG51bGwgJiYgb3B0aW9ucyAhPT0gdm9pZCAwID8gb3B0aW9ucyA6IHt9LFxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHBvc3Rob2dKcztcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS53YXJuKCdbUG9zdEhvZy5qc10gTm8gYGFwaUtleWAgb3IgYGNsaWVudGAgd2VyZSBwcm92aWRlZCB0byBgUG9zdEhvZ1Byb3ZpZGVyYC4gVXNpbmcgZGVmYXVsdCBnbG9iYWwgYHdpbmRvdy5wb3N0aG9nYCBpbnN0YW5jZS4gWW91IG11c3QgaW5pdGlhbGl6ZSBpdCBtYW51YWxseS4gVGhpcyBpcyBub3QgcmVjb21tZW5kZWQgYmVoYXZpb3IuJyk7XHJcbiAgICAgICAgcmV0dXJuIHBvc3Rob2dKcztcclxuICAgIH0sIFtjbGllbnQsIGFwaUtleSwgSlNPTi5zdHJpbmdpZnkob3B0aW9ucyldKTtcclxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFBvc3RIb2dDb250ZXh0LlByb3ZpZGVyLCB7IHZhbHVlOiB7IGNsaWVudDogcG9zdGhvZyB9IH0sIGNoaWxkcmVuKTtcclxufVxuXG52YXIgdXNlUG9zdEhvZyA9IGZ1bmN0aW9uICgpIHtcclxuICAgIHZhciBjbGllbnQgPSB1c2VDb250ZXh0KFBvc3RIb2dDb250ZXh0KS5jbGllbnQ7XHJcbiAgICByZXR1cm4gY2xpZW50O1xyXG59O1xuXG5mdW5jdGlvbiB1c2VGZWF0dXJlRmxhZ0VuYWJsZWQoZmxhZykge1xyXG4gICAgdmFyIGNsaWVudCA9IHVzZVBvc3RIb2coKTtcclxuICAgIHZhciBfYSA9IHVzZVN0YXRlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNsaWVudC5pc0ZlYXR1cmVFbmFibGVkKGZsYWcpOyB9KSwgZmVhdHVyZUVuYWJsZWQgPSBfYVswXSwgc2V0RmVhdHVyZUVuYWJsZWQgPSBfYVsxXTtcclxuICAgIHVzZUVmZmVjdChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgcmV0dXJuIGNsaWVudC5vbkZlYXR1cmVGbGFncyhmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHNldEZlYXR1cmVFbmFibGVkKGNsaWVudC5pc0ZlYXR1cmVFbmFibGVkKGZsYWcpKTtcclxuICAgICAgICB9KTtcclxuICAgIH0sIFtjbGllbnQsIGZsYWddKTtcclxuICAgIHJldHVybiBmZWF0dXJlRW5hYmxlZDtcclxufVxuXG5mdW5jdGlvbiB1c2VGZWF0dXJlRmxhZ1BheWxvYWQoZmxhZykge1xyXG4gICAgdmFyIGNsaWVudCA9IHVzZVBvc3RIb2coKTtcclxuICAgIHZhciBfYSA9IHVzZVN0YXRlKGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNsaWVudC5nZXRGZWF0dXJlRmxhZ1BheWxvYWQoZmxhZyk7IH0pLCBmZWF0dXJlRmxhZ1BheWxvYWQgPSBfYVswXSwgc2V0RmVhdHVyZUZsYWdQYXlsb2FkID0gX2FbMV07XHJcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBjbGllbnQub25GZWF0dXJlRmxhZ3MoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBzZXRGZWF0dXJlRmxhZ1BheWxvYWQoY2xpZW50LmdldEZlYXR1cmVGbGFnUGF5bG9hZChmbGFnKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCBbY2xpZW50LCBmbGFnXSk7XHJcbiAgICByZXR1cm4gZmVhdHVyZUZsYWdQYXlsb2FkO1xyXG59XG5cbmZ1bmN0aW9uIHVzZUFjdGl2ZUZlYXR1cmVGbGFncygpIHtcclxuICAgIHZhciBjbGllbnQgPSB1c2VQb3N0SG9nKCk7XHJcbiAgICB2YXIgX2EgPSB1c2VTdGF0ZShmdW5jdGlvbiAoKSB7IHJldHVybiBjbGllbnQuZmVhdHVyZUZsYWdzLmdldEZsYWdzKCk7IH0pLCBmZWF0dXJlRmxhZ3MgPSBfYVswXSwgc2V0RmVhdHVyZUZsYWdzID0gX2FbMV07XHJcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBjbGllbnQub25GZWF0dXJlRmxhZ3MoZnVuY3Rpb24gKGZsYWdzKSB7XHJcbiAgICAgICAgICAgIHNldEZlYXR1cmVGbGFncyhmbGFncyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCBbY2xpZW50XSk7XHJcbiAgICByZXR1cm4gZmVhdHVyZUZsYWdzO1xyXG59XG5cbmZ1bmN0aW9uIHVzZUZlYXR1cmVGbGFnVmFyaWFudEtleShmbGFnKSB7XHJcbiAgICB2YXIgY2xpZW50ID0gdXNlUG9zdEhvZygpO1xyXG4gICAgdmFyIF9hID0gdXNlU3RhdGUoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHJldHVybiBjbGllbnQuZ2V0RmVhdHVyZUZsYWcoZmxhZyk7XHJcbiAgICB9KSwgZmVhdHVyZUZsYWdWYXJpYW50S2V5ID0gX2FbMF0sIHNldEZlYXR1cmVGbGFnVmFyaWFudEtleSA9IF9hWzFdO1xyXG4gICAgdXNlRWZmZWN0KGZ1bmN0aW9uICgpIHtcclxuICAgICAgICByZXR1cm4gY2xpZW50Lm9uRmVhdHVyZUZsYWdzKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgc2V0RmVhdHVyZUZsYWdWYXJpYW50S2V5KGNsaWVudC5nZXRGZWF0dXJlRmxhZyhmbGFnKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCBbY2xpZW50LCBmbGFnXSk7XHJcbiAgICByZXR1cm4gZmVhdHVyZUZsYWdWYXJpYW50S2V5O1xyXG59XG5cbi8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uXHJcblxyXG5QZXJtaXNzaW9uIHRvIHVzZSwgY29weSwgbW9kaWZ5LCBhbmQvb3IgZGlzdHJpYnV0ZSB0aGlzIHNvZnR3YXJlIGZvciBhbnlcclxucHVycG9zZSB3aXRoIG9yIHdpdGhvdXQgZmVlIGlzIGhlcmVieSBncmFudGVkLlxyXG5cclxuVEhFIFNPRlRXQVJFIElTIFBST1ZJREVEIFwiQVMgSVNcIiBBTkQgVEhFIEFVVEhPUiBESVNDTEFJTVMgQUxMIFdBUlJBTlRJRVMgV0lUSFxyXG5SRUdBUkQgVE8gVEhJUyBTT0ZUV0FSRSBJTkNMVURJTkcgQUxMIElNUExJRUQgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFlcclxuQU5EIEZJVE5FU1MuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1IgQkUgTElBQkxFIEZPUiBBTlkgU1BFQ0lBTCwgRElSRUNULFxyXG5JTkRJUkVDVCwgT1IgQ09OU0VRVUVOVElBTCBEQU1BR0VTIE9SIEFOWSBEQU1BR0VTIFdIQVRTT0VWRVIgUkVTVUxUSU5HIEZST01cclxuTE9TUyBPRiBVU0UsIERBVEEgT1IgUFJPRklUUywgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIE5FR0xJR0VOQ0UgT1JcclxuT1RIRVIgVE9SVElPVVMgQUNUSU9OLCBBUklTSU5HIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFVTRSBPUlxyXG5QRVJGT1JNQU5DRSBPRiBUSElTIFNPRlRXQVJFLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG5cclxudmFyIF9fYXNzaWduID0gZnVuY3Rpb24oKSB7XHJcbiAgICBfX2Fzc2lnbiA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gX19hc3NpZ24odCkge1xyXG4gICAgICAgIGZvciAodmFyIHMsIGkgPSAxLCBuID0gYXJndW1lbnRzLmxlbmd0aDsgaSA8IG47IGkrKykge1xyXG4gICAgICAgICAgICBzID0gYXJndW1lbnRzW2ldO1xyXG4gICAgICAgICAgICBmb3IgKHZhciBwIGluIHMpIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocywgcCkpIHRbcF0gPSBzW3BdO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdDtcclxuICAgIH07XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAoZS5pbmRleE9mKHBbaV0pIDwgMCAmJiBPYmplY3QucHJvdG90eXBlLnByb3BlcnR5SXNFbnVtZXJhYmxlLmNhbGwocywgcFtpXSkpXHJcbiAgICAgICAgICAgICAgICB0W3BbaV1dID0gc1twW2ldXTtcclxuICAgICAgICB9XHJcbiAgICByZXR1cm4gdDtcclxufVxuXG52YXIgaXNGdW5jdGlvbiA9IGZ1bmN0aW9uIChmKSB7XHJcbiAgICByZXR1cm4gdHlwZW9mIGYgPT09ICdmdW5jdGlvbic7XHJcbn07XHJcbnZhciBpc1VuZGVmaW5lZCA9IGZ1bmN0aW9uICh4KSB7XHJcbiAgICByZXR1cm4geCA9PT0gdm9pZCAwO1xyXG59O1xyXG52YXIgaXNOdWxsID0gZnVuY3Rpb24gKHgpIHtcclxuICAgIHJldHVybiB4ID09PSBudWxsO1xyXG59O1xuXG5mdW5jdGlvbiBQb3N0SG9nRmVhdHVyZShfYSkge1xyXG4gICAgdmFyIGZsYWcgPSBfYS5mbGFnLCBtYXRjaCA9IF9hLm1hdGNoLCBjaGlsZHJlbiA9IF9hLmNoaWxkcmVuLCBmYWxsYmFjayA9IF9hLmZhbGxiYWNrLCB2aXNpYmlsaXR5T2JzZXJ2ZXJPcHRpb25zID0gX2EudmlzaWJpbGl0eU9ic2VydmVyT3B0aW9ucywgdHJhY2tJbnRlcmFjdGlvbiA9IF9hLnRyYWNrSW50ZXJhY3Rpb24sIHRyYWNrVmlldyA9IF9hLnRyYWNrVmlldywgcHJvcHMgPSBfX3Jlc3QoX2EsIFtcImZsYWdcIiwgXCJtYXRjaFwiLCBcImNoaWxkcmVuXCIsIFwiZmFsbGJhY2tcIiwgXCJ2aXNpYmlsaXR5T2JzZXJ2ZXJPcHRpb25zXCIsIFwidHJhY2tJbnRlcmFjdGlvblwiLCBcInRyYWNrVmlld1wiXSk7XHJcbiAgICB2YXIgcGF5bG9hZCA9IHVzZUZlYXR1cmVGbGFnUGF5bG9hZChmbGFnKTtcclxuICAgIHZhciB2YXJpYW50ID0gdXNlRmVhdHVyZUZsYWdWYXJpYW50S2V5KGZsYWcpO1xyXG4gICAgdmFyIHNob3VsZFRyYWNrSW50ZXJhY3Rpb24gPSB0cmFja0ludGVyYWN0aW9uICE9PSBudWxsICYmIHRyYWNrSW50ZXJhY3Rpb24gIT09IHZvaWQgMCA/IHRyYWNrSW50ZXJhY3Rpb24gOiB0cnVlO1xyXG4gICAgdmFyIHNob3VsZFRyYWNrVmlldyA9IHRyYWNrVmlldyAhPT0gbnVsbCAmJiB0cmFja1ZpZXcgIT09IHZvaWQgMCA/IHRyYWNrVmlldyA6IHRydWU7XHJcbiAgICBpZiAoaXNVbmRlZmluZWQobWF0Y2gpIHx8IHZhcmlhbnQgPT09IG1hdGNoKSB7XHJcbiAgICAgICAgdmFyIGNoaWxkTm9kZSA9IGlzRnVuY3Rpb24oY2hpbGRyZW4pID8gY2hpbGRyZW4ocGF5bG9hZCkgOiBjaGlsZHJlbjtcclxuICAgICAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoVmlzaWJpbGl0eUFuZENsaWNrVHJhY2tlcnMsIF9fYXNzaWduKHsgZmxhZzogZmxhZywgb3B0aW9uczogdmlzaWJpbGl0eU9ic2VydmVyT3B0aW9ucywgdHJhY2tJbnRlcmFjdGlvbjogc2hvdWxkVHJhY2tJbnRlcmFjdGlvbiwgdHJhY2tWaWV3OiBzaG91bGRUcmFja1ZpZXcgfSwgcHJvcHMpLCBjaGlsZE5vZGUpKTtcclxuICAgIH1cclxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCBmYWxsYmFjayk7XHJcbn1cclxuZnVuY3Rpb24gY2FwdHVyZUZlYXR1cmVJbnRlcmFjdGlvbihfYSkge1xyXG4gICAgdmFyIF9iO1xyXG4gICAgdmFyIGZsYWcgPSBfYS5mbGFnLCBwb3N0aG9nID0gX2EucG9zdGhvZywgZmxhZ1ZhcmlhbnQgPSBfYS5mbGFnVmFyaWFudDtcclxuICAgIHZhciBwcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIGZlYXR1cmVfZmxhZzogZmxhZyxcclxuICAgICAgICAkc2V0OiAoX2IgPSB7fSwgX2JbXCIkZmVhdHVyZV9pbnRlcmFjdGlvbi9cIi5jb25jYXQoZmxhZyldID0gZmxhZ1ZhcmlhbnQgIT09IG51bGwgJiYgZmxhZ1ZhcmlhbnQgIT09IHZvaWQgMCA/IGZsYWdWYXJpYW50IDogdHJ1ZSwgX2IpLFxyXG4gICAgfTtcclxuICAgIGlmICh0eXBlb2YgZmxhZ1ZhcmlhbnQgPT09ICdzdHJpbmcnKSB7XHJcbiAgICAgICAgcHJvcGVydGllcy5mZWF0dXJlX2ZsYWdfdmFyaWFudCA9IGZsYWdWYXJpYW50O1xyXG4gICAgfVxyXG4gICAgcG9zdGhvZy5jYXB0dXJlKCckZmVhdHVyZV9pbnRlcmFjdGlvbicsIHByb3BlcnRpZXMpO1xyXG59XHJcbmZ1bmN0aW9uIGNhcHR1cmVGZWF0dXJlVmlldyhfYSkge1xyXG4gICAgdmFyIF9iO1xyXG4gICAgdmFyIGZsYWcgPSBfYS5mbGFnLCBwb3N0aG9nID0gX2EucG9zdGhvZywgZmxhZ1ZhcmlhbnQgPSBfYS5mbGFnVmFyaWFudDtcclxuICAgIHZhciBwcm9wZXJ0aWVzID0ge1xyXG4gICAgICAgIGZlYXR1cmVfZmxhZzogZmxhZyxcclxuICAgICAgICAkc2V0OiAoX2IgPSB7fSwgX2JbXCIkZmVhdHVyZV92aWV3L1wiLmNvbmNhdChmbGFnKV0gPSBmbGFnVmFyaWFudCAhPT0gbnVsbCAmJiBmbGFnVmFyaWFudCAhPT0gdm9pZCAwID8gZmxhZ1ZhcmlhbnQgOiB0cnVlLCBfYiksXHJcbiAgICB9O1xyXG4gICAgaWYgKHR5cGVvZiBmbGFnVmFyaWFudCA9PT0gJ3N0cmluZycpIHtcclxuICAgICAgICBwcm9wZXJ0aWVzLmZlYXR1cmVfZmxhZ192YXJpYW50ID0gZmxhZ1ZhcmlhbnQ7XHJcbiAgICB9XHJcbiAgICBwb3N0aG9nLmNhcHR1cmUoJyRmZWF0dXJlX3ZpZXcnLCBwcm9wZXJ0aWVzKTtcclxufVxyXG5mdW5jdGlvbiBWaXNpYmlsaXR5QW5kQ2xpY2tUcmFja2VyKF9hKSB7XHJcbiAgICB2YXIgZmxhZyA9IF9hLmZsYWcsIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIG9uSW50ZXJzZWN0ID0gX2Eub25JbnRlcnNlY3QsIG9uQ2xpY2sgPSBfYS5vbkNsaWNrLCB0cmFja1ZpZXcgPSBfYS50cmFja1ZpZXcsIG9wdGlvbnMgPSBfYS5vcHRpb25zLCBwcm9wcyA9IF9fcmVzdChfYSwgW1wiZmxhZ1wiLCBcImNoaWxkcmVuXCIsIFwib25JbnRlcnNlY3RcIiwgXCJvbkNsaWNrXCIsIFwidHJhY2tWaWV3XCIsIFwib3B0aW9uc1wiXSk7XHJcbiAgICB2YXIgcmVmID0gdXNlUmVmKG51bGwpO1xyXG4gICAgdmFyIHBvc3Rob2cgPSB1c2VQb3N0SG9nKCk7XHJcbiAgICB1c2VFZmZlY3QoZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmIChpc051bGwocmVmLmN1cnJlbnQpIHx8ICF0cmFja1ZpZXcpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB2YXIgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoZnVuY3Rpb24gKF9hKSB7XHJcbiAgICAgICAgICAgIHZhciBlbnRyeSA9IF9hWzBdO1xyXG4gICAgICAgICAgICByZXR1cm4gb25JbnRlcnNlY3QoZW50cnkpO1xyXG4gICAgICAgIH0sIF9fYXNzaWduKHsgdGhyZXNob2xkOiAwLjEgfSwgb3B0aW9ucykpO1xyXG4gICAgICAgIG9ic2VydmVyLm9ic2VydmUocmVmLmN1cnJlbnQpO1xyXG4gICAgICAgIHJldHVybiBmdW5jdGlvbiAoKSB7IHJldHVybiBvYnNlcnZlci5kaXNjb25uZWN0KCk7IH07XHJcbiAgICB9LCBbZmxhZywgb3B0aW9ucywgcG9zdGhvZywgcmVmLCB0cmFja1ZpZXcsIG9uSW50ZXJzZWN0XSk7XHJcbiAgICByZXR1cm4gKFJlYWN0LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiwgX19hc3NpZ24oeyByZWY6IHJlZiB9LCBwcm9wcywgeyBvbkNsaWNrOiBvbkNsaWNrIH0pLCBjaGlsZHJlbikpO1xyXG59XHJcbmZ1bmN0aW9uIFZpc2liaWxpdHlBbmRDbGlja1RyYWNrZXJzKF9hKSB7XHJcbiAgICB2YXIgZmxhZyA9IF9hLmZsYWcsIGNoaWxkcmVuID0gX2EuY2hpbGRyZW4sIHRyYWNrSW50ZXJhY3Rpb24gPSBfYS50cmFja0ludGVyYWN0aW9uLCB0cmFja1ZpZXcgPSBfYS50cmFja1ZpZXcsIG9wdGlvbnMgPSBfYS5vcHRpb25zLCBwcm9wcyA9IF9fcmVzdChfYSwgW1wiZmxhZ1wiLCBcImNoaWxkcmVuXCIsIFwidHJhY2tJbnRlcmFjdGlvblwiLCBcInRyYWNrVmlld1wiLCBcIm9wdGlvbnNcIl0pO1xyXG4gICAgdmFyIGNsaWNrVHJhY2tlZFJlZiA9IHVzZVJlZihmYWxzZSk7XHJcbiAgICB2YXIgdmlzaWJpbGl0eVRyYWNrZWRSZWYgPSB1c2VSZWYoZmFsc2UpO1xyXG4gICAgdmFyIHBvc3Rob2cgPSB1c2VQb3N0SG9nKCk7XHJcbiAgICB2YXIgdmFyaWFudCA9IHVzZUZlYXR1cmVGbGFnVmFyaWFudEtleShmbGFnKTtcclxuICAgIHZhciBjYWNoZWRPbkNsaWNrID0gdXNlQ2FsbGJhY2soZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICghY2xpY2tUcmFja2VkUmVmLmN1cnJlbnQgJiYgdHJhY2tJbnRlcmFjdGlvbikge1xyXG4gICAgICAgICAgICBjYXB0dXJlRmVhdHVyZUludGVyYWN0aW9uKHsgZmxhZzogZmxhZywgcG9zdGhvZzogcG9zdGhvZywgZmxhZ1ZhcmlhbnQ6IHZhcmlhbnQgfSk7XHJcbiAgICAgICAgICAgIGNsaWNrVHJhY2tlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9LCBbZmxhZywgcG9zdGhvZywgdHJhY2tJbnRlcmFjdGlvbiwgdmFyaWFudF0pO1xyXG4gICAgdmFyIG9uSW50ZXJzZWN0ID0gZnVuY3Rpb24gKGVudHJ5KSB7XHJcbiAgICAgICAgaWYgKCF2aXNpYmlsaXR5VHJhY2tlZFJlZi5jdXJyZW50ICYmIGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XHJcbiAgICAgICAgICAgIGNhcHR1cmVGZWF0dXJlVmlldyh7IGZsYWc6IGZsYWcsIHBvc3Rob2c6IHBvc3Rob2csIGZsYWdWYXJpYW50OiB2YXJpYW50IH0pO1xyXG4gICAgICAgICAgICB2aXNpYmlsaXR5VHJhY2tlZFJlZi5jdXJyZW50ID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgdmFyIHRyYWNrZWRDaGlsZHJlbiA9IENoaWxkcmVuLm1hcChjaGlsZHJlbiwgZnVuY3Rpb24gKGNoaWxkKSB7XHJcbiAgICAgICAgcmV0dXJuIChSZWFjdC5jcmVhdGVFbGVtZW50KFZpc2liaWxpdHlBbmRDbGlja1RyYWNrZXIsIF9fYXNzaWduKHsgZmxhZzogZmxhZywgb25DbGljazogY2FjaGVkT25DbGljaywgb25JbnRlcnNlY3Q6IG9uSW50ZXJzZWN0LCB0cmFja1ZpZXc6IHRyYWNrVmlldywgb3B0aW9uczogb3B0aW9ucyB9LCBwcm9wcyksIGNoaWxkKSk7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJlYWN0LkZyYWdtZW50LCBudWxsLCB0cmFja2VkQ2hpbGRyZW4pO1xyXG59XG5cbmV4cG9ydCB7IFBvc3RIb2dDb250ZXh0LCBQb3N0SG9nRmVhdHVyZSwgUG9zdEhvZ1Byb3ZpZGVyLCB1c2VBY3RpdmVGZWF0dXJlRmxhZ3MsIHVzZUZlYXR1cmVGbGFnRW5hYmxlZCwgdXNlRmVhdHVyZUZsYWdQYXlsb2FkLCB1c2VGZWF0dXJlRmxhZ1ZhcmlhbnRLZXksIHVzZVBvc3RIb2cgfTtcbiJdLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOlswXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(ssr)/../../node_modules/posthog-js/react/dist/esm/index.js\n");

/***/ })

};
;